   1              		.syntax unified
   2              		.cpu cortex-r4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"flash.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.read_status,"ax",%progbits
  19              		.align	1
  20              		.thumb
  21              		.thumb_func
  23              	read_status:
  24              	.LFB3:
  25              		.file 1 "/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c"
   1:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*******************************************************************************
   2:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * Copyright (c) 2015, The LightCo
   3:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * All rights reserved.
   4:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * Redistribution and use in source and binary forms, with or without
   5:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * modification,are strictly prohibited without prior permission of The LightCo.
   6:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  *
   7:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * @file	flash.c
   8:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * @author	The LightCo
   9:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * @version	V1.0.0
  10:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * @date	Mar-10-2016
  11:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * @brief	This file contains definitions of the flash driver.
  12:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  *
  13:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  ******************************************************************************/
  14:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Includes ------------------------------------------------------------------*/
  15:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #include "assert.h"
  16:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #include "cortex_r4.h"
  17:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #include "std_type.h"
  18:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #include "flash.h"
  19:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
  20:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #include "os.h"
  21:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
  22:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Private define ------------------------------------------------------------*/
  23:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_RDID		0x9F
  24:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_RDSR		0x05
  25:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_WRSR		0x01
  26:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_WREN		0x06
  27:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_CE		0xC7
  28:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_SE		0xD8
  29:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_SSE		0x20
  30:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_GBULK		0x98
  31:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_READ		0x03
  32:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_PP		0x02
  33:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_4READ		0xEB
  34:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_4PP		0x32
  35:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_WIP_MASK		0x01
  36:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define FLASH_CMD_CLSR		0x50
  37:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
  38:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define BYTES_PER_READ		64
  39:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define BYTES_PER_WRITE		256
  40:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
  41:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define SECTOR_SIZE			0x00010000
  42:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define SUB_SECTOR_SIZE		0x00001000
  43:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
  44:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Private macro -------------------------------------------------------------*/
  45:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Qspi address */
  46:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #define QSPI_ADDR				((qspi_register_t *)(uint32_t)(QSPI_BASE))
  47:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Private typedef -----------------------------------------------------------*/
  48:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Private variables ---------------------------------------------------------*/
  49:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** qspi_transfer_cmd_t qspi_transfer_cmd;
  50:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
  51:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** static xSemaphoreHandle semaphore;
  52:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
  53:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Private function prototypes -----------------------------------------------*/
  54:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /* Private functions ---------------------------------------------------------*/
  55:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
  56:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
  57:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * flash_init
  58:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
  59:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** void flash_init(void)
  60:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
  61:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg	= QSPI_ADDR->TX_BUFF_REG;
  62:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg8	= QSPI_ADDR->TX_BUFF_REG8;
  63:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.rx_buff_reg	= QSPI_ADDR->RX_BUFF_REG;
  64:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.rx_buff_reg8	= QSPI_ADDR->RX_BUFF_REG8;
  65:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
  66:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if (semaphore == NULL)
  67:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
  68:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		semaphore = xSemaphoreCreateMutex();
  69:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		assert_param(semaphore);
  70:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
  71:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
  72:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
  73:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
  74:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
  75:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * read_id
  76:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
  77:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** uint32_t read_id(void)
  78:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
  79:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t chip_id;
  80:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
  81:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg);
  82:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
  83:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
  84:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
  85:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
  86:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreTake(semaphore, portMAX_DELAY);
  87:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
  88:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.spi_mode_reg = PIO1_GO_MODE;
  89:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
  90:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.cycle			= 32;
  91:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
  92:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en 	= FOUR_OUTPUTS;
  93:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
  94:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
  95:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en 	= FOUR_OUTPUTS;
  96:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
  97:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
  98:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
  99:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 100:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 101:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 102:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 103:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg[0] = (FLASH_CMD_RDID << 24);
 104:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 105:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	transfer_cmd(&qspi_transfer_cmd);
 106:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 107:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	chip_id = qspi_transfer_cmd.rx_buff_reg[0] & 0x00FFFFFF;
 108:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 109:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 110:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreGive(semaphore);
 111:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 112:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 113:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return chip_id;
 114:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 115:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 116:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 117:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * read_status
 118:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 119:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** static uint32_t read_status(void)
 120:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
  26              		.loc 1 120 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 38B5     		push	{r3, r4, r5, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 16
  33              		.cfi_offset 3, -16
  34              		.cfi_offset 4, -12
  35              		.cfi_offset 5, -8
  36              		.cfi_offset 14, -4
 121:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t status;
 122:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t wip;
 123:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 124:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 125:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg);
  37              		.loc 1 125 0
  38 0002 2A4C     		ldr	r4, .L11
  39 0004 236C     		ldr	r3, [r4, #64]
  40 0006 1BB9     		cbnz	r3, .L2
  41              		.loc 1 125 0 is_stmt 0 discriminator 1
  42 0008 2948     		ldr	r0, .L11+4
  43 000a 7D21     		movs	r1, #125
  44 000c 294B     		ldr	r3, .L11+8
  45 000e 9847     		blx	r3
  46              	.LVL0:
  47              	.L2:
 126:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
  48              		.loc 1 126 0 is_stmt 1
  49 0010 636C     		ldr	r3, [r4, #68]
  50 0012 1BB9     		cbnz	r3, .L3
  51              		.loc 1 126 0 is_stmt 0 discriminator 1
  52 0014 2648     		ldr	r0, .L11+4
  53 0016 7E21     		movs	r1, #126
  54 0018 264B     		ldr	r3, .L11+8
  55 001a 9847     		blx	r3
  56              	.LVL1:
  57              	.L3:
 127:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
  58              		.loc 1 127 0 is_stmt 1
  59 001c A36C     		ldr	r3, [r4, #72]
  60 001e 1BB9     		cbnz	r3, .L4
  61              		.loc 1 127 0 is_stmt 0 discriminator 1
  62 0020 2348     		ldr	r0, .L11+4
  63 0022 7F21     		movs	r1, #127
  64 0024 234B     		ldr	r3, .L11+8
  65 0026 9847     		blx	r3
  66              	.LVL2:
  67              	.L4:
 128:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
  68              		.loc 1 128 0 is_stmt 1
  69 0028 E36C     		ldr	r3, [r4, #76]
  70 002a 1BB9     		cbnz	r3, .L5
  71              		.loc 1 128 0 is_stmt 0 discriminator 1
  72 002c 2048     		ldr	r0, .L11+4
  73 002e 8021     		movs	r1, #128
  74 0030 204B     		ldr	r3, .L11+8
  75 0032 9847     		blx	r3
  76              	.LVL3:
  77              	.L5:
 129:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 130:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.spi_mode_reg = PIO1_GO_MODE;
 131:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 132:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.cycle			= 16;
  78              		.loc 1 132 0 is_stmt 1
  79 0034 1021     		movs	r1, #16
  80 0036 A288     		ldrh	r2, [r4, #4]
  81 0038 61F30902 		bfi	r2, r1, #0, #10
 130:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
  82              		.loc 1 130 0
  83 003c 0123     		movs	r3, #1
  84              		.loc 1 132 0
  85 003e A280     		strh	r2, [r4, #4]	@ movhi
 133:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
  86              		.loc 1 133 0
  87 0040 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
  88 0042 63F30202 		bfi	r2, r3, #0, #3
 134:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en 	= FOUR_OUTPUTS;
  89              		.loc 1 134 0
  90 0046 62F00F02 		orn	r2, r2, #15
 135:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 136:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 137:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en 	= FOUR_OUTPUTS;
 138:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 139:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
 140:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
 141:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 142:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 143:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 144:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 145:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg[0] = (FLASH_CMD_RDSR << 8);
 146:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 147:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	transfer_cmd(&qspi_transfer_cmd);
  91              		.loc 1 147 0
  92 004a 1848     		ldr	r0, .L11
 134:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en 	= FOUR_OUTPUTS;
  93              		.loc 1 134 0
  94 004c A271     		strb	r2, [r4, #6]
 135:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
  95              		.loc 1 135 0
  96 004e 2289     		ldrh	r2, [r4, #8]
  97 0050 6FF30902 		bfc	r2, #0, #10
  98              		.loc 1 147 0
  99 0054 184D     		ldr	r5, .L11+12
 135:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 100              		.loc 1 135 0
 101 0056 2281     		strh	r2, [r4, #8]	@ movhi
 136:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en 	= FOUR_OUTPUTS;
 102              		.loc 1 136 0
 103 0058 A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
 104 005a 63F30202 		bfi	r2, r3, #0, #3
 137:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 105              		.loc 1 137 0
 106 005e 62F00F02 		orn	r2, r2, #15
 130:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 107              		.loc 1 130 0
 108 0062 2380     		strh	r3, [r4]	@ movhi
 137:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 109              		.loc 1 137 0
 110 0064 A272     		strb	r2, [r4, #10]
 138:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
 111              		.loc 1 138 0
 112 0066 A289     		ldrh	r2, [r4, #12]
 113 0068 6FF30902 		bfc	r2, #0, #10
 114 006c A281     		strh	r2, [r4, #12]	@ movhi
 139:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
 115              		.loc 1 139 0
 116 006e A27B     		ldrb	r2, [r4, #14]	@ zero_extendqisi2
 117 0070 63F30202 		bfi	r2, r3, #0, #3
 140:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 118              		.loc 1 140 0
 119 0074 62F00F02 		orn	r2, r2, #15
 120 0078 A273     		strb	r2, [r4, #14]
 141:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 121              		.loc 1 141 0
 122 007a 228A     		ldrh	r2, [r4, #16]
 123 007c 6FF30902 		bfc	r2, #0, #10
 124 0080 2282     		strh	r2, [r4, #16]	@ movhi
 142:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 125              		.loc 1 142 0
 126 0082 A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 127 0084 63F30202 		bfi	r2, r3, #0, #3
 143:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 128              		.loc 1 143 0
 129 0088 62F00F02 		orn	r2, r2, #15
 145:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 130              		.loc 1 145 0
 131 008c 236C     		ldr	r3, [r4, #64]
 143:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 132              		.loc 1 143 0
 133 008e A274     		strb	r2, [r4, #18]
 145:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 134              		.loc 1 145 0
 135 0090 4FF4A062 		mov	r2, #1280
 136 0094 1A60     		str	r2, [r3]
 137              	.L8:
 148:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	status = qspi_transfer_cmd.rx_buff_reg[0];
 149:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	wip = status & 0x00000001;
 150:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 151:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	while(wip)
 152:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 153:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		transfer_cmd(&qspi_transfer_cmd);
 138              		.loc 1 153 0
 139 0096 A847     		blx	r5
 140              	.LVL4:
 154:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		status = qspi_transfer_cmd.rx_buff_reg[0];
 141              		.loc 1 154 0
 142 0098 A36C     		ldr	r3, [r4, #72]
 143 009a 1868     		ldr	r0, [r3]
 144              	.LVL5:
 155:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		wip = status & 0x00000001;
 145              		.loc 1 155 0
 146 009c 00F00103 		and	r3, r0, #1
 147              	.LVL6:
 151:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 148              		.loc 1 151 0
 149 00a0 0BB1     		cbz	r3, .L10
 153:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		status = qspi_transfer_cmd.rx_buff_reg[0];
 150              		.loc 1 153 0
 151 00a2 0248     		ldr	r0, .L11
 152 00a4 F7E7     		b	.L8
 153              	.L10:
 156:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 157:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return (status & 0x000000FF);
 158:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 154              		.loc 1 158 0
 155 00a6 C0B2     		uxtb	r0, r0
 156 00a8 38BD     		pop	{r3, r4, r5, pc}
 157              	.LVL7:
 158              	.L12:
 159 00aa 00BF     		.align	2
 160              	.L11:
 161 00ac 00000000 		.word	.LANCHOR0
 162 00b0 00000000 		.word	.LANCHOR1
 163 00b4 00000000 		.word	assert_failed
 164 00b8 00000000 		.word	transfer_cmd
 165              		.cfi_endproc
 166              	.LFE3:
 168              		.section	.text.is_flash_busy,"ax",%progbits
 169              		.align	1
 170              		.thumb
 171              		.thumb_func
 173              	is_flash_busy:
 174              	.LFB4:
 159:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 160:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 161:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * is_flash_busy
 162:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 163:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** static flash_status_t is_flash_busy(void)
 164:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 175              		.loc 1 164 0
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 0
 178              		@ frame_needed = 0, uses_anonymous_args = 0
 179 0000 08B5     		push	{r3, lr}
 180              	.LCFI1:
 181              		.cfi_def_cfa_offset 8
 182              		.cfi_offset 3, -8
 183              		.cfi_offset 14, -4
 165:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint8_t get_rdsr;
 166:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 167:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	get_rdsr = read_status();
 184              		.loc 1 167 0
 185 0002 044B     		ldr	r3, .L16
 186 0004 9847     		blx	r3
 187              	.LVL8:
 168:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if((get_rdsr & FLASH_WIP_MASK) == FLASH_WIP_MASK)
 188              		.loc 1 168 0
 189 0006 10F0010F 		tst	r0, #1
 169:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		return FLASH_BUSY;
 170:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	else
 171:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		return FLASH_SUCCESS;
 172:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 190              		.loc 1 172 0
 191 000a 14BF     		ite	ne
 192 000c 0120     		movne	r0, #1
 193              	.LVL9:
 194 000e 0220     		moveq	r0, #2
 195 0010 08BD     		pop	{r3, pc}
 196              	.L17:
 197 0012 00BF     		.align	2
 198              	.L16:
 199 0014 00000000 		.word	read_status
 200              		.cfi_endproc
 201              	.LFE4:
 203              		.section	.text.write_enable,"ax",%progbits
 204              		.align	1
 205              		.thumb
 206              		.thumb_func
 208              	write_enable:
 209              	.LFB5:
 173:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 174:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 175:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * write_enable
 176:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 177:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** static void write_enable(void)
 178:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 210              		.loc 1 178 0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214 0000 10B5     		push	{r4, lr}
 215              	.LCFI2:
 216              		.cfi_def_cfa_offset 8
 217              		.cfi_offset 4, -8
 218              		.cfi_offset 14, -4
 179:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t tmp;
 180:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 181:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 182:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg);
 219              		.loc 1 182 0
 220 0002 274C     		ldr	r4, .L26
 221 0004 236C     		ldr	r3, [r4, #64]
 222 0006 1BB9     		cbnz	r3, .L19
 223              		.loc 1 182 0 is_stmt 0 discriminator 1
 224 0008 2648     		ldr	r0, .L26+4
 225 000a B621     		movs	r1, #182
 226 000c 264B     		ldr	r3, .L26+8
 227 000e 9847     		blx	r3
 228              	.LVL10:
 229              	.L19:
 183:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 230              		.loc 1 183 0 is_stmt 1
 231 0010 636C     		ldr	r3, [r4, #68]
 232 0012 1BB9     		cbnz	r3, .L20
 233              		.loc 1 183 0 is_stmt 0 discriminator 1
 234 0014 2348     		ldr	r0, .L26+4
 235 0016 B721     		movs	r1, #183
 236 0018 234B     		ldr	r3, .L26+8
 237 001a 9847     		blx	r3
 238              	.LVL11:
 239              	.L20:
 184:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 240              		.loc 1 184 0 is_stmt 1
 241 001c A36C     		ldr	r3, [r4, #72]
 242 001e 1BB9     		cbnz	r3, .L21
 243              		.loc 1 184 0 is_stmt 0 discriminator 1
 244 0020 2048     		ldr	r0, .L26+4
 245 0022 B821     		movs	r1, #184
 246 0024 204B     		ldr	r3, .L26+8
 247 0026 9847     		blx	r3
 248              	.LVL12:
 249              	.L21:
 185:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 250              		.loc 1 185 0 is_stmt 1
 251 0028 E36C     		ldr	r3, [r4, #76]
 252 002a 1BB9     		cbnz	r3, .L22
 253              		.loc 1 185 0 is_stmt 0 discriminator 1
 254 002c 1D48     		ldr	r0, .L26+4
 255 002e B921     		movs	r1, #185
 256 0030 1D4B     		ldr	r3, .L26+8
 257 0032 9847     		blx	r3
 258              	.LVL13:
 259              	.L22:
 186:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 187:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.spi_mode_reg = PIO1_GO_MODE;
 188:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 189:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.cycle			= 8;
 260              		.loc 1 189 0 is_stmt 1
 261 0034 0821     		movs	r1, #8
 262 0036 A288     		ldrh	r2, [r4, #4]
 263 0038 61F30902 		bfi	r2, r1, #0, #10
 187:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 264              		.loc 1 187 0
 265 003c 0123     		movs	r3, #1
 266              		.loc 1 189 0
 267 003e A280     		strh	r2, [r4, #4]	@ movhi
 190:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
 268              		.loc 1 190 0
 269 0040 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 270 0042 63F30202 		bfi	r2, r3, #0, #3
 191:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en 	= FOUR_OUTPUTS;
 271              		.loc 1 191 0
 272 0046 62F00F02 		orn	r2, r2, #15
 187:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 273              		.loc 1 187 0
 274 004a 2380     		strh	r3, [r4]	@ movhi
 275              		.loc 1 191 0
 276 004c A271     		strb	r2, [r4, #6]
 192:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 277              		.loc 1 192 0
 278 004e 2289     		ldrh	r2, [r4, #8]
 279 0050 6FF30902 		bfc	r2, #0, #10
 193:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 194:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en 	= FOUR_OUTPUTS;
 195:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 196:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
 197:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
 198:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 199:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 200:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 201:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 202:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg[0] = FLASH_CMD_WREN;
 203:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 204:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	transfer_cmd(&qspi_transfer_cmd);
 280              		.loc 1 204 0
 281 0054 1248     		ldr	r0, .L26
 192:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 282              		.loc 1 192 0
 283 0056 2281     		strh	r2, [r4, #8]	@ movhi
 193:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 284              		.loc 1 193 0
 285 0058 A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
 286 005a 63F30202 		bfi	r2, r3, #0, #3
 194:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 287              		.loc 1 194 0
 288 005e 62F00F02 		orn	r2, r2, #15
 289 0062 A272     		strb	r2, [r4, #10]
 195:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
 290              		.loc 1 195 0
 291 0064 A289     		ldrh	r2, [r4, #12]
 292 0066 6FF30902 		bfc	r2, #0, #10
 293 006a A281     		strh	r2, [r4, #12]	@ movhi
 196:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
 294              		.loc 1 196 0
 295 006c A27B     		ldrb	r2, [r4, #14]	@ zero_extendqisi2
 296 006e 63F30202 		bfi	r2, r3, #0, #3
 197:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 297              		.loc 1 197 0
 298 0072 62F00F02 		orn	r2, r2, #15
 299 0076 A273     		strb	r2, [r4, #14]
 198:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 300              		.loc 1 198 0
 301 0078 228A     		ldrh	r2, [r4, #16]
 302 007a 6FF30902 		bfc	r2, #0, #10
 303 007e 2282     		strh	r2, [r4, #16]	@ movhi
 199:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 304              		.loc 1 199 0
 305 0080 A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 306 0082 63F30202 		bfi	r2, r3, #0, #3
 200:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 307              		.loc 1 200 0
 308 0086 62F00F02 		orn	r2, r2, #15
 202:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 309              		.loc 1 202 0
 310 008a 236C     		ldr	r3, [r4, #64]
 200:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 311              		.loc 1 200 0
 312 008c A274     		strb	r2, [r4, #18]
 202:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 313              		.loc 1 202 0
 314 008e 0622     		movs	r2, #6
 315 0090 1A60     		str	r2, [r3]
 316              		.loc 1 204 0
 317 0092 064B     		ldr	r3, .L26+12
 318 0094 9847     		blx	r3
 319              	.LVL14:
 320              	.L23:
 205:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 206:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	do
 207:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 208:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		tmp = read_status();
 321              		.loc 1 208 0 discriminator 1
 322 0096 064B     		ldr	r3, .L26+16
 323 0098 9847     		blx	r3
 324              	.LVL15:
 209:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	} while((tmp & 0x02) == 0);
 325              		.loc 1 209 0 discriminator 1
 326 009a 8307     		lsls	r3, r0, #30
 327 009c FBD5     		bpl	.L23
 210:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 328              		.loc 1 210 0
 329 009e 10BD     		pop	{r4, pc}
 330              	.L27:
 331              		.align	2
 332              	.L26:
 333 00a0 00000000 		.word	.LANCHOR0
 334 00a4 00000000 		.word	.LANCHOR2
 335 00a8 00000000 		.word	assert_failed
 336 00ac 00000000 		.word	transfer_cmd
 337 00b0 00000000 		.word	read_status
 338              		.cfi_endproc
 339              	.LFE5:
 341              		.section	.text.cmd_read,"ax",%progbits
 342              		.align	1
 343              		.thumb
 344              		.thumb_func
 346              	cmd_read:
 347              	.LFB8:
 211:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 212:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 213:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * bulk_erase
 214:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 215:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** flash_status_t bulk_erase(void)
 216:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 217:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 218:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg);
 219:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 220:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 221:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 222:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 223:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 224:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreTake(semaphore, portMAX_DELAY);
 225:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 226:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(is_flash_busy() == FLASH_BUSY)
 227:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 228:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 229:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		xSemaphoreGive(semaphore);
 230:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 231:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		return FLASH_BUSY;
 232:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 233:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 234:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	write_enable();
 235:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 236:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.spi_mode_reg = PIO1_GO_MODE;
 237:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 238:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.cycle			= 8;
 239:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
 240:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en 	= FOUR_OUTPUTS;
 241:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 242:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 243:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en 	= FOUR_OUTPUTS;
 244:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 245:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
 246:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
 247:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 248:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 249:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 250:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 251:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg[0] = FLASH_CMD_CE;
 252:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 253:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	transfer_cmd(&qspi_transfer_cmd);
 254:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 255:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	read_status();
 256:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 257:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreGive(semaphore);
 258:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 259:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 260:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 261:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 262:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 263:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 264:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * sector_erase
 265:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 266:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** static flash_status_t sector_erase(uint32_t flash_addr, uint32_t cmd)
 267:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 268:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 269:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg);
 270:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 271:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 272:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 273:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 274:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(is_flash_busy() == FLASH_BUSY)
 275:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		return FLASH_BUSY;
 276:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 277:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	write_enable();
 278:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 279:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.spi_mode_reg = PIO1_GO_MODE;
 280:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 281:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.cycle			= 32;
 282:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes		= ONE_LANE;
 283:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en	= FOUR_OUTPUTS;
 284:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 285:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes		= ONE_LANE;
 286:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en	= FOUR_OUTPUTS;
 287:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 288:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes		= ONE_LANE;
 289:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en	= FOUR_OUTPUTS;
 290:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 291:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes		= ONE_LANE;
 292:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en	= FOUR_OUTPUTS;
 293:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 294:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg[0] = (cmd << 24) | \
 295:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			(flash_addr & 0x00FFFFFF);
 296:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 297:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	transfer_cmd(&qspi_transfer_cmd);
 298:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 299:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	read_status();
 300:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 301:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 302:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 303:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 304:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 305:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * cmd_read
 306:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 307:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** static flash_status_t cmd_read(uint32_t flash_addr, uint8_t *target_addr,\
 308:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		uint32_t byte_length, qspi_mode_t qmode)
 309:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 348              		.loc 1 309 0
 349              		.cfi_startproc
 350              		@ args = 0, pretend = 0, frame = 0
 351              		@ frame_needed = 0, uses_anonymous_args = 0
 352              	.LVL16:
 353 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 354              	.LCFI3:
 355              		.cfi_def_cfa_offset 40
 356              		.cfi_offset 3, -40
 357              		.cfi_offset 4, -36
 358              		.cfi_offset 5, -32
 359              		.cfi_offset 6, -28
 360              		.cfi_offset 7, -24
 361              		.cfi_offset 8, -20
 362              		.cfi_offset 9, -16
 363              		.cfi_offset 10, -12
 364              		.cfi_offset 11, -8
 365              		.cfi_offset 14, -4
 310:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t i, cycle, cycle_rem, tmp;
 311:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	int j;
 312:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 313:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 314:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg);
 366              		.loc 1 314 0
 367 0004 8D4D     		ldr	r5, .L60
 309:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t i, cycle, cycle_rem, tmp;
 368              		.loc 1 309 0
 369 0006 1F46     		mov	r7, r3
 370 0008 0446     		mov	r4, r0
 371 000a 8A46     		mov	r10, r1
 372 000c 1646     		mov	r6, r2
 373              		.loc 1 314 0
 374 000e 2B6C     		ldr	r3, [r5, #64]
 375              	.LVL17:
 376 0010 23B9     		cbnz	r3, .L29
 377              		.loc 1 314 0 is_stmt 0 discriminator 1
 378 0012 8B48     		ldr	r0, .L60+4
 379              	.LVL18:
 380 0014 4FF49D71 		mov	r1, #314
 381              	.LVL19:
 382 0018 8A4B     		ldr	r3, .L60+8
 383 001a 9847     		blx	r3
 384              	.LVL20:
 385              	.L29:
 315:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 386              		.loc 1 315 0 is_stmt 1
 387 001c 6B6C     		ldr	r3, [r5, #68]
 388 001e 23B9     		cbnz	r3, .L30
 389              		.loc 1 315 0 is_stmt 0 discriminator 1
 390 0020 8748     		ldr	r0, .L60+4
 391 0022 40F23B11 		movw	r1, #315
 392 0026 874B     		ldr	r3, .L60+8
 393 0028 9847     		blx	r3
 394              	.LVL21:
 395              	.L30:
 316:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 396              		.loc 1 316 0 is_stmt 1
 397 002a AB6C     		ldr	r3, [r5, #72]
 398 002c 23B9     		cbnz	r3, .L31
 399              		.loc 1 316 0 is_stmt 0 discriminator 1
 400 002e 8448     		ldr	r0, .L60+4
 401 0030 4FF49E71 		mov	r1, #316
 402 0034 834B     		ldr	r3, .L60+8
 403 0036 9847     		blx	r3
 404              	.LVL22:
 405              	.L31:
 317:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 406              		.loc 1 317 0 is_stmt 1
 407 0038 EB6C     		ldr	r3, [r5, #76]
 408 003a 23B9     		cbnz	r3, .L32
 409              		.loc 1 317 0 is_stmt 0 discriminator 1
 410 003c 8048     		ldr	r0, .L60+4
 411 003e 40F23D11 		movw	r1, #317
 412 0042 804B     		ldr	r3, .L60+8
 413 0044 9847     		blx	r3
 414              	.LVL23:
 415              	.L32:
 318:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 319:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(qmode == QSPI_MODE)
 416              		.loc 1 319 0 is_stmt 1
 417 0046 012F     		cmp	r7, #1
 418 0048 95F806E0 		ldrb	lr, [r5, #6]	@ zero_extendqisi2
 320:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		byte_length += 2;
 321:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	cycle = byte_length >> 2;
 322:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	cycle_rem = byte_length % 4;
 323:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 324:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.spi_mode_reg = PIO1_GO_MODE;
 419              		.loc 1 324 0
 420 004c 4FF00100 		mov	r0, #1
 421 0050 A97A     		ldrb	r1, [r5, #10]	@ zero_extendqisi2
 320:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		byte_length += 2;
 422              		.loc 1 320 0
 423 0052 08BF     		it	eq
 424 0054 0236     		addeq	r6, r6, #2
 425              	.LVL24:
 426 0056 AA7B     		ldrb	r2, [r5, #14]	@ zero_extendqisi2
 325:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 326:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(qmode == QSPI_MODE)
 427              		.loc 1 326 0
 428 0058 8742     		cmp	r7, r0
 321:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	cycle_rem = byte_length % 4;
 429              		.loc 1 321 0
 430 005a 4FEA9608 		lsr	r8, r6, #2
 431              	.LVL25:
 322:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 432              		.loc 1 322 0
 433 005e 06F00309 		and	r9, r6, #3
 434              	.LVL26:
 324:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 435              		.loc 1 324 0
 436 0062 764B     		ldr	r3, .L60
 437 0064 2880     		strh	r0, [r5]	@ movhi
 438              		.loc 1 326 0
 439 0066 2BD1     		bne	.L34
 327:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 328:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.cycle		 = 8;
 329:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 440              		.loc 1 329 0
 441 0068 67F3020E 		bfi	lr, r7, #0, #3
 328:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 442              		.loc 1 328 0
 443 006c 9888     		ldrh	r0, [r3, #4]
 330:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en = FOUR_OUTPUTS;
 444              		.loc 1 330 0
 445 006e 6EF00F0E 		orn	lr, lr, #15
 328:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 446              		.loc 1 328 0
 447 0072 4FF0080C 		mov	ip, #8
 448 0076 6CF30900 		bfi	r0, ip, #0, #10
 449              		.loc 1 330 0
 450 007a 83F806E0 		strb	lr, [r3, #6]
 331:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle		 = 6;
 451              		.loc 1 331 0
 452 007e 4FF0060E 		mov	lr, #6
 328:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 453              		.loc 1 328 0
 454 0082 9880     		strh	r0, [r3, #4]	@ movhi
 455              		.loc 1 331 0
 456 0084 1889     		ldrh	r0, [r3, #8]
 457 0086 6EF30900 		bfi	r0, lr, #0, #10
 458 008a 1881     		strh	r0, [r3, #8]	@ movhi
 332:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes	 = FOUR_LANES;
 459              		.loc 1 332 0
 460 008c 0420     		movs	r0, #4
 461 008e 60F30201 		bfi	r1, r0, #0, #3
 333:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en = FOUR_OUTPUTS;
 462              		.loc 1 333 0
 463 0092 61F00F01 		orn	r1, r1, #15
 334:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle		 = 6;
 335:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes	 = FOUR_LANES;
 464              		.loc 1 335 0
 465 0096 60F30202 		bfi	r2, r0, #0, #3
 336:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en = FOUR_OUTPUTS;
 466              		.loc 1 336 0
 467 009a 62F00F02 		orn	r2, r2, #15
 333:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en = FOUR_OUTPUTS;
 468              		.loc 1 333 0
 469 009e 9972     		strb	r1, [r3, #10]
 334:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle		 = 6;
 470              		.loc 1 334 0
 471 00a0 9989     		ldrh	r1, [r3, #12]
 472 00a2 6EF30901 		bfi	r1, lr, #0, #10
 473              		.loc 1 336 0
 474 00a6 9A73     		strb	r2, [r3, #14]
 337:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle		 = \
 475              		.loc 1 337 0
 476 00a8 7200     		lsls	r2, r6, #1
 334:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle		 = 6;
 477              		.loc 1 334 0
 478 00aa 9981     		strh	r1, [r3, #12]	@ movhi
 479              		.loc 1 337 0
 480 00ac 198A     		ldrh	r1, [r3, #16]
 481 00ae 62F30901 		bfi	r1, r2, #0, #10
 338:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 															(byte_length << 1);
 339:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes	 = FOUR_LANES;
 482              		.loc 1 339 0
 483 00b2 9A7C     		ldrb	r2, [r3, #18]	@ zero_extendqisi2
 484 00b4 60F30202 		bfi	r2, r0, #0, #3
 337:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle		 = \
 485              		.loc 1 337 0
 486 00b8 1982     		strh	r1, [r3, #16]	@ movhi
 340:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en = NO_OUTPUT;
 487              		.loc 1 340 0
 488 00ba 6FF30712 		bfc	r2, #4, #4
 489 00be 2EE0     		b	.L57
 490              	.L34:
 341:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 342:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	else
 343:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 344:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.cycle		 = 32;
 345:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 346:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en = FOUR_OUTPUTS;
 347:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle		 = \
 348:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 																8 * byte_length;
 349:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes	 = ONE_LANE;
 350:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en = FOUR_OUTPUTS;
 351:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle		 = 0;
 352:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes	 = ONE_LANE;
 491              		.loc 1 352 0
 492 00c0 60F30202 		bfi	r2, r0, #0, #3
 344:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 493              		.loc 1 344 0
 494 00c4 B3F804C0 		ldrh	ip, [r3, #4]
 353:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en = FOUR_OUTPUTS;
 495              		.loc 1 353 0
 496 00c8 62F00F02 		orn	r2, r2, #15
 345:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en = FOUR_OUTPUTS;
 497              		.loc 1 345 0
 498 00cc 60F3020E 		bfi	lr, r0, #0, #3
 346:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle		 = \
 499              		.loc 1 346 0
 500 00d0 6EF00F0E 		orn	lr, lr, #15
 344:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 501              		.loc 1 344 0
 502 00d4 4FF0200B 		mov	fp, #32
 349:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en = FOUR_OUTPUTS;
 503              		.loc 1 349 0
 504 00d8 60F30201 		bfi	r1, r0, #0, #3
 505              		.loc 1 353 0
 506 00dc 9A73     		strb	r2, [r3, #14]
 354:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle		 = 0;
 507              		.loc 1 354 0
 508 00de 1A8A     		ldrh	r2, [r3, #16]
 509 00e0 6FF30902 		bfc	r2, #0, #10
 344:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 510              		.loc 1 344 0
 511 00e4 6BF3090C 		bfi	ip, fp, #0, #10
 350:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle		 = 0;
 512              		.loc 1 350 0
 513 00e8 61F00F01 		orn	r1, r1, #15
 346:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle		 = \
 514              		.loc 1 346 0
 515 00ec 83F806E0 		strb	lr, [r3, #6]
 347:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 																8 * byte_length;
 516              		.loc 1 347 0
 517 00f0 4FEAC60E 		lsl	lr, r6, #3
 518 00f4 0EF47E7E 		and	lr, lr, #1016
 519              		.loc 1 354 0
 520 00f8 1A82     		strh	r2, [r3, #16]	@ movhi
 355:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes	 = ONE_LANE;
 521              		.loc 1 355 0
 522 00fa 9A7C     		ldrb	r2, [r3, #18]	@ zero_extendqisi2
 523 00fc 60F30202 		bfi	r2, r0, #0, #3
 344:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes	 = ONE_LANE;
 524              		.loc 1 344 0
 525 0100 A3F804C0 		strh	ip, [r3, #4]	@ movhi
 356:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en = FOUR_OUTPUTS;
 526              		.loc 1 356 0
 527 0104 62F00F02 		orn	r2, r2, #15
 347:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 																8 * byte_length;
 528              		.loc 1 347 0
 529 0108 B3F808C0 		ldrh	ip, [r3, #8]
 350:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle		 = 0;
 530              		.loc 1 350 0
 531 010c 9972     		strb	r1, [r3, #10]
 347:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 																8 * byte_length;
 532              		.loc 1 347 0
 533 010e 6EF3090C 		bfi	ip, lr, #0, #10
 351:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes	 = ONE_LANE;
 534              		.loc 1 351 0
 535 0112 9989     		ldrh	r1, [r3, #12]
 536 0114 6FF30901 		bfc	r1, #0, #10
 347:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 																8 * byte_length;
 537              		.loc 1 347 0
 538 0118 A3F808C0 		strh	ip, [r3, #8]	@ movhi
 351:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes	 = ONE_LANE;
 539              		.loc 1 351 0
 540 011c 9981     		strh	r1, [r3, #12]	@ movhi
 541              	.L57:
 542              		.loc 1 356 0
 543 011e 9A74     		strb	r2, [r3, #18]
 544 0120 4FEA8803 		lsl	r3, r8, #2
 357:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 358:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 359:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	for(i = 0; i < cycle; i++)
 360:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 361:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.tx_buff_reg[i] = 0;
 545              		.loc 1 361 0
 546 0124 2A6C     		ldr	r2, [r5, #64]
 547 0126 D118     		adds	r1, r2, r3
 548              	.L36:
 359:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 549              		.loc 1 359 0 discriminator 1
 550 0128 8A42     		cmp	r2, r1
 551 012a 03D0     		beq	.L59
 552              		.loc 1 361 0 discriminator 3
 553 012c 0020     		movs	r0, #0
 554 012e 42F8040B 		str	r0, [r2], #4
 555 0132 F9E7     		b	.L36
 556              	.L59:
 362:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 363:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 364:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	switch(cycle_rem)
 557              		.loc 1 364 0
 558 0134 B9F1020F 		cmp	r9, #2
 365:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 366:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		case 0:
 367:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			if(qmode == QSPI_MODE)
 368:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 369:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] = flash_addr << 24;
 370:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 371:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 					(FLASH_CMD_4READ << 16) | ((flash_addr >> 8) & 0x0000FFFF);
 372:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 373:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			else
 374:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 375:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] = (FLASH_CMD_READ << 24) |\
 376:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				(flash_addr & 0x00FFFFFF);
 377:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 378:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		break;
 379:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 380:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		case 1:
 381:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			if(qmode == QSPI_MODE)
 382:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 383:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] = 0x00000000;
 384:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 385:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(FLASH_CMD_4READ << 24) | (flash_addr & 0x00FFFFFF);
 386:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 387:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			else
 388:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 389:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] = \
 390:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(flash_addr << 8) & 0xFFFFFF00;
 391:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 392:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						FLASH_CMD_READ;
 393:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 394:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		break;
 395:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 396:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		case 2:
 397:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			if(qmode == QSPI_MODE)
 398:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 399:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] = 0x00000000;
 559              		.loc 1 399 0
 560 0138 2A6C     		ldr	r2, [r5, #64]
 364:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 561              		.loc 1 364 0
 562 013a 28D0     		beq	.L39
 563 013c B9F1030F 		cmp	r9, #3
 564 0140 39D0     		beq	.L40
 565 0142 B9F1010F 		cmp	r9, #1
 566 0146 10D0     		beq	.L41
 367:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 567              		.loc 1 367 0
 568 0148 012F     		cmp	r7, #1
 569 014a 08D1     		bne	.L42
 369:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 570              		.loc 1 369 0
 571 014c 2106     		lsls	r1, r4, #24
 371:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 572              		.loc 1 371 0
 573 014e C4F30F24 		ubfx	r4, r4, #8, #16
 574              	.LVL27:
 369:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 575              		.loc 1 369 0
 576 0152 D150     		str	r1, [r2, r3]
 371:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 577              		.loc 1 371 0
 578 0154 44F46B04 		orr	r4, r4, #15400960
 370:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 					(FLASH_CMD_4READ << 16) | ((flash_addr >> 8) & 0x0000FFFF);
 579              		.loc 1 370 0
 580 0158 6A6C     		ldr	r2, [r5, #68]
 581 015a 1344     		add	r3, r3, r2
 582 015c 41E0     		b	.L58
 583              	.LVL28:
 584              	.L42:
 376:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 585              		.loc 1 376 0
 586 015e 24F07F44 		bic	r4, r4, #-16777216
 587              	.LVL29:
 375:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				(flash_addr & 0x00FFFFFF);
 588              		.loc 1 375 0
 589 0162 44F04074 		orr	r4, r4, #50331648
 590 0166 D450     		str	r4, [r2, r3]
 591 0168 3CE0     		b	.L43
 592              	.LVL30:
 593              	.L41:
 381:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 594              		.loc 1 381 0
 595 016a 012F     		cmp	r7, #1
 596 016c 08D1     		bne	.L44
 383:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 597              		.loc 1 383 0
 598 016e 0021     		movs	r1, #0
 385:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 599              		.loc 1 385 0
 600 0170 24F07F44 		bic	r4, r4, #-16777216
 601              	.LVL31:
 383:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 602              		.loc 1 383 0
 603 0174 D150     		str	r1, [r2, r3]
 385:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 604              		.loc 1 385 0
 605 0176 44F06B44 		orr	r4, r4, #-352321536
 384:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(FLASH_CMD_4READ << 24) | (flash_addr & 0x00FFFFFF);
 606              		.loc 1 384 0
 607 017a 6A6C     		ldr	r2, [r5, #68]
 608 017c 1344     		add	r3, r3, r2
 609 017e 30E0     		b	.L58
 610              	.LVL32:
 611              	.L44:
 390:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 612              		.loc 1 390 0
 613 0180 2402     		lsls	r4, r4, #8
 614              	.LVL33:
 389:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(flash_addr << 8) & 0xFFFFFF00;
 615              		.loc 1 389 0
 616 0182 D450     		str	r4, [r2, r3]
 391:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						FLASH_CMD_READ;
 617              		.loc 1 391 0
 618 0184 6A6C     		ldr	r2, [r5, #68]
 619 0186 1344     		add	r3, r3, r2
 620 0188 0322     		movs	r2, #3
 621 018a 5A60     		str	r2, [r3, #4]
 622 018c 2AE0     		b	.L43
 623              	.LVL34:
 624              	.L39:
 397:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 625              		.loc 1 397 0
 626 018e 012F     		cmp	r7, #1
 627 0190 08D1     		bne	.L45
 628              		.loc 1 399 0
 629 0192 0021     		movs	r1, #0
 400:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 401:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						flash_addr << 8;
 630              		.loc 1 401 0
 631 0194 2402     		lsls	r4, r4, #8
 632              	.LVL35:
 399:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 633              		.loc 1 399 0
 634 0196 D150     		str	r1, [r2, r3]
 400:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 635              		.loc 1 400 0
 636 0198 6A6C     		ldr	r2, [r5, #68]
 637 019a 1344     		add	r3, r3, r2
 402:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 2) * 4)) =\
 638              		.loc 1 402 0
 639 019c EB22     		movs	r2, #235
 400:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 640              		.loc 1 400 0
 641 019e 5C60     		str	r4, [r3, #4]
 642              		.loc 1 402 0
 643 01a0 9A60     		str	r2, [r3, #8]
 644 01a2 1FE0     		b	.L43
 645              	.LVL36:
 646              	.L45:
 403:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						FLASH_CMD_4READ;
 404:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 405:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			else
 406:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 407:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] =\
 408:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(flash_addr << 16) & 0xFFFF0000;
 647              		.loc 1 408 0
 648 01a4 2104     		lsls	r1, r4, #16
 409:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 410:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 					(FLASH_CMD_READ << 8) | ((flash_addr >> 16) & 0x000000FF);
 649              		.loc 1 410 0
 650 01a6 C4F30744 		ubfx	r4, r4, #16, #8
 651              	.LVL37:
 407:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(flash_addr << 16) & 0xFFFF0000;
 652              		.loc 1 407 0
 653 01aa D150     		str	r1, [r2, r3]
 654              		.loc 1 410 0
 655 01ac 44F44074 		orr	r4, r4, #768
 409:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 656              		.loc 1 409 0
 657 01b0 6A6C     		ldr	r2, [r5, #68]
 658 01b2 1344     		add	r3, r3, r2
 659 01b4 15E0     		b	.L58
 660              	.LVL38:
 661              	.L40:
 411:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 412:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		break;
 413:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 414:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		case 3:
 415:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			if(qmode == QSPI_MODE)
 662              		.loc 1 415 0
 663 01b6 012F     		cmp	r7, #1
 664 01b8 0BD1     		bne	.L46
 416:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 417:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] = 0x00000000;
 665              		.loc 1 417 0
 666 01ba 0021     		movs	r1, #0
 667 01bc D150     		str	r1, [r2, r3]
 418:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 668              		.loc 1 418 0
 669 01be 6A6C     		ldr	r2, [r5, #68]
 670 01c0 1344     		add	r3, r3, r2
 419:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						flash_addr << 16;
 671              		.loc 1 419 0
 672 01c2 2204     		lsls	r2, r4, #16
 420:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 2) * 4)) =\
 421:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 					(FLASH_CMD_4READ << 8) | ((flash_addr >> 16) & 0x000000FF);
 673              		.loc 1 421 0
 674 01c4 C4F30744 		ubfx	r4, r4, #16, #8
 675              	.LVL39:
 676 01c8 44F46B44 		orr	r4, r4, #60160
 418:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						flash_addr << 16;
 677              		.loc 1 418 0
 678 01cc 5A60     		str	r2, [r3, #4]
 420:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 2) * 4)) =\
 679              		.loc 1 420 0
 680 01ce 9C60     		str	r4, [r3, #8]
 681 01d0 08E0     		b	.L43
 682              	.LVL40:
 683              	.L46:
 422:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 423:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			else
 424:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			{
 425:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				qspi_transfer_cmd.tx_buff_reg[i] = \
 426:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(flash_addr << 24) & 0xFF000000;
 684              		.loc 1 426 0
 685 01d2 2106     		lsls	r1, r4, #24
 427:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 428:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 					(FLASH_CMD_READ << 16) | ((flash_addr >> 8) & 0x0000FFFF);
 686              		.loc 1 428 0
 687 01d4 C4F30F24 		ubfx	r4, r4, #8, #16
 688              	.LVL41:
 425:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 						(flash_addr << 24) & 0xFF000000;
 689              		.loc 1 425 0
 690 01d8 D150     		str	r1, [r2, r3]
 691              		.loc 1 428 0
 692 01da 44F44034 		orr	r4, r4, #196608
 427:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				*((uint32_t *)(qspi_transfer_cmd.tx_buff_reg8 + (i + 1) * 4)) =\
 693              		.loc 1 427 0
 694 01de 6A6C     		ldr	r2, [r5, #68]
 695 01e0 1344     		add	r3, r3, r2
 696              	.L58:
 697 01e2 5C60     		str	r4, [r3, #4]
 698              	.L43:
 429:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			}
 430:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		break;
 431:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 432:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 433:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	transfer_cmd(&qspi_transfer_cmd);
 699              		.loc 1 433 0
 700 01e4 1548     		ldr	r0, .L60
 701 01e6 184B     		ldr	r3, .L60+12
 702 01e8 9847     		blx	r3
 703              	.LVL42:
 434:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 435:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(cycle_rem)
 704              		.loc 1 435 0
 705 01ea B9F1000F 		cmp	r9, #0
 706 01ee 01D0     		beq	.L47
 436:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		cycle++;
 707              		.loc 1 436 0
 708 01f0 08F10108 		add	r8, r8, #1
 709              	.LVL43:
 710              	.L47:
 437:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 438:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(qmode == QSPI_MODE)
 711              		.loc 1 438 0
 712 01f4 012F     		cmp	r7, #1
 439:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		byte_length -= 2;
 713              		.loc 1 439 0
 714 01f6 08BF     		it	eq
 715 01f8 023E     		subeq	r6, r6, #2
 716              	.LVL44:
 440:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	j = byte_length - 1;
 717              		.loc 1 440 0
 718 01fa 731E     		subs	r3, r6, #1
 719              	.LVL45:
 441:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	for(i = 0; i < cycle; i++)
 720              		.loc 1 441 0
 721 01fc 0021     		movs	r1, #0
 722 01fe 5644     		add	r6, r6, r10
 723              	.LVL46:
 724              	.L49:
 725              		.loc 1 441 0 is_stmt 0 discriminator 1
 726 0200 4145     		cmp	r1, r8
 727 0202 17D0     		beq	.L55
 442:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 443:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		tmp = qspi_transfer_cmd.rx_buff_reg[i];
 728              		.loc 1 443 0 is_stmt 1
 729 0204 AA6C     		ldr	r2, [r5, #72]
 444:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 445:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		target_addr[j] = (uint8_t)(tmp & 0x000000FF);
 446:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		j--; if(j < 0) break;
 730              		.loc 1 446 0
 731 0206 012B     		cmp	r3, #1
 443:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 732              		.loc 1 443 0
 733 0208 52F82120 		ldr	r2, [r2, r1, lsl #2]
 734              	.LVL47:
 445:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		j--; if(j < 0) break;
 735              		.loc 1 445 0
 736 020c 06F8012C 		strb	r2, [r6, #-1]
 737              	.LVL48:
 738              		.loc 1 446 0
 739 0210 10D4     		bmi	.L55
 447:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		target_addr[j] = (uint8_t)((tmp >> 8) & 0x000000FF);
 740              		.loc 1 447 0
 741 0212 100A     		lsrs	r0, r2, #8
 448:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		j--; if(j < 0) break;
 742              		.loc 1 448 0
 743 0214 022B     		cmp	r3, #2
 447:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		target_addr[j] = (uint8_t)((tmp >> 8) & 0x000000FF);
 744              		.loc 1 447 0
 745 0216 06F8020C 		strb	r0, [r6, #-2]
 746              	.LVL49:
 747              		.loc 1 448 0
 748 021a 0BD4     		bmi	.L55
 449:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		target_addr[j] = (uint8_t)((tmp >> 16) & 0x000000FF);
 749              		.loc 1 449 0
 750 021c 100C     		lsrs	r0, r2, #16
 450:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		j--; if(j < 0) break;
 751              		.loc 1 450 0
 752 021e 032B     		cmp	r3, #3
 449:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		target_addr[j] = (uint8_t)((tmp >> 16) & 0x000000FF);
 753              		.loc 1 449 0
 754 0220 06F8030C 		strb	r0, [r6, #-3]
 755              	.LVL50:
 756              		.loc 1 450 0
 757 0224 06D4     		bmi	.L55
 758              	.LVL51:
 451:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		target_addr[j] = (uint8_t)((tmp >> 24) & 0x000000FF);
 759              		.loc 1 451 0
 760 0226 120E     		lsrs	r2, r2, #24
 761              	.LVL52:
 452:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		j--; if(j < 0) break;
 762              		.loc 1 452 0
 763 0228 043B     		subs	r3, r3, #4
 764              	.LVL53:
 451:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		target_addr[j] = (uint8_t)((tmp >> 24) & 0x000000FF);
 765              		.loc 1 451 0
 766 022a 06F8042D 		strb	r2, [r6, #-4]!
 767              		.loc 1 452 0
 768 022e 01D4     		bmi	.L55
 441:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 769              		.loc 1 441 0 discriminator 2
 770 0230 0131     		adds	r1, r1, #1
 771              	.LVL54:
 772 0232 E5E7     		b	.L49
 773              	.LVL55:
 774              	.L55:
 453:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 454:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 455:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 456:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 775              		.loc 1 456 0
 776 0234 0220     		movs	r0, #2
 777 0236 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 778              	.LVL56:
 779              	.L61:
 780 023a 00BF     		.align	2
 781              	.L60:
 782 023c 00000000 		.word	.LANCHOR0
 783 0240 00000000 		.word	.LANCHOR3
 784 0244 00000000 		.word	assert_failed
 785 0248 00000000 		.word	transfer_cmd
 786              		.cfi_endproc
 787              	.LFE8:
 789              		.section	.text.sector_erase,"ax",%progbits
 790              		.align	1
 791              		.thumb
 792              		.thumb_func
 794              	sector_erase:
 795              	.LFB7:
 267:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 796              		.loc 1 267 0
 797              		.cfi_startproc
 798              		@ args = 0, pretend = 0, frame = 0
 799              		@ frame_needed = 0, uses_anonymous_args = 0
 800              	.LVL57:
 801 0000 70B5     		push	{r4, r5, r6, lr}
 802              	.LCFI4:
 803              		.cfi_def_cfa_offset 16
 804              		.cfi_offset 4, -16
 805              		.cfi_offset 5, -12
 806              		.cfi_offset 6, -8
 807              		.cfi_offset 14, -4
 269:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 808              		.loc 1 269 0
 809 0002 2E4C     		ldr	r4, .L71
 267:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 810              		.loc 1 267 0
 811 0004 0546     		mov	r5, r0
 812 0006 0E46     		mov	r6, r1
 269:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 813              		.loc 1 269 0
 814 0008 236C     		ldr	r3, [r4, #64]
 815 000a 23B9     		cbnz	r3, .L63
 269:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 816              		.loc 1 269 0 is_stmt 0 discriminator 1
 817 000c 2C48     		ldr	r0, .L71+4
 818              	.LVL58:
 819 000e 40F20D11 		movw	r1, #269
 820              	.LVL59:
 821 0012 2C4B     		ldr	r3, .L71+8
 822 0014 9847     		blx	r3
 823              	.LVL60:
 824              	.L63:
 270:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 825              		.loc 1 270 0 is_stmt 1
 826 0016 636C     		ldr	r3, [r4, #68]
 827 0018 23B9     		cbnz	r3, .L64
 270:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 828              		.loc 1 270 0 is_stmt 0 discriminator 1
 829 001a 2948     		ldr	r0, .L71+4
 830 001c 4FF48771 		mov	r1, #270
 831 0020 284B     		ldr	r3, .L71+8
 832 0022 9847     		blx	r3
 833              	.LVL61:
 834              	.L64:
 271:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 835              		.loc 1 271 0 is_stmt 1
 836 0024 A36C     		ldr	r3, [r4, #72]
 837 0026 23B9     		cbnz	r3, .L65
 271:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 838              		.loc 1 271 0 is_stmt 0 discriminator 1
 839 0028 2548     		ldr	r0, .L71+4
 840 002a 40F20F11 		movw	r1, #271
 841 002e 254B     		ldr	r3, .L71+8
 842 0030 9847     		blx	r3
 843              	.LVL62:
 844              	.L65:
 272:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 845              		.loc 1 272 0 is_stmt 1
 846 0032 E36C     		ldr	r3, [r4, #76]
 847 0034 23B9     		cbnz	r3, .L66
 272:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 848              		.loc 1 272 0 is_stmt 0 discriminator 1
 849 0036 2248     		ldr	r0, .L71+4
 850 0038 4FF48871 		mov	r1, #272
 851 003c 214B     		ldr	r3, .L71+8
 852 003e 9847     		blx	r3
 853              	.LVL63:
 854              	.L66:
 274:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		return FLASH_BUSY;
 855              		.loc 1 274 0 is_stmt 1
 856 0040 214B     		ldr	r3, .L71+12
 857 0042 9847     		blx	r3
 858              	.LVL64:
 859 0044 0128     		cmp	r0, #1
 860 0046 38D0     		beq	.L67
 861              	.LVL65:
 862              	.LBB4:
 863              	.LBB5:
 277:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 864              		.loc 1 277 0
 865 0048 204B     		ldr	r3, .L71+16
 295:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 866              		.loc 1 295 0
 867 004a 25F07F45 		bic	r5, r5, #-16777216
 868              	.LVL66:
 277:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 869              		.loc 1 277 0
 870 004e 9847     		blx	r3
 871              	.LVL67:
 281:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes		= ONE_LANE;
 872              		.loc 1 281 0
 873 0050 2021     		movs	r1, #32
 874 0052 A288     		ldrh	r2, [r4, #4]
 875 0054 61F30902 		bfi	r2, r1, #0, #10
 279:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 876              		.loc 1 279 0
 877 0058 0123     		movs	r3, #1
 281:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes		= ONE_LANE;
 878              		.loc 1 281 0
 879 005a A280     		strh	r2, [r4, #4]	@ movhi
 282:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en	= FOUR_OUTPUTS;
 880              		.loc 1 282 0
 881 005c A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 882 005e 63F30202 		bfi	r2, r3, #0, #3
 283:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 883              		.loc 1 283 0
 884 0062 62F00F02 		orn	r2, r2, #15
 294:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			(flash_addr & 0x00FFFFFF);
 885              		.loc 1 294 0
 886 0066 45EA0665 		orr	r5, r5, r6, lsl #24
 283:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 887              		.loc 1 283 0
 888 006a A271     		strb	r2, [r4, #6]
 284:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes		= ONE_LANE;
 889              		.loc 1 284 0
 890 006c 2289     		ldrh	r2, [r4, #8]
 891 006e 6FF30902 		bfc	r2, #0, #10
 279:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 892              		.loc 1 279 0
 893 0072 2380     		strh	r3, [r4]	@ movhi
 284:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes		= ONE_LANE;
 894              		.loc 1 284 0
 895 0074 2281     		strh	r2, [r4, #8]	@ movhi
 285:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en	= FOUR_OUTPUTS;
 896              		.loc 1 285 0
 897 0076 A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
 898 0078 63F30202 		bfi	r2, r3, #0, #3
 286:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 899              		.loc 1 286 0
 900 007c 62F00F02 		orn	r2, r2, #15
 297:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 901              		.loc 1 297 0
 902 0080 0E48     		ldr	r0, .L71
 286:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 903              		.loc 1 286 0
 904 0082 A272     		strb	r2, [r4, #10]
 287:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes		= ONE_LANE;
 905              		.loc 1 287 0
 906 0084 A289     		ldrh	r2, [r4, #12]
 907 0086 6FF30902 		bfc	r2, #0, #10
 908 008a A281     		strh	r2, [r4, #12]	@ movhi
 288:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en	= FOUR_OUTPUTS;
 909              		.loc 1 288 0
 910 008c A27B     		ldrb	r2, [r4, #14]	@ zero_extendqisi2
 911 008e 63F30202 		bfi	r2, r3, #0, #3
 289:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 912              		.loc 1 289 0
 913 0092 62F00F02 		orn	r2, r2, #15
 914 0096 A273     		strb	r2, [r4, #14]
 290:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes		= ONE_LANE;
 915              		.loc 1 290 0
 916 0098 228A     		ldrh	r2, [r4, #16]
 917 009a 6FF30902 		bfc	r2, #0, #10
 918 009e 2282     		strh	r2, [r4, #16]	@ movhi
 291:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en	= FOUR_OUTPUTS;
 919              		.loc 1 291 0
 920 00a0 A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 921 00a2 63F30202 		bfi	r2, r3, #0, #3
 292:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 922              		.loc 1 292 0
 923 00a6 62F00F02 		orn	r2, r2, #15
 294:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			(flash_addr & 0x00FFFFFF);
 924              		.loc 1 294 0
 925 00aa 236C     		ldr	r3, [r4, #64]
 292:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 926              		.loc 1 292 0
 927 00ac A274     		strb	r2, [r4, #18]
 294:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			(flash_addr & 0x00FFFFFF);
 928              		.loc 1 294 0
 929 00ae 1D60     		str	r5, [r3]
 297:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 930              		.loc 1 297 0
 931 00b0 074B     		ldr	r3, .L71+20
 932 00b2 9847     		blx	r3
 933              	.LVL68:
 299:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 934              		.loc 1 299 0
 935 00b4 074B     		ldr	r3, .L71+24
 936 00b6 9847     		blx	r3
 937              	.LVL69:
 938 00b8 0220     		movs	r0, #2
 939              	.LVL70:
 940              	.L67:
 941              	.LBE5:
 942              	.LBE4:
 302:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 943              		.loc 1 302 0
 944 00ba 70BD     		pop	{r4, r5, r6, pc}
 945              	.LVL71:
 946              	.L72:
 947              		.align	2
 948              	.L71:
 949 00bc 00000000 		.word	.LANCHOR0
 950 00c0 00000000 		.word	.LANCHOR4
 951 00c4 00000000 		.word	assert_failed
 952 00c8 00000000 		.word	is_flash_busy
 953 00cc 00000000 		.word	write_enable
 954 00d0 00000000 		.word	transfer_cmd
 955 00d4 00000000 		.word	read_status
 956              		.cfi_endproc
 957              	.LFE7:
 959              		.section	.text.flash_init,"ax",%progbits
 960              		.align	1
 961              		.global	flash_init
 962              		.thumb
 963              		.thumb_func
 965              	flash_init:
 966              	.LFB1:
  60:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg	= QSPI_ADDR->TX_BUFF_REG;
 967              		.loc 1 60 0
 968              		.cfi_startproc
 969              		@ args = 0, pretend = 0, frame = 0
 970              		@ frame_needed = 0, uses_anonymous_args = 0
  61:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg8	= QSPI_ADDR->TX_BUFF_REG8;
 971              		.loc 1 61 0
 972 0000 0A4A     		ldr	r2, .L77
  60:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg	= QSPI_ADDR->TX_BUFF_REG;
 973              		.loc 1 60 0
 974 0002 10B5     		push	{r4, lr}
 975              	.LCFI5:
 976              		.cfi_def_cfa_offset 8
 977              		.cfi_offset 4, -8
 978              		.cfi_offset 14, -4
  61:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg8	= QSPI_ADDR->TX_BUFF_REG8;
 979              		.loc 1 61 0
 980 0004 0A4B     		ldr	r3, .L77+4
  66:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 981              		.loc 1 66 0
 982 0006 0B4C     		ldr	r4, .L77+8
  61:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.tx_buff_reg8	= QSPI_ADDR->TX_BUFF_REG8;
 983              		.loc 1 61 0
 984 0008 1A64     		str	r2, [r3, #64]
  62:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.rx_buff_reg	= QSPI_ADDR->RX_BUFF_REG;
 985              		.loc 1 62 0
 986 000a 5A64     		str	r2, [r3, #68]
  63:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.rx_buff_reg8	= QSPI_ADDR->RX_BUFF_REG8;
 987              		.loc 1 63 0
 988 000c 8032     		adds	r2, r2, #128
 989 000e 9A64     		str	r2, [r3, #72]
  64:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 990              		.loc 1 64 0
 991 0010 DA64     		str	r2, [r3, #76]
  66:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 992              		.loc 1 66 0
 993 0012 2368     		ldr	r3, [r4]
 994 0014 43B9     		cbnz	r3, .L73
  68:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		assert_param(semaphore);
 995              		.loc 1 68 0
 996 0016 0120     		movs	r0, #1
 997 0018 074B     		ldr	r3, .L77+12
 998 001a 9847     		blx	r3
 999              	.LVL72:
 1000 001c 2060     		str	r0, [r4]
  69:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1001              		.loc 1 69 0
 1002 001e 18B9     		cbnz	r0, .L73
  69:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1003              		.loc 1 69 0 is_stmt 0 discriminator 1
 1004 0020 0648     		ldr	r0, .L77+16
 1005 0022 4521     		movs	r1, #69
 1006 0024 064B     		ldr	r3, .L77+20
 1007 0026 9847     		blx	r3
 1008              	.LVL73:
 1009              	.L73:
 1010 0028 10BD     		pop	{r4, pc}
 1011              	.L78:
 1012 002a 00BF     		.align	2
 1013              	.L77:
 1014 002c 00013002 		.word	36700416
 1015 0030 00000000 		.word	.LANCHOR0
 1016 0034 00000000 		.word	.LANCHOR5
 1017 0038 00000000 		.word	xQueueCreateMutex
 1018 003c 00000000 		.word	.LANCHOR6
 1019 0040 00000000 		.word	assert_failed
 1020              		.cfi_endproc
 1021              	.LFE1:
 1023              		.section	.text.read_id,"ax",%progbits
 1024              		.align	1
 1025              		.global	read_id
 1026              		.thumb
 1027              		.thumb_func
 1029              	read_id:
 1030              	.LFB2:
  78:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t chip_id;
 1031              		.loc 1 78 0 is_stmt 1
 1032              		.cfi_startproc
 1033              		@ args = 0, pretend = 0, frame = 0
 1034              		@ frame_needed = 0, uses_anonymous_args = 0
 1035 0000 70B5     		push	{r4, r5, r6, lr}
 1036              	.LCFI6:
 1037              		.cfi_def_cfa_offset 16
 1038              		.cfi_offset 4, -16
 1039              		.cfi_offset 5, -12
 1040              		.cfi_offset 6, -8
 1041              		.cfi_offset 14, -4
  81:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 1042              		.loc 1 81 0
 1043 0002 2F4C     		ldr	r4, .L84
 1044 0004 236C     		ldr	r3, [r4, #64]
 1045 0006 1BB9     		cbnz	r3, .L80
  81:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 1046              		.loc 1 81 0 is_stmt 0 discriminator 1
 1047 0008 2E48     		ldr	r0, .L84+4
 1048 000a 5121     		movs	r1, #81
 1049 000c 2E4B     		ldr	r3, .L84+8
 1050 000e 9847     		blx	r3
 1051              	.LVL74:
 1052              	.L80:
  82:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 1053              		.loc 1 82 0 is_stmt 1
 1054 0010 636C     		ldr	r3, [r4, #68]
 1055 0012 1BB9     		cbnz	r3, .L81
  82:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 1056              		.loc 1 82 0 is_stmt 0 discriminator 1
 1057 0014 2B48     		ldr	r0, .L84+4
 1058 0016 5221     		movs	r1, #82
 1059 0018 2B4B     		ldr	r3, .L84+8
 1060 001a 9847     		blx	r3
 1061              	.LVL75:
 1062              	.L81:
  83:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 1063              		.loc 1 83 0 is_stmt 1
 1064 001c A36C     		ldr	r3, [r4, #72]
 1065 001e 1BB9     		cbnz	r3, .L82
  83:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 1066              		.loc 1 83 0 is_stmt 0 discriminator 1
 1067 0020 2848     		ldr	r0, .L84+4
 1068 0022 5321     		movs	r1, #83
 1069 0024 284B     		ldr	r3, .L84+8
 1070 0026 9847     		blx	r3
 1071              	.LVL76:
 1072              	.L82:
  84:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1073              		.loc 1 84 0 is_stmt 1
 1074 0028 E36C     		ldr	r3, [r4, #76]
 1075 002a 1BB9     		cbnz	r3, .L83
  84:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1076              		.loc 1 84 0 is_stmt 0 discriminator 1
 1077 002c 2548     		ldr	r0, .L84+4
 1078 002e 5421     		movs	r1, #84
 1079 0030 254B     		ldr	r3, .L84+8
 1080 0032 9847     		blx	r3
 1081              	.LVL77:
 1082              	.L83:
  86:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 1083              		.loc 1 86 0 is_stmt 1
 1084 0034 254D     		ldr	r5, .L84+12
 1085 0036 0021     		movs	r1, #0
 1086 0038 0B46     		mov	r3, r1
 1087 003a 4FF0FF32 		mov	r2, #-1
 1088 003e 244E     		ldr	r6, .L84+16
 1089 0040 2868     		ldr	r0, [r5]
 1090 0042 B047     		blx	r6
 1091              	.LVL78:
  90:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
 1092              		.loc 1 90 0
 1093 0044 2021     		movs	r1, #32
 1094 0046 A288     		ldrh	r2, [r4, #4]
 1095 0048 61F30902 		bfi	r2, r1, #0, #10
  88:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1096              		.loc 1 88 0
 1097 004c 0123     		movs	r3, #1
  90:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
 1098              		.loc 1 90 0
 1099 004e A280     		strh	r2, [r4, #4]	@ movhi
  91:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en 	= FOUR_OUTPUTS;
 1100              		.loc 1 91 0
 1101 0050 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 1102 0052 63F30202 		bfi	r2, r3, #0, #3
  92:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 1103              		.loc 1 92 0
 1104 0056 62F00F02 		orn	r2, r2, #15
  88:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1105              		.loc 1 88 0
 1106 005a 2380     		strh	r3, [r4]	@ movhi
  92:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 1107              		.loc 1 92 0
 1108 005c A271     		strb	r2, [r4, #6]
  93:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 1109              		.loc 1 93 0
 1110 005e 2289     		ldrh	r2, [r4, #8]
 1111 0060 6FF30902 		bfc	r2, #0, #10
 105:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1112              		.loc 1 105 0
 1113 0064 1648     		ldr	r0, .L84
  93:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 1114              		.loc 1 93 0
 1115 0066 2281     		strh	r2, [r4, #8]	@ movhi
  94:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en 	= FOUR_OUTPUTS;
 1116              		.loc 1 94 0
 1117 0068 A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
 1118 006a 63F30202 		bfi	r2, r3, #0, #3
  95:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 1119              		.loc 1 95 0
 1120 006e 62F00F02 		orn	r2, r2, #15
 1121 0072 A272     		strb	r2, [r4, #10]
  96:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
 1122              		.loc 1 96 0
 1123 0074 A289     		ldrh	r2, [r4, #12]
 1124 0076 6FF30902 		bfc	r2, #0, #10
 1125 007a A281     		strh	r2, [r4, #12]	@ movhi
  97:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
 1126              		.loc 1 97 0
 1127 007c A27B     		ldrb	r2, [r4, #14]	@ zero_extendqisi2
 1128 007e 63F30202 		bfi	r2, r3, #0, #3
  98:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 1129              		.loc 1 98 0
 1130 0082 62F00F02 		orn	r2, r2, #15
 1131 0086 A273     		strb	r2, [r4, #14]
  99:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 1132              		.loc 1 99 0
 1133 0088 228A     		ldrh	r2, [r4, #16]
 1134 008a 6FF30902 		bfc	r2, #0, #10
 1135 008e 2282     		strh	r2, [r4, #16]	@ movhi
 100:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 1136              		.loc 1 100 0
 1137 0090 A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 1138 0092 63F30202 		bfi	r2, r3, #0, #3
 101:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1139              		.loc 1 101 0
 1140 0096 62F00F02 		orn	r2, r2, #15
 103:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1141              		.loc 1 103 0
 1142 009a 236C     		ldr	r3, [r4, #64]
 101:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1143              		.loc 1 101 0
 1144 009c A274     		strb	r2, [r4, #18]
 103:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1145              		.loc 1 103 0
 1146 009e 4FF01F42 		mov	r2, #-1627389952
 1147 00a2 1A60     		str	r2, [r3]
 105:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1148              		.loc 1 105 0
 1149 00a4 0B4B     		ldr	r3, .L84+20
 1150 00a6 9847     		blx	r3
 1151              	.LVL79:
 107:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1152              		.loc 1 107 0
 1153 00a8 A36C     		ldr	r3, [r4, #72]
 110:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 1154              		.loc 1 110 0
 1155 00aa 0021     		movs	r1, #0
 1156 00ac 2868     		ldr	r0, [r5]
 1157 00ae 0A46     		mov	r2, r1
 107:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1158              		.loc 1 107 0
 1159 00b0 1C68     		ldr	r4, [r3]
 1160              	.LVL80:
 110:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 1161              		.loc 1 110 0
 1162 00b2 0B46     		mov	r3, r1
 1163 00b4 084D     		ldr	r5, .L84+24
 1164 00b6 A847     		blx	r5
 1165              	.LVL81:
 114:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1166              		.loc 1 114 0
 1167 00b8 24F07F40 		bic	r0, r4, #-16777216
 1168              	.LVL82:
 1169 00bc 70BD     		pop	{r4, r5, r6, pc}
 1170              	.L85:
 1171 00be 00BF     		.align	2
 1172              	.L84:
 1173 00c0 00000000 		.word	.LANCHOR0
 1174 00c4 00000000 		.word	.LANCHOR7
 1175 00c8 00000000 		.word	assert_failed
 1176 00cc 00000000 		.word	.LANCHOR5
 1177 00d0 00000000 		.word	xQueueGenericReceive
 1178 00d4 00000000 		.word	transfer_cmd
 1179 00d8 00000000 		.word	xQueueGenericSend
 1180              		.cfi_endproc
 1181              	.LFE2:
 1183              		.section	.text.bulk_erase,"ax",%progbits
 1184              		.align	1
 1185              		.global	bulk_erase
 1186              		.thumb
 1187              		.thumb_func
 1189              	bulk_erase:
 1190              	.LFB6:
 216:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 1191              		.loc 1 216 0
 1192              		.cfi_startproc
 1193              		@ args = 0, pretend = 0, frame = 0
 1194              		@ frame_needed = 0, uses_anonymous_args = 0
 1195 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1196              	.LCFI7:
 1197              		.cfi_def_cfa_offset 24
 1198              		.cfi_offset 3, -24
 1199              		.cfi_offset 4, -20
 1200              		.cfi_offset 5, -16
 1201              		.cfi_offset 6, -12
 1202              		.cfi_offset 7, -8
 1203              		.cfi_offset 14, -4
 218:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 1204              		.loc 1 218 0
 1205 0002 354C     		ldr	r4, .L93
 1206 0004 236C     		ldr	r3, [r4, #64]
 1207 0006 1BB9     		cbnz	r3, .L87
 218:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 1208              		.loc 1 218 0 is_stmt 0 discriminator 1
 1209 0008 3448     		ldr	r0, .L93+4
 1210 000a DA21     		movs	r1, #218
 1211 000c 344B     		ldr	r3, .L93+8
 1212 000e 9847     		blx	r3
 1213              	.LVL83:
 1214              	.L87:
 219:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 1215              		.loc 1 219 0 is_stmt 1
 1216 0010 636C     		ldr	r3, [r4, #68]
 1217 0012 1BB9     		cbnz	r3, .L88
 219:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 1218              		.loc 1 219 0 is_stmt 0 discriminator 1
 1219 0014 3148     		ldr	r0, .L93+4
 1220 0016 DB21     		movs	r1, #219
 1221 0018 314B     		ldr	r3, .L93+8
 1222 001a 9847     		blx	r3
 1223              	.LVL84:
 1224              	.L88:
 220:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 1225              		.loc 1 220 0 is_stmt 1
 1226 001c A36C     		ldr	r3, [r4, #72]
 1227 001e 1BB9     		cbnz	r3, .L89
 220:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 1228              		.loc 1 220 0 is_stmt 0 discriminator 1
 1229 0020 2E48     		ldr	r0, .L93+4
 1230 0022 DC21     		movs	r1, #220
 1231 0024 2E4B     		ldr	r3, .L93+8
 1232 0026 9847     		blx	r3
 1233              	.LVL85:
 1234              	.L89:
 221:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1235              		.loc 1 221 0 is_stmt 1
 1236 0028 E36C     		ldr	r3, [r4, #76]
 1237 002a 1BB9     		cbnz	r3, .L90
 221:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1238              		.loc 1 221 0 is_stmt 0 discriminator 1
 1239 002c 2B48     		ldr	r0, .L93+4
 1240 002e DD21     		movs	r1, #221
 1241 0030 2B4B     		ldr	r3, .L93+8
 1242 0032 9847     		blx	r3
 1243              	.LVL86:
 1244              	.L90:
 224:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 1245              		.loc 1 224 0 is_stmt 1
 1246 0034 2B4D     		ldr	r5, .L93+12
 1247 0036 0021     		movs	r1, #0
 1248 0038 0B46     		mov	r3, r1
 1249 003a 4FF0FF32 		mov	r2, #-1
 1250 003e 2A4E     		ldr	r6, .L93+16
 1251 0040 2868     		ldr	r0, [r5]
 1252 0042 B047     		blx	r6
 1253              	.LVL87:
 226:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 1254              		.loc 1 226 0
 1255 0044 294B     		ldr	r3, .L93+20
 1256 0046 9847     		blx	r3
 1257              	.LVL88:
 1258 0048 294E     		ldr	r6, .L93+24
 1259 004a 0128     		cmp	r0, #1
 1260 004c 0746     		mov	r7, r0
 1261 004e 05D1     		bne	.L91
 229:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 1262              		.loc 1 229 0
 1263 0050 0021     		movs	r1, #0
 1264 0052 2868     		ldr	r0, [r5]
 1265 0054 0A46     		mov	r2, r1
 1266 0056 0B46     		mov	r3, r1
 1267 0058 B047     		blx	r6
 1268              	.LVL89:
 231:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1269              		.loc 1 231 0
 1270 005a 3AE0     		b	.L92
 1271              	.L91:
 234:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1272              		.loc 1 234 0
 1273 005c 254B     		ldr	r3, .L93+28
 260:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 1274              		.loc 1 260 0
 1275 005e 0227     		movs	r7, #2
 234:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1276              		.loc 1 234 0
 1277 0060 9847     		blx	r3
 1278              	.LVL90:
 238:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
 1279              		.loc 1 238 0
 1280 0062 0821     		movs	r1, #8
 1281 0064 A288     		ldrh	r2, [r4, #4]
 1282 0066 61F30902 		bfi	r2, r1, #0, #10
 236:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1283              		.loc 1 236 0
 1284 006a 0123     		movs	r3, #1
 238:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_lanes 		= ONE_LANE;
 1285              		.loc 1 238 0
 1286 006c A280     		strh	r2, [r4, #4]	@ movhi
 239:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step0_conf.pio_output_en 	= FOUR_OUTPUTS;
 1287              		.loc 1 239 0
 1288 006e A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 1289 0070 63F30202 		bfi	r2, r3, #0, #3
 240:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 1290              		.loc 1 240 0
 1291 0074 62F00F02 		orn	r2, r2, #15
 236:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1292              		.loc 1 236 0
 1293 0078 2380     		strh	r3, [r4]	@ movhi
 240:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.cycle			= 0;
 1294              		.loc 1 240 0
 1295 007a A271     		strb	r2, [r4, #6]
 241:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 1296              		.loc 1 241 0
 1297 007c 2289     		ldrh	r2, [r4, #8]
 1298 007e 6FF30902 		bfc	r2, #0, #10
 253:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1299              		.loc 1 253 0
 1300 0082 1548     		ldr	r0, .L93
 241:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_lanes 		= ONE_LANE;
 1301              		.loc 1 241 0
 1302 0084 2281     		strh	r2, [r4, #8]	@ movhi
 242:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step1_conf.pio_output_en 	= FOUR_OUTPUTS;
 1303              		.loc 1 242 0
 1304 0086 A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
 1305 0088 63F30202 		bfi	r2, r3, #0, #3
 243:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.cycle			= 0;
 1306              		.loc 1 243 0
 1307 008c 62F00F02 		orn	r2, r2, #15
 1308 0090 A272     		strb	r2, [r4, #10]
 244:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_lanes 		= ONE_LANE;
 1309              		.loc 1 244 0
 1310 0092 A289     		ldrh	r2, [r4, #12]
 1311 0094 6FF30902 		bfc	r2, #0, #10
 1312 0098 A281     		strh	r2, [r4, #12]	@ movhi
 245:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step2_conf.pio_output_en 	= FOUR_OUTPUTS;
 1313              		.loc 1 245 0
 1314 009a A27B     		ldrb	r2, [r4, #14]	@ zero_extendqisi2
 1315 009c 63F30202 		bfi	r2, r3, #0, #3
 246:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.cycle			= 0;
 1316              		.loc 1 246 0
 1317 00a0 62F00F02 		orn	r2, r2, #15
 1318 00a4 A273     		strb	r2, [r4, #14]
 247:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_lanes 		= ONE_LANE;
 1319              		.loc 1 247 0
 1320 00a6 228A     		ldrh	r2, [r4, #16]
 1321 00a8 6FF30902 		bfc	r2, #0, #10
 1322 00ac 2282     		strh	r2, [r4, #16]	@ movhi
 248:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pio_mode1.pio_step3_conf.pio_output_en 	= FOUR_OUTPUTS;
 1323              		.loc 1 248 0
 1324 00ae A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 1325 00b0 63F30202 		bfi	r2, r3, #0, #3
 249:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1326              		.loc 1 249 0
 1327 00b4 62F00F02 		orn	r2, r2, #15
 251:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1328              		.loc 1 251 0
 1329 00b8 236C     		ldr	r3, [r4, #64]
 249:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1330              		.loc 1 249 0
 1331 00ba A274     		strb	r2, [r4, #18]
 251:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1332              		.loc 1 251 0
 1333 00bc C722     		movs	r2, #199
 1334 00be 1A60     		str	r2, [r3]
 253:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1335              		.loc 1 253 0
 1336 00c0 0D4B     		ldr	r3, .L93+32
 1337 00c2 9847     		blx	r3
 1338              	.LVL91:
 255:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1339              		.loc 1 255 0
 1340 00c4 0D4B     		ldr	r3, .L93+36
 1341 00c6 9847     		blx	r3
 1342              	.LVL92:
 257:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 1343              		.loc 1 257 0
 1344 00c8 0021     		movs	r1, #0
 1345 00ca 2868     		ldr	r0, [r5]
 1346 00cc 0A46     		mov	r2, r1
 1347 00ce 0B46     		mov	r3, r1
 1348 00d0 B047     		blx	r6
 1349              	.LVL93:
 1350              	.L92:
 261:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1351              		.loc 1 261 0
 1352 00d2 3846     		mov	r0, r7
 1353 00d4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1354              	.L94:
 1355 00d6 00BF     		.align	2
 1356              	.L93:
 1357 00d8 00000000 		.word	.LANCHOR0
 1358 00dc 00000000 		.word	.LANCHOR8
 1359 00e0 00000000 		.word	assert_failed
 1360 00e4 00000000 		.word	.LANCHOR5
 1361 00e8 00000000 		.word	xQueueGenericReceive
 1362 00ec 00000000 		.word	is_flash_busy
 1363 00f0 00000000 		.word	xQueueGenericSend
 1364 00f4 00000000 		.word	write_enable
 1365 00f8 00000000 		.word	transfer_cmd
 1366 00fc 00000000 		.word	read_status
 1367              		.cfi_endproc
 1368              	.LFE6:
 1370              		.section	.text.flash_read,"ax",%progbits
 1371              		.align	1
 1372              		.global	flash_read
 1373              		.thumb
 1374              		.thumb_func
 1376              	flash_read:
 1377              	.LFB10:
 457:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 458:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 459:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * cmd_write
 460:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 461:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** static flash_status_t cmd_write(uint32_t flash_addr, uint8_t *buf,\
 462:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		uint32_t byte_length, qspi_mode_t qmode)
 463:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 464:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t i, cycle;
 465:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t *pdata;
 466:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 467:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	/* check parameters */
 468:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg);
 469:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 470:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 471:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 472:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 473:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(is_flash_busy() == FLASH_BUSY)
 474:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		return FLASH_BUSY;
 475:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 476:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	cycle = byte_length >> 2;
 477:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(byte_length % 4)
 478:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		cycle++;
 479:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 480:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	write_enable();
 481:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 482:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.spi_mode_reg = PP_GO_MODE;
 483:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 484:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(qmode == QSPI_MODE)
 485:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 486:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_cmd_code				= FLASH_CMD_4PP;
 487:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_cmd_cycle = 24;
 488:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_lanes 	= ONE_LANE;
 489:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_cmd_cycle = byte_length << 1;
 490:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_lanes		= FOUR_LANES;
 491:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 492:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	else
 493:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 494:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_cmd_code				= FLASH_CMD_PP;
 495:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_cmd_cycle = 24;
 496:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_lanes		= ONE_LANE;
 497:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_cmd_cycle	= byte_length << 3;
 498:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_lanes		= ONE_LANE;
 499:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 500:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 501:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_cmd_conf.pp_cmd_cycle		= 8;
 502:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_cmd_conf.pp_lanes			= ONE_LANE;
 503:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_addr_code					= flash_addr;
 504:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_code					= 0x00000000;
 505:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_conf.pp_cmd_cycle	= 0;
 506:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_conf.pp_lanes		= NO_LANE;
 507:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 508:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	pdata = (uint32_t *)buf;
 509:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	for(i = 0; i < cycle; i++)
 510:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 511:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.tx_buff_reg[i]	= *(pdata + i);
 512:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 513:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 514:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	transfer_cmd(&qspi_transfer_cmd);
 515:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 516:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	read_status();
 517:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 518:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 519:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 520:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 521:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 522:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * flash_read
 523:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 524:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** flash_status_t flash_read(uint32_t addr, uint32_t len,\
 525:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		uint8_t *buf, qspi_mode_t qmode)
 526:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 1378              		.loc 1 526 0
 1379              		.cfi_startproc
 1380              		@ args = 0, pretend = 0, frame = 0
 1381              		@ frame_needed = 0, uses_anonymous_args = 0
 1382              	.LVL94:
 1383 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1384              	.LCFI8:
 1385              		.cfi_def_cfa_offset 24
 1386              		.cfi_offset 4, -24
 1387              		.cfi_offset 5, -20
 1388              		.cfi_offset 6, -16
 1389              		.cfi_offset 7, -12
 1390              		.cfi_offset 8, -8
 1391              		.cfi_offset 14, -4
 527:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 528:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreTake(semaphore, portMAX_DELAY);
 1392              		.loc 1 528 0
 1393 0004 134D     		ldr	r5, .L101
 526:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1394              		.loc 1 526 0
 1395 0006 0C46     		mov	r4, r1
 1396              		.loc 1 528 0
 1397 0008 0021     		movs	r1, #0
 1398              	.LVL95:
 526:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1399              		.loc 1 526 0
 1400 000a 0646     		mov	r6, r0
 1401 000c 1746     		mov	r7, r2
 1402 000e 9846     		mov	r8, r3
 1403              		.loc 1 528 0
 1404 0010 4FF0FF32 		mov	r2, #-1
 1405              	.LVL96:
 1406 0014 2868     		ldr	r0, [r5]
 1407              	.LVL97:
 1408 0016 0B46     		mov	r3, r1
 1409              	.LVL98:
 1410 0018 DFF840C0 		ldr	ip, .L101+8
 1411 001c E047     		blx	ip
 1412              	.LVL99:
 1413              	.L96:
 529:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 530:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	while(len)
 1414              		.loc 1 530 0
 1415 001e 7CB1     		cbz	r4, .L100
 531:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 532:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		if(len > BYTES_PER_READ)
 1416              		.loc 1 532 0
 1417 0020 402C     		cmp	r4, #64
 533:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		{
 534:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			cmd_read(addr, buf, BYTES_PER_READ, qmode);
 1418              		.loc 1 534 0
 1419 0022 3046     		mov	r0, r6
 1420 0024 3946     		mov	r1, r7
 1421 0026 DFF838C0 		ldr	ip, .L101+12
 532:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		{
 1422              		.loc 1 532 0
 1423 002a 06D9     		bls	.L97
 1424              		.loc 1 534 0
 1425 002c 4022     		movs	r2, #64
 1426 002e 4346     		mov	r3, r8
 535:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			addr += BYTES_PER_READ;
 1427              		.loc 1 535 0
 1428 0030 4036     		adds	r6, r6, #64
 1429              	.LVL100:
 534:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			addr += BYTES_PER_READ;
 1430              		.loc 1 534 0
 1431 0032 E047     		blx	ip
 1432              	.LVL101:
 536:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			buf += BYTES_PER_READ;
 1433              		.loc 1 536 0
 1434 0034 4037     		adds	r7, r7, #64
 1435              	.LVL102:
 537:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			len -= BYTES_PER_READ;
 1436              		.loc 1 537 0
 1437 0036 403C     		subs	r4, r4, #64
 1438              	.LVL103:
 1439 0038 F1E7     		b	.L96
 1440              	.LVL104:
 1441              	.L97:
 538:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		}
 539:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		else
 540:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		{
 541:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			cmd_read(addr, buf, len, qmode);
 1442              		.loc 1 541 0
 1443 003a 2246     		mov	r2, r4
 1444 003c 4346     		mov	r3, r8
 1445 003e E047     		blx	ip
 1446              	.LVL105:
 1447              	.L100:
 542:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			len = 0;
 543:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		}
 544:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 545:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 546:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreGive(semaphore);
 1448              		.loc 1 546 0
 1449 0040 0021     		movs	r1, #0
 1450 0042 2868     		ldr	r0, [r5]
 1451 0044 0A46     		mov	r2, r1
 1452 0046 0B46     		mov	r3, r1
 1453 0048 034C     		ldr	r4, .L101+4
 1454 004a A047     		blx	r4
 1455              	.LVL106:
 547:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 548:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 549:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 550:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 1456              		.loc 1 550 0
 1457 004c 0220     		movs	r0, #2
 1458 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1459              	.LVL107:
 1460              	.L102:
 1461 0052 00BF     		.align	2
 1462              	.L101:
 1463 0054 00000000 		.word	.LANCHOR5
 1464 0058 00000000 		.word	xQueueGenericSend
 1465 005c 00000000 		.word	xQueueGenericReceive
 1466 0060 00000000 		.word	cmd_read
 1467              		.cfi_endproc
 1468              	.LFE10:
 1470              		.section	.text.flash_write,"ax",%progbits
 1471              		.align	1
 1472              		.global	flash_write
 1473              		.thumb
 1474              		.thumb_func
 1476              	flash_write:
 1477              	.LFB11:
 551:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 552:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 553:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * flash_write
 554:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 555:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** flash_status_t flash_write(uint32_t addr, uint32_t len,\
 556:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		const uint8_t *buf, qspi_mode_t qmode)
 557:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 1478              		.loc 1 557 0
 1479              		.cfi_startproc
 1480              		@ args = 0, pretend = 0, frame = 0
 1481              		@ frame_needed = 0, uses_anonymous_args = 0
 1482              	.LVL108:
 1483 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1484              	.LCFI9:
 1485              		.cfi_def_cfa_offset 40
 1486              		.cfi_offset 3, -40
 1487              		.cfi_offset 4, -36
 1488              		.cfi_offset 5, -32
 1489              		.cfi_offset 6, -28
 1490              		.cfi_offset 7, -24
 1491              		.cfi_offset 8, -20
 1492              		.cfi_offset 9, -16
 1493              		.cfi_offset 10, -12
 1494              		.cfi_offset 11, -8
 1495              		.cfi_offset 14, -4
 558:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint8_t *pbuf;
 559:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t tlen;
 560:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 561:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	pbuf = (uint8_t *)buf;
 562:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint32_t offset;
 563:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 564:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 565:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreTake(semaphore, portMAX_DELAY);
 1496              		.loc 1 565 0
 1497 0004 554F     		ldr	r7, .L128
 557:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint8_t *pbuf;
 1498              		.loc 1 557 0
 1499 0006 0E46     		mov	r6, r1
 1500              		.loc 1 565 0
 1501 0008 0021     		movs	r1, #0
 1502              	.LVL109:
 557:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	uint8_t *pbuf;
 1503              		.loc 1 557 0
 1504 000a 8046     		mov	r8, r0
 1505 000c 9146     		mov	r9, r2
 1506              	.LVL110:
 1507 000e 9A46     		mov	r10, r3
 1508              		.loc 1 565 0
 1509 0010 4FF0FF32 		mov	r2, #-1
 1510              	.LVL111:
 1511 0014 3868     		ldr	r0, [r7]
 1512              	.LVL112:
 1513 0016 0B46     		mov	r3, r1
 1514              	.LVL113:
 1515 0018 514C     		ldr	r4, .L128+4
 1516 001a A047     		blx	r4
 1517              	.LVL114:
 1518              	.L104:
 566:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 567:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	while(len)
 1519              		.loc 1 567 0
 1520 001c 002E     		cmp	r6, #0
 1521 001e 00F09480 		beq	.L126
 1522              	.LBB8:
 1523              	.LBB9:
 468:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 1524              		.loc 1 468 0
 1525 0022 504C     		ldr	r4, .L128+8
 1526              	.LBE9:
 1527              	.LBE8:
 568:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 569:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		offset = addr % BYTES_PER_WRITE;
 1528              		.loc 1 569 0
 1529 0024 5FFA88F5 		uxtb	r5, r8
 1530              	.LVL115:
 570:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 571:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		if ((len + offset) <= BYTES_PER_WRITE)
 1531              		.loc 1 571 0
 1532 0028 AB19     		adds	r3, r5, r6
 1533 002a B3F5807F 		cmp	r3, #256
 1534              	.LBB12:
 1535              	.LBB10:
 468:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 1536              		.loc 1 468 0
 1537 002e 236C     		ldr	r3, [r4, #64]
 1538              	.LBE10:
 1539              	.LBE12:
 572:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			tlen = len;
 573:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		else
 574:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			tlen = BYTES_PER_WRITE - offset;
 1540              		.loc 1 574 0
 1541 0030 8CBF     		ite	hi
 1542 0032 C5F58075 		rsbhi	r5, r5, #256
 1543              	.LVL116:
 1544 0036 3546     		movls	r5, r6
 1545              	.LVL117:
 1546              	.LBB13:
 1547              	.LBB11:
 468:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.tx_buff_reg8);
 1548              		.loc 1 468 0
 1549 0038 23B9     		cbnz	r3, .L106
 1550 003a 4B48     		ldr	r0, .L128+12
 1551 003c 4FF4EA71 		mov	r1, #468
 1552 0040 4A4B     		ldr	r3, .L128+16
 1553 0042 9847     		blx	r3
 1554              	.LVL118:
 1555              	.L106:
 469:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg);
 1556              		.loc 1 469 0
 1557 0044 636C     		ldr	r3, [r4, #68]
 1558 0046 23B9     		cbnz	r3, .L107
 1559 0048 4748     		ldr	r0, .L128+12
 1560 004a 40F2D511 		movw	r1, #469
 1561 004e 474B     		ldr	r3, .L128+16
 1562 0050 9847     		blx	r3
 1563              	.LVL119:
 1564              	.L107:
 470:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	assert_param(qspi_transfer_cmd.rx_buff_reg8);
 1565              		.loc 1 470 0
 1566 0052 A36C     		ldr	r3, [r4, #72]
 1567 0054 23B9     		cbnz	r3, .L108
 1568 0056 4448     		ldr	r0, .L128+12
 1569 0058 4FF4EB71 		mov	r1, #470
 1570 005c 434B     		ldr	r3, .L128+16
 1571 005e 9847     		blx	r3
 1572              	.LVL120:
 1573              	.L108:
 471:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1574              		.loc 1 471 0
 1575 0060 E36C     		ldr	r3, [r4, #76]
 1576 0062 23B9     		cbnz	r3, .L109
 1577 0064 4048     		ldr	r0, .L128+12
 1578 0066 40F2D711 		movw	r1, #471
 1579 006a 404B     		ldr	r3, .L128+16
 1580 006c 9847     		blx	r3
 1581              	.LVL121:
 1582              	.L109:
 473:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		return FLASH_BUSY;
 1583              		.loc 1 473 0
 1584 006e 404B     		ldr	r3, .L128+20
 1585 0070 9847     		blx	r3
 1586              	.LVL122:
 1587 0072 0128     		cmp	r0, #1
 1588 0074 65D0     		beq	.L118
 477:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		cycle++;
 1589              		.loc 1 477 0
 1590 0076 AB07     		lsls	r3, r5, #30
 476:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	if(byte_length % 4)
 1591              		.loc 1 476 0
 1592 0078 4FEA950B 		lsr	fp, r5, #2
 1593              	.LVL123:
 480:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1594              		.loc 1 480 0
 1595 007c 3D4B     		ldr	r3, .L128+24
 478:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1596              		.loc 1 478 0
 1597 007e 18BF     		it	ne
 1598 0080 0BF1010B 		addne	fp, fp, #1
 1599              	.LVL124:
 480:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1600              		.loc 1 480 0
 1601 0084 9847     		blx	r3
 1602              	.LVL125:
 482:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1603              		.loc 1 482 0
 1604 0086 4FF48072 		mov	r2, #256
 484:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 1605              		.loc 1 484 0
 1606 008a BAF1010F 		cmp	r10, #1
 1607 008e 94F83210 		ldrb	r1, [r4, #50]	@ zero_extendqisi2
 482:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1608              		.loc 1 482 0
 1609 0092 2280     		strh	r2, [r4]	@ movhi
 1610 0094 4FF0180E 		mov	lr, #24
 1611 0098 324B     		ldr	r3, .L128+8
 1612 009a 94F83E20 		ldrb	r2, [r4, #62]	@ zero_extendqisi2
 484:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 1613              		.loc 1 484 0
 1614 009e 12D1     		bne	.L112
 486:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_cmd_cycle = 24;
 1615              		.loc 1 486 0
 1616 00a0 3220     		movs	r0, #50
 488:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_cmd_cycle = byte_length << 1;
 1617              		.loc 1 488 0
 1618 00a2 6AF30201 		bfi	r1, r10, #0, #3
 486:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_cmd_cycle = 24;
 1619              		.loc 1 486 0
 1620 00a6 5862     		str	r0, [r3, #36]
 487:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_lanes 	= ONE_LANE;
 1621              		.loc 1 487 0
 1622 00a8 188E     		ldrh	r0, [r3, #48]
 1623 00aa 6EF30900 		bfi	r0, lr, #0, #10
 488:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_cmd_cycle = byte_length << 1;
 1624              		.loc 1 488 0
 1625 00ae 83F83210 		strb	r1, [r3, #50]
 489:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_lanes		= FOUR_LANES;
 1626              		.loc 1 489 0
 1627 00b2 6900     		lsls	r1, r5, #1
 487:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_lanes 	= ONE_LANE;
 1628              		.loc 1 487 0
 1629 00b4 1886     		strh	r0, [r3, #48]	@ movhi
 489:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_lanes		= FOUR_LANES;
 1630              		.loc 1 489 0
 1631 00b6 988F     		ldrh	r0, [r3, #60]
 1632 00b8 61F30900 		bfi	r0, r1, #0, #10
 490:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1633              		.loc 1 490 0
 1634 00bc 0421     		movs	r1, #4
 489:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_lanes		= FOUR_LANES;
 1635              		.loc 1 489 0
 1636 00be 9887     		strh	r0, [r3, #60]	@ movhi
 490:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1637              		.loc 1 490 0
 1638 00c0 61F30202 		bfi	r2, r1, #0, #3
 1639 00c4 13E0     		b	.L125
 1640              	.L112:
 494:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_cmd_cycle = 24;
 1641              		.loc 1 494 0
 1642 00c6 0220     		movs	r0, #2
 1643 00c8 5862     		str	r0, [r3, #36]
 495:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_lanes		= ONE_LANE;
 1644              		.loc 1 495 0
 1645 00ca 188E     		ldrh	r0, [r3, #48]
 1646 00cc 6EF30900 		bfi	r0, lr, #0, #10
 497:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_lanes		= ONE_LANE;
 1647              		.loc 1 497 0
 1648 00d0 B3F83CE0 		ldrh	lr, [r3, #60]
 495:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_addr_conf.pp_lanes		= ONE_LANE;
 1649              		.loc 1 495 0
 1650 00d4 1886     		strh	r0, [r3, #48]	@ movhi
 496:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_cmd_cycle	= byte_length << 3;
 1651              		.loc 1 496 0
 1652 00d6 0120     		movs	r0, #1
 1653 00d8 60F30201 		bfi	r1, r0, #0, #3
 498:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1654              		.loc 1 498 0
 1655 00dc 60F30202 		bfi	r2, r0, #0, #3
 496:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_cmd_cycle	= byte_length << 3;
 1656              		.loc 1 496 0
 1657 00e0 83F83210 		strb	r1, [r3, #50]
 497:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		qspi_transfer_cmd.pp_mode.pp_data_conf.pp_lanes		= ONE_LANE;
 1658              		.loc 1 497 0
 1659 00e4 E900     		lsls	r1, r5, #3
 1660 00e6 61F3090E 		bfi	lr, r1, #0, #10
 1661 00ea A3F83CE0 		strh	lr, [r3, #60]	@ movhi
 1662              	.L125:
 498:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1663              		.loc 1 498 0
 1664 00ee 83F83E20 		strb	r2, [r3, #62]
 501:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_cmd_conf.pp_lanes			= ONE_LANE;
 1665              		.loc 1 501 0
 1666 00f2 0822     		movs	r2, #8
 1667 00f4 238D     		ldrh	r3, [r4, #40]
 1668 00f6 62F30903 		bfi	r3, r2, #0, #10
 502:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_addr_code					= flash_addr;
 1669              		.loc 1 502 0
 1670 00fa 0122     		movs	r2, #1
 501:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_cmd_conf.pp_lanes			= ONE_LANE;
 1671              		.loc 1 501 0
 1672 00fc 2385     		strh	r3, [r4, #40]	@ movhi
 502:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_addr_code					= flash_addr;
 1673              		.loc 1 502 0
 1674 00fe 94F82A30 		ldrb	r3, [r4, #42]	@ zero_extendqisi2
 1675 0102 62F30203 		bfi	r3, r2, #0, #3
 505:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_conf.pp_lanes		= NO_LANE;
 1676              		.loc 1 505 0
 1677 0106 228F     		ldrh	r2, [r4, #56]
 503:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_code					= 0x00000000;
 1678              		.loc 1 503 0
 1679 0108 C4F82C80 		str	r8, [r4, #44]
 502:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_addr_code					= flash_addr;
 1680              		.loc 1 502 0
 1681 010c 84F82A30 		strb	r3, [r4, #42]
 504:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_conf.pp_cmd_cycle	= 0;
 1682              		.loc 1 504 0
 1683 0110 0023     		movs	r3, #0
 505:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_conf.pp_lanes		= NO_LANE;
 1684              		.loc 1 505 0
 1685 0112 63F30902 		bfi	r2, r3, #0, #10
 504:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_conf.pp_cmd_cycle	= 0;
 1686              		.loc 1 504 0
 1687 0116 6363     		str	r3, [r4, #52]
 505:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	qspi_transfer_cmd.pp_mode.pp_dummy_conf.pp_lanes		= NO_LANE;
 1688              		.loc 1 505 0
 1689 0118 2287     		strh	r2, [r4, #56]	@ movhi
 506:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1690              		.loc 1 506 0
 1691 011a 94F83A20 		ldrb	r2, [r4, #58]	@ zero_extendqisi2
 1692 011e 63F30202 		bfi	r2, r3, #0, #3
 1693 0122 84F83A20 		strb	r2, [r4, #58]
 1694              	.LVL126:
 511:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1695              		.loc 1 511 0
 1696 0126 226C     		ldr	r2, [r4, #64]
 1697              	.LVL127:
 1698              	.L114:
 509:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 1699              		.loc 1 509 0
 1700 0128 5B45     		cmp	r3, fp
 1701 012a 05D0     		beq	.L127
 511:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 1702              		.loc 1 511 0
 1703 012c 59F82310 		ldr	r1, [r9, r3, lsl #2]
 1704 0130 42F82310 		str	r1, [r2, r3, lsl #2]
 509:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 1705              		.loc 1 509 0
 1706 0134 0133     		adds	r3, r3, #1
 1707              	.LVL128:
 1708 0136 F7E7     		b	.L114
 1709              	.L127:
 514:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1710              		.loc 1 514 0
 1711 0138 0F4B     		ldr	r3, .L128+28
 1712              	.LVL129:
 1713 013a 0A48     		ldr	r0, .L128+8
 1714 013c 9847     		blx	r3
 1715              	.LVL130:
 516:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 1716              		.loc 1 516 0
 1717 013e 0F4B     		ldr	r3, .L128+32
 1718 0140 9847     		blx	r3
 1719              	.LVL131:
 1720              	.L118:
 1721              	.LBE11:
 1722              	.LBE13:
 575:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 576:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		cmd_write(addr, pbuf, tlen, qmode);
 577:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		addr += tlen;
 1723              		.loc 1 577 0
 1724 0142 A844     		add	r8, r8, r5
 1725              	.LVL132:
 578:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		pbuf += tlen;
 1726              		.loc 1 578 0
 1727 0144 A944     		add	r9, r9, r5
 1728              	.LVL133:
 579:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		len -= tlen;
 1729              		.loc 1 579 0
 1730 0146 761B     		subs	r6, r6, r5
 1731              	.LVL134:
 1732 0148 68E7     		b	.L104
 1733              	.LVL135:
 1734              	.L126:
 580:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 581:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 582:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreGive(semaphore);
 1735              		.loc 1 582 0
 1736 014a 3868     		ldr	r0, [r7]
 1737 014c 3146     		mov	r1, r6
 1738 014e 3246     		mov	r2, r6
 1739 0150 3346     		mov	r3, r6
 1740 0152 0B4C     		ldr	r4, .L128+36
 1741 0154 A047     		blx	r4
 1742              	.LVL136:
 583:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 584:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 585:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 586:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 1743              		.loc 1 586 0
 1744 0156 0220     		movs	r0, #2
 1745 0158 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1746              	.LVL137:
 1747              	.L129:
 1748              		.align	2
 1749              	.L128:
 1750 015c 00000000 		.word	.LANCHOR5
 1751 0160 00000000 		.word	xQueueGenericReceive
 1752 0164 00000000 		.word	.LANCHOR0
 1753 0168 00000000 		.word	.LANCHOR9
 1754 016c 00000000 		.word	assert_failed
 1755 0170 00000000 		.word	is_flash_busy
 1756 0174 00000000 		.word	write_enable
 1757 0178 00000000 		.word	transfer_cmd
 1758 017c 00000000 		.word	read_status
 1759 0180 00000000 		.word	xQueueGenericSend
 1760              		.cfi_endproc
 1761              	.LFE11:
 1763              		.section	.text.flash_sector_erase,"ax",%progbits
 1764              		.align	1
 1765              		.global	flash_sector_erase
 1766              		.thumb
 1767              		.thumb_func
 1769              	flash_sector_erase:
 1770              	.LFB12:
 587:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 588:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 589:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * flash_sector_erase
 590:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 591:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** flash_status_t flash_sector_erase(uint16_t first_sector,
 592:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 									uint16_t number_sectors)
 593:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 1771              		.loc 1 593 0
 1772              		.cfi_startproc
 1773              		@ args = 0, pretend = 0, frame = 0
 1774              		@ frame_needed = 0, uses_anonymous_args = 0
 1775              	.LVL138:
 1776 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1777              	.LCFI10:
 1778              		.cfi_def_cfa_offset 24
 1779              		.cfi_offset 3, -24
 1780              		.cfi_offset 4, -20
 1781              		.cfi_offset 5, -16
 1782              		.cfi_offset 6, -12
 1783              		.cfi_offset 7, -8
 1784              		.cfi_offset 14, -4
 594:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 595:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreTake(semaphore, portMAX_DELAY);
 1785              		.loc 1 595 0
 1786 0002 134C     		ldr	r4, .L136
 593:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1787              		.loc 1 593 0
 1788 0004 0E46     		mov	r6, r1
 1789              		.loc 1 595 0
 1790 0006 0021     		movs	r1, #0
 1791              	.LVL139:
 1792 0008 124D     		ldr	r5, .L136+4
 593:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1793              		.loc 1 593 0
 1794 000a 0746     		mov	r7, r0
 1795              		.loc 1 595 0
 1796 000c 4FF0FF32 		mov	r2, #-1
 1797 0010 2068     		ldr	r0, [r4]
 1798              	.LVL140:
 1799 0012 0B46     		mov	r3, r1
 1800 0014 A847     		blx	r5
 1801              	.LVL141:
 1802              	.LBB14:
 596:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 597:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	for (int i = 0; i < number_sectors; i++)
 1803              		.loc 1 597 0
 1804 0016 0025     		movs	r5, #0
 1805              	.LVL142:
 1806              	.L131:
 1807              		.loc 1 597 0 is_stmt 0 discriminator 1
 1808 0018 B542     		cmp	r5, r6
 1809 001a 10DA     		bge	.L135
 1810 001c E819     		adds	r0, r5, r7
 598:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 599:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		if (sector_erase((first_sector + i) * SECTOR_SIZE, FLASH_CMD_SE)
 1811              		.loc 1 599 0 is_stmt 1
 1812 001e D821     		movs	r1, #216
 1813 0020 0004     		lsls	r0, r0, #16
 1814 0022 0D4B     		ldr	r3, .L136+8
 1815 0024 9847     		blx	r3
 1816              	.LVL143:
 1817 0026 0228     		cmp	r0, #2
 1818 0028 07D0     		beq	.L132
 600:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				!= FLASH_SUCCESS)
 601:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		{
 602:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 603:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			xSemaphoreGive(semaphore);
 1819              		.loc 1 603 0
 1820 002a 0021     		movs	r1, #0
 1821 002c 2068     		ldr	r0, [r4]
 1822 002e 0A46     		mov	r2, r1
 1823 0030 0B46     		mov	r3, r1
 1824 0032 0A4C     		ldr	r4, .L136+12
 1825 0034 A047     		blx	r4
 1826              	.LVL144:
 604:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 605:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			return FLASH_ERROR;
 1827              		.loc 1 605 0
 1828 0036 0020     		movs	r0, #0
 1829 0038 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1830              	.LVL145:
 1831              	.L132:
 597:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 1832              		.loc 1 597 0 discriminator 2
 1833 003a 0135     		adds	r5, r5, #1
 1834              	.LVL146:
 1835 003c ECE7     		b	.L131
 1836              	.L135:
 1837              	.LBE14:
 606:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		}
 607:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 608:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 609:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreGive(semaphore);
 1838              		.loc 1 609 0
 1839 003e 0021     		movs	r1, #0
 1840 0040 2068     		ldr	r0, [r4]
 1841 0042 0A46     		mov	r2, r1
 1842 0044 0B46     		mov	r3, r1
 1843 0046 054C     		ldr	r4, .L136+12
 1844 0048 A047     		blx	r4
 1845              	.LVL147:
 610:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 611:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 1846              		.loc 1 611 0
 1847 004a 0220     		movs	r0, #2
 612:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 1848              		.loc 1 612 0
 1849 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1850              	.LVL148:
 1851              	.L137:
 1852 004e 00BF     		.align	2
 1853              	.L136:
 1854 0050 00000000 		.word	.LANCHOR5
 1855 0054 00000000 		.word	xQueueGenericReceive
 1856 0058 00000000 		.word	sector_erase
 1857 005c 00000000 		.word	xQueueGenericSend
 1858              		.cfi_endproc
 1859              	.LFE12:
 1861              		.section	.text.flash_sub_sector_erase,"ax",%progbits
 1862              		.align	1
 1863              		.global	flash_sub_sector_erase
 1864              		.thumb
 1865              		.thumb_func
 1867              	flash_sub_sector_erase:
 1868              	.LFB13:
 613:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 
 614:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** /*
 615:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  * flash_sub_sector_erase
 616:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c ****  */
 617:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** flash_status_t flash_sub_sector_erase(uint16_t first_sector,
 618:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 										uint16_t number_sectors)
 619:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** {
 1869              		.loc 1 619 0
 1870              		.cfi_startproc
 1871              		@ args = 0, pretend = 0, frame = 0
 1872              		@ frame_needed = 0, uses_anonymous_args = 0
 1873              	.LVL149:
 1874 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1875              	.LCFI11:
 1876              		.cfi_def_cfa_offset 24
 1877              		.cfi_offset 3, -24
 1878              		.cfi_offset 4, -20
 1879              		.cfi_offset 5, -16
 1880              		.cfi_offset 6, -12
 1881              		.cfi_offset 7, -8
 1882              		.cfi_offset 14, -4
 620:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 621:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreTake(semaphore, portMAX_DELAY);
 1883              		.loc 1 621 0
 1884 0002 134C     		ldr	r4, .L144
 619:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1885              		.loc 1 619 0
 1886 0004 0E46     		mov	r6, r1
 1887              		.loc 1 621 0
 1888 0006 0021     		movs	r1, #0
 1889              	.LVL150:
 1890 0008 124D     		ldr	r5, .L144+4
 619:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 1891              		.loc 1 619 0
 1892 000a 0746     		mov	r7, r0
 1893              		.loc 1 621 0
 1894 000c 4FF0FF32 		mov	r2, #-1
 1895 0010 2068     		ldr	r0, [r4]
 1896              	.LVL151:
 1897 0012 0B46     		mov	r3, r1
 1898 0014 A847     		blx	r5
 1899              	.LVL152:
 1900              	.LBB15:
 622:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 623:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	for (int i = 0; i < number_sectors; i++)
 1901              		.loc 1 623 0
 1902 0016 0025     		movs	r5, #0
 1903              	.LVL153:
 1904              	.L139:
 1905              		.loc 1 623 0 is_stmt 0 discriminator 1
 1906 0018 B542     		cmp	r5, r6
 1907 001a 10DA     		bge	.L143
 1908 001c E819     		adds	r0, r5, r7
 624:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 625:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		if (sector_erase((first_sector + i) * SUB_SECTOR_SIZE, FLASH_CMD_SSE)
 1909              		.loc 1 625 0 is_stmt 1
 1910 001e 2021     		movs	r1, #32
 1911 0020 0003     		lsls	r0, r0, #12
 1912 0022 0D4B     		ldr	r3, .L144+8
 1913 0024 9847     		blx	r3
 1914              	.LVL154:
 1915 0026 0228     		cmp	r0, #2
 1916 0028 07D0     		beq	.L140
 626:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 				!= FLASH_SUCCESS)
 627:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		{
 628:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 629:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			xSemaphoreGive(semaphore);
 1917              		.loc 1 629 0
 1918 002a 0021     		movs	r1, #0
 1919 002c 2068     		ldr	r0, [r4]
 1920 002e 0A46     		mov	r2, r1
 1921 0030 0B46     		mov	r3, r1
 1922 0032 0A4C     		ldr	r4, .L144+12
 1923 0034 A047     		blx	r4
 1924              	.LVL155:
 630:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 631:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 			return FLASH_ERROR;
 1925              		.loc 1 631 0
 1926 0036 0020     		movs	r0, #0
 1927 0038 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1928              	.LVL156:
 1929              	.L140:
 623:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	{
 1930              		.loc 1 623 0 discriminator 2
 1931 003a 0135     		adds	r5, r5, #1
 1932              	.LVL157:
 1933 003c ECE7     		b	.L139
 1934              	.L143:
 1935              	.LBE15:
 632:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 		}
 633:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	}
 634:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #ifdef ASIC_FWS2
 635:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	xSemaphoreGive(semaphore);
 1936              		.loc 1 635 0
 1937 003e 0021     		movs	r1, #0
 1938 0040 2068     		ldr	r0, [r4]
 1939 0042 0A46     		mov	r2, r1
 1940 0044 0B46     		mov	r3, r1
 1941 0046 054C     		ldr	r4, .L144+12
 1942 0048 A047     		blx	r4
 1943              	.LVL158:
 636:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** #endif
 637:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** 	return FLASH_SUCCESS;
 1944              		.loc 1 637 0
 1945 004a 0220     		movs	r0, #2
 638:/home/tienluong/workspace/atlantis_fw/platform/driver/src/flash.c **** }
 1946              		.loc 1 638 0
 1947 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1948              	.LVL159:
 1949              	.L145:
 1950 004e 00BF     		.align	2
 1951              	.L144:
 1952 0050 00000000 		.word	.LANCHOR5
 1953 0054 00000000 		.word	xQueueGenericReceive
 1954 0058 00000000 		.word	sector_erase
 1955 005c 00000000 		.word	xQueueGenericSend
 1956              		.cfi_endproc
 1957              	.LFE13:
 1959              		.global	qspi_transfer_cmd
 1960              		.section	.rodata.__FUNCTION__.6351,"a",%progbits
 1961              		.set	.LANCHOR6,. + 0
 1964              	__FUNCTION__.6351:
 1965 0000 666C6173 		.ascii	"flash_init\000"
 1965      685F696E 
 1965      697400
 1966              		.section	.bss.semaphore,"aw",%nobits
 1967              		.align	2
 1968              		.set	.LANCHOR5,. + 0
 1971              	semaphore:
 1972 0000 00000000 		.space	4
 1973              		.section	.rodata.__FUNCTION__.6356,"a",%progbits
 1974              		.set	.LANCHOR7,. + 0
 1977              	__FUNCTION__.6356:
 1978 0000 72656164 		.ascii	"read_id\000"
 1978      5F696400 
 1979              		.section	.rodata.__FUNCTION__.6362,"a",%progbits
 1980              		.set	.LANCHOR1,. + 0
 1983              	__FUNCTION__.6362:
 1984 0000 72656164 		.ascii	"read_status\000"
 1984      5F737461 
 1984      74757300 
 1985              		.section	.rodata.__FUNCTION__.6418,"a",%progbits
 1986              		.set	.LANCHOR9,. + 0
 1989              	__FUNCTION__.6418:
 1990 0000 636D645F 		.ascii	"cmd_write\000"
 1990      77726974 
 1990      6500
 1991              		.section	.rodata.__FUNCTION__.6374,"a",%progbits
 1992              		.set	.LANCHOR2,. + 0
 1995              	__FUNCTION__.6374:
 1996 0000 77726974 		.ascii	"write_enable\000"
 1996      655F656E 
 1996      61626C65 
 1996      00
 1997              		.section	.rodata.__FUNCTION__.6380,"a",%progbits
 1998              		.set	.LANCHOR8,. + 0
 2001              	__FUNCTION__.6380:
 2002 0000 62756C6B 		.ascii	"bulk_erase\000"
 2002      5F657261 
 2002      736500
 2003              		.section	.rodata.__FUNCTION__.6385,"a",%progbits
 2004              		.set	.LANCHOR4,. + 0
 2007              	__FUNCTION__.6385:
 2008 0000 73656374 		.ascii	"sector_erase\000"
 2008      6F725F65 
 2008      72617365 
 2008      00
 2009              		.section	.rodata.__FUNCTION__.6397,"a",%progbits
 2010              		.set	.LANCHOR3,. + 0
 2013              	__FUNCTION__.6397:
 2014 0000 636D645F 		.ascii	"cmd_read\000"
 2014      72656164 
 2014      00
 2015              		.section	.bss.qspi_transfer_cmd,"aw",%nobits
 2016              		.align	2
 2017              		.set	.LANCHOR0,. + 0
 2020              	qspi_transfer_cmd:
 2021 0000 00000000 		.space	80
 2021      00000000 
 2021      00000000 
 2021      00000000 
 2021      00000000 
 2022              		.text
 2023              	.Letext0:
 2024              		.file 2 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/machine/_default_types
 2025              		.file 3 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/stdint.h"
 2026              		.file 4 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/portable/GCC/cortex-r4/portmacro
 2027              		.file 5 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/queue.h"
 2028              		.file 6 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/semphr.h"
 2029              		.file 7 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_qspi.h"
 2030              		.file 8 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/flash.h"
DEFINED SYMBOLS
                            *ABS*:00000000 flash.c
     /tmp/cc1Tnvzb.s:19     .text.read_status:00000000 $t
     /tmp/cc1Tnvzb.s:23     .text.read_status:00000000 read_status
     /tmp/cc1Tnvzb.s:161    .text.read_status:000000ac $d
     /tmp/cc1Tnvzb.s:169    .text.is_flash_busy:00000000 $t
     /tmp/cc1Tnvzb.s:173    .text.is_flash_busy:00000000 is_flash_busy
     /tmp/cc1Tnvzb.s:199    .text.is_flash_busy:00000014 $d
     /tmp/cc1Tnvzb.s:204    .text.write_enable:00000000 $t
     /tmp/cc1Tnvzb.s:208    .text.write_enable:00000000 write_enable
     /tmp/cc1Tnvzb.s:333    .text.write_enable:000000a0 $d
     /tmp/cc1Tnvzb.s:342    .text.cmd_read:00000000 $t
     /tmp/cc1Tnvzb.s:346    .text.cmd_read:00000000 cmd_read
     /tmp/cc1Tnvzb.s:782    .text.cmd_read:0000023c $d
     /tmp/cc1Tnvzb.s:790    .text.sector_erase:00000000 $t
     /tmp/cc1Tnvzb.s:794    .text.sector_erase:00000000 sector_erase
     /tmp/cc1Tnvzb.s:949    .text.sector_erase:000000bc $d
     /tmp/cc1Tnvzb.s:960    .text.flash_init:00000000 $t
     /tmp/cc1Tnvzb.s:965    .text.flash_init:00000000 flash_init
     /tmp/cc1Tnvzb.s:1014   .text.flash_init:0000002c $d
     /tmp/cc1Tnvzb.s:1024   .text.read_id:00000000 $t
     /tmp/cc1Tnvzb.s:1029   .text.read_id:00000000 read_id
     /tmp/cc1Tnvzb.s:1173   .text.read_id:000000c0 $d
     /tmp/cc1Tnvzb.s:1184   .text.bulk_erase:00000000 $t
     /tmp/cc1Tnvzb.s:1189   .text.bulk_erase:00000000 bulk_erase
     /tmp/cc1Tnvzb.s:1357   .text.bulk_erase:000000d8 $d
     /tmp/cc1Tnvzb.s:1371   .text.flash_read:00000000 $t
     /tmp/cc1Tnvzb.s:1376   .text.flash_read:00000000 flash_read
     /tmp/cc1Tnvzb.s:1463   .text.flash_read:00000054 $d
     /tmp/cc1Tnvzb.s:1471   .text.flash_write:00000000 $t
     /tmp/cc1Tnvzb.s:1476   .text.flash_write:00000000 flash_write
     /tmp/cc1Tnvzb.s:1750   .text.flash_write:0000015c $d
     /tmp/cc1Tnvzb.s:1764   .text.flash_sector_erase:00000000 $t
     /tmp/cc1Tnvzb.s:1769   .text.flash_sector_erase:00000000 flash_sector_erase
     /tmp/cc1Tnvzb.s:1854   .text.flash_sector_erase:00000050 $d
     /tmp/cc1Tnvzb.s:1862   .text.flash_sub_sector_erase:00000000 $t
     /tmp/cc1Tnvzb.s:1867   .text.flash_sub_sector_erase:00000000 flash_sub_sector_erase
     /tmp/cc1Tnvzb.s:1952   .text.flash_sub_sector_erase:00000050 $d
     /tmp/cc1Tnvzb.s:2020   .bss.qspi_transfer_cmd:00000000 qspi_transfer_cmd
     /tmp/cc1Tnvzb.s:1964   .rodata.__FUNCTION__.6351:00000000 __FUNCTION__.6351
     /tmp/cc1Tnvzb.s:1967   .bss.semaphore:00000000 $d
     /tmp/cc1Tnvzb.s:1971   .bss.semaphore:00000000 semaphore
     /tmp/cc1Tnvzb.s:1977   .rodata.__FUNCTION__.6356:00000000 __FUNCTION__.6356
     /tmp/cc1Tnvzb.s:1983   .rodata.__FUNCTION__.6362:00000000 __FUNCTION__.6362
     /tmp/cc1Tnvzb.s:1989   .rodata.__FUNCTION__.6418:00000000 __FUNCTION__.6418
     /tmp/cc1Tnvzb.s:1995   .rodata.__FUNCTION__.6374:00000000 __FUNCTION__.6374
     /tmp/cc1Tnvzb.s:2001   .rodata.__FUNCTION__.6380:00000000 __FUNCTION__.6380
     /tmp/cc1Tnvzb.s:2007   .rodata.__FUNCTION__.6385:00000000 __FUNCTION__.6385
     /tmp/cc1Tnvzb.s:2013   .rodata.__FUNCTION__.6397:00000000 __FUNCTION__.6397
     /tmp/cc1Tnvzb.s:2016   .bss.qspi_transfer_cmd:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
assert_failed
transfer_cmd
xQueueCreateMutex
xQueueGenericReceive
xQueueGenericSend
