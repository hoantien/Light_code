   1              		.syntax unified
   2              		.cpu cortex-r4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"light_system.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.asic2_intr_handler,"ax",%progbits
  19              		.align	1
  20              		.global	asic2_intr_handler
  21              		.thumb
  22              		.thumb_func
  24              	asic2_intr_handler:
  25              	.LFB11:
  26              		.file 1 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c"
   1:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /*******************************************************************************
   2:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Copyright (c) 2016, The LightCo
   3:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * All rights reserved.
   4:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Redistribution and use in source and binary forms, with or without
   5:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * modification, are strictly prohibited without prior permission
   6:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * of The LightCo.
   7:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *
   8:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @file    light_system.c
   9:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @author  The LightCo
  10:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @version V1.0.0
  11:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @date    Juk-16-2016
  12:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief   This file contains expand for Light system object
  13:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *
  14:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  ******************************************************************************/
  15:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Includes ------------------------------------------------------------------*/
  16:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "std_type.h"
  17:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "assert.h"
  18:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "log.h"
  19:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "os.h"
  20:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "board_config.h"
  21:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "lcc_system.h"
  22:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "lcc_cmd.h"
  23:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "optical.h"
  24:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "task_cam_ctrl.h"
  25:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "task_ccb_ctrl.h"
  26:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "task_af_ctrl.h"
  27:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "light_system.h"
  28:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "actuator.h"
  29:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "flash.h"
  30:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "lcc_cmd.h"
  31:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
  32:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private define-------------------------------------------------------------*/
  33:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define SLOGF_ID				SLOG_ID_LIGHT_SYSTEM
  34:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CAM_A_QUANTITY			5
  35:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CAM_B_QUANTITY			5
  36:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CAM_C_QUANTITY			6
  37:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CALIB_DATA_OFFSET           (0x110000)
  38:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CALIB_DATA_SIZE_OFFSET		(0x140000)
  39:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private typedef -----------------------------------------------------------*/
  40:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private macro -------------------------------------------------------------*/
  41:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private variables----------------------------------------------------------*/
  42:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* The camera lookup table with CAMERA_TBL was predefined in lookup_tbl.mk.
  43:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This table can edit depend on platform or design
  44:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
  45:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** const uint16_t lookup_tbl[] = CAMERA_TBL;
  46:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** const uint8_t modules_tbl[] =
  47:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						{	0x00,								/* Global */
  48:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							0xA1, 0xA2, 0xA3, 0xA4, 0xA5,		/* Group A */
  49:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							0xB1, 0xB2, 0xB3, 0xB4, 0xB5,		/* Group B */
  50:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							0xC1, 0xC2, 0xC3, 0xC4, 0xC5, 0xC6	/* Group C */
  51:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						};
  52:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** const uint8_t modules_tlb_size = ARRAY_SIZE(modules_tbl);
  53:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /*
  54:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Light System
  55:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
  56:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static light_ccb_t light_sys;
  57:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
  58:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static hal_gpio_t intr;
  59:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static EventGroupHandle_t intr_sync_event;
  60:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static xSemaphoreHandle intr_asic2_sync_sem;
  61:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static xSemaphoreHandle intr_asic3_sync_sem;
  62:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
  63:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static QueueHandle_t intr_src_queue = NULL;
  64:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static SemaphoreHandle_t intr_semaphore = NULL;
  65:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Exported Global variables--------------------------------------------------*/
  66:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Light System #light_system */
  67:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** light_ccb_t * const light_system = &light_sys;
  68:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
  69:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* sync queue to hold the messages from asic forward to asic2 and asic 3*/
  70:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** asic_sync_t *asic_sync_queue = NULL;
  71:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
  72:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private function-----------------------------------------------------------*/
  73:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void intr_queue_init(uint8_t queue_size);
  74:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void intr_init(void);
  75:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void set_orientation(cam_typedef_t *pcam)
  76:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	switch(pcam->info.module)
  78:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
  79:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
  80:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B4:
  81:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B3:
  82:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B2:
  83:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C2:
  84:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C4:
  85:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C5:
  86:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C6:
  87:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_VERTICAL;
  88:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
  89:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B5:
  90:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B1:
  91:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C1:
  92:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C3:
  93:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_HORIZONTAL;
  94:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
  95:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_A5:
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_VERTICAL | FLIP_HORIZONTAL;
  97:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
  98:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	default:
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_NONE;
 100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Exported functions --------------------------------------------------------*/
 104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_camera_init(void)
 105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t *p_focal_length;
 108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t i, j, ch;
 109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	flash_init();
 110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < light_system->cam_tbl_size; i++)
 111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam = &light_system->cam_tbl[i];
 113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Image sensor memory allocate */
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image = assert_malloc(pcam->image, sizeof(img_sensor_t));
 115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Lens optical system memory allocate */
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical = assert_malloc(pcam->optical, sizeof(optical_t));
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->settings = assert_malloc(pcam->settings, sizeof(cam_data_t));
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->settings = assert_malloc(pcam->optical->settings,
 120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(opt_data_t));
 121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		p_focal_length = (uint16_t *)pcam->optical->settings->focal_length;
 122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Allocate camera data cache for each of UCID */
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		for (j = 0; j < UC_MAX; j++)
 125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->image->settings[j] =
 127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_malloc(pcam->image->settings[j], sizeof(img_data_t));
 128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Configure the Orientation */
 131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		set_orientation(pcam);
 132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Create the semaphore to access settings */
 134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->semaphore = xSemaphoreCreateMutex();
 135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->semaphore = xSemaphoreCreateMutex();
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->semaphore = xSemaphoreCreateMutex();
 137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->semaphore);
 138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->image->semaphore);
 139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->optical->semaphore);
 140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Identify image sensor interface, just only for camera module manage
 142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		 * by this ASIC */
 143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (0 < pcam->info.ch)
 144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			ch = pcam->info.ch - 1;
 146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign I2C channel for Sensor Image, EEPROM  */
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->image->i2c_dev = I2C_CH0 + ch;
 148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign GPIO Control for CAM_STANDBY_L, CAM_PCLK, pins */
 150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->image->standby = GPIO_PORT_PIN(GPIO_PORTB, GPIO_PIN_1 + ch);
 151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if(pcam->info.grp == GRP_A)
 152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Initialize cam module type value for CAM 28MM */
 154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->settings->type = CAM_TYPE_28MM;
 155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign value of focal length */
 156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				*p_focal_length = CAM_28MM;
 157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Allocate system memory for optical VCM */
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->lens = assert_malloc(pcam->optical->lens,
 160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm_t *plens = (vcm_t *)pcam->optical->lens;
 162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* VCM share I2C channel with Sensor Image, epprom */
 164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->i2c = I2C_CH0 + ch;
 165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Some default settings */
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_data = NULL;
 167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_calib = NULL;
 168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->semaphore = xSemaphoreCreateMutex();
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->semaphore);
 171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else /* GRP_B and GRP_C */
 173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Initialize cam module type value for CAM 70MM / CAM 150MM */
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->settings->type = (pcam->info.grp == GRP_B) ?
 176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_TYPE_70MM : CAM_TYPE_150MM;
 177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign value of focal length */
 178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				*p_focal_length = (pcam->info.grp == GRP_B) ?
 179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_70MM : CAM_150MM;
 180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Allocate system memory for optical lens */
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->lens = assert_malloc(pcam->optical->lens,
 183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				actuator_t *plens = (actuator_t *)pcam->optical->lens;
 185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 186:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign parameters for lens */
 187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cam_info = pcam->info;
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->type = ACTUATOR_LENS;
 189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->hall_i2c = I2C_CH6 + ch;
 190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->eeprom_i2c = I2C_CH0 + ch;
 191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm = PWM0_CH1 + ch;
 192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Attempt to create the event group. */
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->event = xEventGroupCreate();
 195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->event);
 196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->semaphore = xSemaphoreCreateMutex();
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->semaphore);
 199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm_semaphore = xSemaphoreCreateBinary();
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->pwm_semaphore);
 201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Reset status of lens */
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_initialized = FALSE;
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_calibrated = FALSE;
 205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Initializes AF control pin */
 207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_t af_enable;
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				af_enable.port = GPIO_PORTC;
 209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(pcam->info.module == CAM_B2)
 210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					af_enable.pin = GPIO_PIN_4 + 3;
 211:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				else
 212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					af_enable.pin = GPIO_PIN_4 + ch;
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				af_enable.direction = GPIO_DIR_OUT;
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_init(&af_enable);
 215:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_set_high(&af_enable);
 216:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 217:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(( pcam->info.module == CAM_B4) ||
 218:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					(pcam->info.module == CAM_C5) ||
 219:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					(pcam->info.module == CAM_C6))
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					continue;
 221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Allocate system memory for optical mirror */
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->mirr = assert_malloc(pcam->optical->mirr,
 223:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(actuator_t));
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				actuator_t *mirr = (actuator_t *)pcam->optical->mirr;
 225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign parameters for mirror */
 227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->cam_info = pcam->info;
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->type = ACTUATOR_MIRROR;
 229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->hall_i2c = I2C_CH12 + ch;
 230:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->eeprom_i2c = I2C_CH0 + ch;
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->pwm = PWM1_CH1 + ch;
 232:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Attempt to create the event group. */
 234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->event = xEventGroupCreate();
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->event);
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 237:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->semaphore = xSemaphoreCreateMutex();
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->semaphore);
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->pwm_semaphore = xSemaphoreCreateBinary();
 240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->pwm_semaphore);
 241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 242:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 243:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Reset status of mirror */
 244:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->is_initialized = FALSE;
 245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->is_calibrated = FALSE;
 246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 247:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign SyncIO channel */
 249:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->sync = SG_CHANNEL_0 + ch;
 250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 251:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 252:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 253:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Initialize all camera power */
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_t power_en_gpio;
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.pin = GPIO_PIN(light_system->cam_power_en);
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.port = GPIO_PORT(light_system->cam_power_en);
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.direction = GPIO_DIR_OUT;
 258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&power_en_gpio);
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&power_en_gpio);
 260:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable power for actuators */
 262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	*((__IO uint32_t *)0x020000A8) |= 0x00000600;
 264:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 265:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_t af_enable;
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.port = GPIO_PORTC;
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.direction = GPIO_DIR_OUT;
 268:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable piezo power regulator 1*/
 269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.pin = GPIO_PIN_12;
 270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 271:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 272:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable piezo power regulator 2*/
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.pin = GPIO_PIN_13;
 274:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 275:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 276:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM0_CH5, PWM_PIN_POS);
 278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM0_CH5, PWM_PIN_NEG);
 279:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init interrupt */
 280:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_init();
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 283:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_camera_task_create(void)
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	BaseType_t ret = pdTRUE;
 286:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Add task to os kernel */
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (uint8_t i = 0; i < TASK_NUM; i++)
 289:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 290:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].idx = i;
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].state = TASK_INITIALIZE;
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].time_sleep = task_list[i].time_sleep;
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret &= xTaskCreate(
 294:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].task,		/* task function */
 295:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].name,		/* task name */
 296:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].stacksize,	/* stack size */
 297:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							&task_handler[i],		/* passing parameters */
 298:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].prio,		/* task priority */
 299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							&task_handler[i].handle	/* handle */
 300:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							);
 301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Assert the creation task return to make sure all of
 302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			camera task was created */
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pdPASS == ret);
 304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 306:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Camera task creation */
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	task_cam_create();
 308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Actuator task creation for LENS & MIRROR piezo control */
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	task_actuator_create();
 310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 311:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 312:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_system_init(void)
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_t info;
 316:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t i, j, idx;
 317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Scan module table to detect Camera module self manage and sub ASIC's
 318:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	 * camera module, the camera table size depend on ASIC */
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cam_tbl_size = 0;
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_bitmask_all = 0;
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter = 0;
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic1 = 0;
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic2 = 0;
 324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     light_system->asic1_read_event = xEventGroupCreate();
 326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic2_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_6);
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic3_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_7);
 328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cb_asic2_intr = asic2_intr_handler;
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cb_asic3_intr = asic3_intr_handler;
 330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init input interrupt signal for ASIC2 & ASIC3 */
 331:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_t intr;
 332:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_exti_t gpio_intr;
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.int_type = GPIO_EXTI_RISING_EDGE;
 334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.direction = GPIO_DIR_IN;
 335:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.port = GPIO_PORTA;
 336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* To be trigged from asic 2*/
 337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.pin = light_system->asic2_intr;
 338:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.pin = light_system->asic2_intr;
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.irq_handler = light_system->cb_asic2_intr;
 340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* To be trigged from asic 3*/
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.pin = light_system->asic3_intr;
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.pin = light_system->asic3_intr;
 345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.irq_handler = light_system->cb_asic3_intr;
 346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 347:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 348:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Create event group for interrupt signal*/
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_sync_event = xEventGroupCreate();
 350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic2_sync_sem = xSemaphoreCreateMutex();
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic3_sync_sem = xSemaphoreCreateMutex();
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 353:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Get camera module table size */
 354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < CAMERA_MAX(); i++)
 355:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (lookup_tbl[i] != 0x0000)
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->cam_tbl_size++;
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 360:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Allocate memory for Light camera object */
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cam_tbl = assert_malloc(light_system->cam_tbl,
 362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	j = 0;
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < CAMERA_MAX(); i++)
 365:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		info.ident = lookup_tbl[i];
 367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (info.ident != 0x0000)
 368:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->cam_tbl[j++].info.ident = info.ident;
 370:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 371:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Update camera module bit-mask */
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			idx = module_to_idx(info.module);
 373:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->m_bitmask_all |= (1 << idx);
 375:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 376:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (info.sub_asic == 0)
 378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter |= (1 << idx);
 379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC1 */
 380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else if (info.sub_asic == 1)
 381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic1 |= (1 << idx);
 382:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC2 */
 383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else if (info.sub_asic == 2)
 384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic2 |= (1 << idx);
 385:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 386:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Allocate memory for Light settings object */
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings = assert_malloc(light_system->settings,
 390:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 392:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init the log ctrl value */
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->log_ctrl = LOG_VERBOSE_DEFAULT;
 394:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 395:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init value of ASIC Light Protocol */
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[0] = ASIC_FW_VERSION_MAJOR;
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[1] = ASIC_FW_VERSION_MINOR;
 398:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 399:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init value of Firmware Version */
 400:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* uint32_t tmp[2] = {ASIC_FW_VERSION_MAJOR, ASIC_FW_VERSION_MINOR}; */
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	strcpy((char *)light_system->settings->fw_version, ASIC_FW_VERSION);
 402:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 403:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init value of Calib Version */
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[0] = ASIC_CALIB_VERSION_MAJOR;
 405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[1] = ASIC_CALIB_VERSION_MINOR;
 406:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cam_power_en = GPIO_PORT_PIN(GPIO_PORTB, GPIO_PIN_0);
 408:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 409:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     /* Init values for auto-focus */
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->zoom_factor = 1.0f;
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->af_ctrl = assert_malloc(light_system->af_ctrl, sizeof(af_ctrl_t));
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 413:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 414:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 415:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /*
 416:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Light main program
 417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_main(void)
 419:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 420:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Light camera control board initialization */
 421:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system_init();
 422:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Camera initialization */
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_camera_init();
 424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_camera_task_create();
 425:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Initialize command processing */
 426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     lcc_cmd_init();
 427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     /* Start the scheduler so our tasks start executing. */
 428:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskStartScheduler();
 429:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 430:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 431:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint32_t object_to_cam_bitmask(cam_typedef_t *pcam)
 432:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint32_t cam_bitmask = 0;
 434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(pcam != NULL)
 435:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		switch(pcam->info.grp)
 437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 438:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			case 0x0A:
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				cam_bitmask = 1 << (pcam->info.idx + 0);
 440:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 441:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			case 0x0B:
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				cam_bitmask = 1 << (pcam->info.idx + CAM_A_QUANTITY);
 443:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			case 0x0C:
 445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				cam_bitmask = 1 << (pcam->info.idx + CAM_A_QUANTITY +
 446:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                                     CAM_B_QUANTITY);
 447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 448:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 450:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return cam_bitmask;
 451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 452:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 453:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint8_t module_to_idx(uint8_t module)
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 455:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t idx = ARRAY_SIZE(modules_tbl);
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while ((--idx > 0) && (module != modules_tbl[idx]));
 457:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return idx;
 458:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 459:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 460:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint8_t idx_to_module(uint8_t idx)
 461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 462:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return modules_tbl[idx];
 463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 464:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 465:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_typedef_t *idx_to_object(uint8_t idx)
 466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 467:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 468:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (uint8_t i = 0; i < light_system->cam_tbl_size; i++)
 470:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam = &light_system->cam_tbl[i];
 472:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pcam->info.module == modules_tbl[idx])
 473:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return pcam;
 474:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	SLOGF(SLOG_ERROR, "Cannot find this module");
 476:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return NULL;
 477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 478:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 479:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_typedef_t *chan_to_object(uint8_t ch)
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     cam_typedef_t *pcam;
 482:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     for (uint8_t i = 0; i < light_system->cam_tbl_size; i++)
 484:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     {
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         pcam = &light_system->cam_tbl[i];
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         if (pcam->info.ch == ch)
 487:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****             return pcam;
 488:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     }
 489:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     SLOGF(SLOG_ERROR, "Cannot find this module");
 490:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     return NULL;
 491:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 492:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 493:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
 494:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void asic2_intr_handler(void)
 495:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
  27              		.loc 1 495 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 10B5     		push	{r4, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(light_system->wait_intr_stream & ASIC_2)
  36              		.loc 1 496 0
  37 0002 0E4B     		ldr	r3, .L6
  38 0004 93F89412 		ldrb	r1, [r3, #660]	@ zero_extendqisi2
  39 0008 01F00400 		and	r0, r1, #4
  40 000c 00F0FF02 		and	r2, r0, #255
  41 0010 0B4C     		ldr	r4, .L6+4
  42 0012 40B1     		cbz	r0, .L2
 497:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 498:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->wait_intr_stream &= ~ASIC_2;
  43              		.loc 1 498 0
  44 0014 21F00401 		bic	r1, r1, #4
 499:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(intr_sync_event,
  45              		.loc 1 499 0
  46 0018 0022     		movs	r2, #0
 498:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(intr_sync_event,
  47              		.loc 1 498 0
  48 001a 83F89412 		strb	r1, [r3, #660]
  49              		.loc 1 499 0
  50 001e 0421     		movs	r1, #4
  51 0020 084B     		ldr	r3, .L6+8
  52 0022 1868     		ldr	r0, [r3]
  53 0024 07E0     		b	.L4
  54              	.L2:
  55              	.LBB5:
  56              	.LBB6:
 500:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								ASIC_2,
 501:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								NULL);
 502:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 503:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 504:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 505:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->asic_intr_queue_num.asic2_intr_num++;
  57              		.loc 1 505 0
  58 0026 93F89512 		ldrb	r1, [r3, #661]	@ zero_extendqisi2
  59 002a 0131     		adds	r1, r1, #1
 506:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(light_system->asic1_read_event,
  60              		.loc 1 506 0
  61 002c D3F89002 		ldr	r0, [r3, #656]
 505:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(light_system->asic1_read_event,
  62              		.loc 1 505 0
  63 0030 83F89512 		strb	r1, [r3, #661]
  64              		.loc 1 506 0
  65 0034 0121     		movs	r1, #1
  66              	.L4:
  67 0036 A047     		blx	r4
  68              	.LVL0:
  69 0038 10BD     		pop	{r4, pc}
  70              	.L7:
  71 003a 00BF     		.align	2
  72              	.L6:
  73 003c 00000000 		.word	.LANCHOR0
  74 0040 00000000 		.word	xEventGroupSetBitsFromISR
  75 0044 00000000 		.word	.LANCHOR1
  76              	.LBE6:
  77              	.LBE5:
  78              		.cfi_endproc
  79              	.LFE11:
  81              		.section	.text.asic3_intr_handler,"ax",%progbits
  82              		.align	1
  83              		.global	asic3_intr_handler
  84              		.thumb
  85              		.thumb_func
  87              	asic3_intr_handler:
  88              	.LFB12:
 507:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							ASIC_READ_ASIC_2, NULL);
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 509:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 510:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 511:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 512:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void asic3_intr_handler(void)
 513:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
  89              		.loc 1 513 0
  90              		.cfi_startproc
  91              		@ args = 0, pretend = 0, frame = 0
  92              		@ frame_needed = 0, uses_anonymous_args = 0
  93 0000 10B5     		push	{r4, lr}
  94              	.LCFI1:
  95              		.cfi_def_cfa_offset 8
  96              		.cfi_offset 4, -8
  97              		.cfi_offset 14, -4
 514:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(light_system->wait_intr_stream & ASIC_3)
  98              		.loc 1 514 0
  99 0002 0E4B     		ldr	r3, .L12
 100 0004 93F89412 		ldrb	r1, [r3, #660]	@ zero_extendqisi2
 101 0008 01F00800 		and	r0, r1, #8
 102 000c 00F0FF02 		and	r2, r0, #255
 103 0010 0B4C     		ldr	r4, .L12+4
 104 0012 40B1     		cbz	r0, .L9
 515:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->wait_intr_stream &= ~ASIC_3;
 105              		.loc 1 516 0
 106 0014 21F00801 		bic	r1, r1, #8
 517:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(intr_sync_event,
 107              		.loc 1 517 0
 108 0018 0022     		movs	r2, #0
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(intr_sync_event,
 109              		.loc 1 516 0
 110 001a 83F89412 		strb	r1, [r3, #660]
 111              		.loc 1 517 0
 112 001e 0821     		movs	r1, #8
 113 0020 084B     		ldr	r3, .L12+8
 114 0022 1868     		ldr	r0, [r3]
 115 0024 07E0     		b	.L11
 116              	.L9:
 117              	.LBB9:
 118              	.LBB10:
 518:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							ASIC_3,
 519:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							NULL);
 520:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 521:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 522:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 523:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->asic_intr_queue_num.asic3_intr_num++;
 119              		.loc 1 523 0
 120 0026 93F89612 		ldrb	r1, [r3, #662]	@ zero_extendqisi2
 121 002a 0131     		adds	r1, r1, #1
 524:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(light_system->asic1_read_event,
 122              		.loc 1 524 0
 123 002c D3F89002 		ldr	r0, [r3, #656]
 523:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(light_system->asic1_read_event,
 124              		.loc 1 523 0
 125 0030 83F89612 		strb	r1, [r3, #662]
 126              		.loc 1 524 0
 127 0034 0221     		movs	r1, #2
 128              	.L11:
 129 0036 A047     		blx	r4
 130              	.LVL1:
 131 0038 10BD     		pop	{r4, pc}
 132              	.L13:
 133 003a 00BF     		.align	2
 134              	.L12:
 135 003c 00000000 		.word	.LANCHOR0
 136 0040 00000000 		.word	xEventGroupSetBitsFromISR
 137 0044 00000000 		.word	.LANCHOR1
 138              	.LBE10:
 139              	.LBE9:
 140              		.cfi_endproc
 141              	.LFE12:
 143              		.section	.text.light_camera_init,"ax",%progbits
 144              		.align	1
 145              		.global	light_camera_init
 146              		.thumb
 147              		.thumb_func
 149              	light_camera_init:
 150              	.LFB2:
 105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 151              		.loc 1 105 0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 16
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 155 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 156              	.LCFI2:
 157              		.cfi_def_cfa_offset 36
 158              		.cfi_offset 4, -36
 159              		.cfi_offset 5, -32
 160              		.cfi_offset 6, -28
 161              		.cfi_offset 7, -24
 162              		.cfi_offset 8, -20
 163              		.cfi_offset 9, -16
 164              		.cfi_offset 10, -12
 165              		.cfi_offset 11, -8
 166              		.cfi_offset 14, -4
 109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < light_system->cam_tbl_size; i++)
 167              		.loc 1 109 0
 168 0004 854B     		ldr	r3, .L87
 105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 169              		.loc 1 105 0
 170 0006 85B0     		sub	sp, sp, #20
 171              	.LCFI3:
 172              		.cfi_def_cfa_offset 56
 109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < light_system->cam_tbl_size; i++)
 173              		.loc 1 109 0
 174 0008 9847     		blx	r3
 175              	.LVL2:
 110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 176              		.loc 1 110 0
 177 000a 4FF0000B 		mov	fp, #0
 178              	.LVL3:
 179              	.L15:
 110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 180              		.loc 1 110 0 is_stmt 0 discriminator 1
 181 000e 5FFA8BF3 		uxtb	r3, fp
 182 0012 834A     		ldr	r2, .L87+4
 183 0014 92F87210 		ldrb	r1, [r2, #114]	@ zero_extendqisi2
 184 0018 9942     		cmp	r1, r3
 185 001a 40F29E81 		bls	.L86
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Image sensor memory allocate */
 186              		.loc 1 112 0 is_stmt 1
 187 001e 3825     		movs	r5, #56
 188 0020 D2F800A0 		ldr	r10, [r2]
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Lens optical system memory allocate */
 189              		.loc 1 114 0
 190 0024 4C20     		movs	r0, #76
 191 0026 7F49     		ldr	r1, .L87+8
 192 0028 7222     		movs	r2, #114
 193 002a 7F4E     		ldr	r6, .L87+12
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Image sensor memory allocate */
 194              		.loc 1 112 0
 195 002c 5D43     		muls	r5, r3, r5
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Lens optical system memory allocate */
 196              		.loc 1 114 0
 197 002e B047     		blx	r6
 198              	.LVL4:
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Image sensor memory allocate */
 199              		.loc 1 112 0
 200 0030 0AEB0504 		add	r4, r10, r5
 201              	.LVL5:
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Lens optical system memory allocate */
 202              		.loc 1 114 0
 203 0034 4AF80500 		str	r0, [r10, r5]
 204 0038 18B9     		cbnz	r0, .L16
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Lens optical system memory allocate */
 205              		.loc 1 114 0 is_stmt 0 discriminator 2
 206 003a 7A48     		ldr	r0, .L87+8
 207 003c 7221     		movs	r1, #114
 208 003e 7B4B     		ldr	r3, .L87+16
 209 0040 9847     		blx	r3
 210              	.LVL6:
 211              	.L16:
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Lens optical system memory allocate */
 212              		.loc 1 114 0 discriminator 4
 213 0042 4AF80500 		str	r0, [r10, r5]
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 214              		.loc 1 116 0 is_stmt 1 discriminator 4
 215 0046 7422     		movs	r2, #116
 216 0048 1020     		movs	r0, #16
 217 004a 7649     		ldr	r1, .L87+8
 218 004c B047     		blx	r6
 219              	.LVL7:
 220 004e 6060     		str	r0, [r4, #4]
 221 0050 18B9     		cbnz	r0, .L17
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 222              		.loc 1 116 0 is_stmt 0 discriminator 2
 223 0052 7448     		ldr	r0, .L87+8
 224 0054 7421     		movs	r1, #116
 225 0056 754B     		ldr	r3, .L87+16
 226 0058 9847     		blx	r3
 227              	.LVL8:
 228              	.L17:
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 229              		.loc 1 116 0 discriminator 4
 230 005a 6060     		str	r0, [r4, #4]
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->settings = assert_malloc(pcam->optical->settings,
 231              		.loc 1 118 0 is_stmt 1 discriminator 4
 232 005c 7622     		movs	r2, #118
 233 005e 2120     		movs	r0, #33
 234 0060 7049     		ldr	r1, .L87+8
 235 0062 B047     		blx	r6
 236              	.LVL9:
 237 0064 A060     		str	r0, [r4, #8]
 238 0066 18B9     		cbnz	r0, .L18
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->settings = assert_malloc(pcam->optical->settings,
 239              		.loc 1 118 0 is_stmt 0 discriminator 2
 240 0068 6E48     		ldr	r0, .L87+8
 241 006a 7621     		movs	r1, #118
 242 006c 6F4B     		ldr	r3, .L87+16
 243 006e 9847     		blx	r3
 244              	.LVL10:
 245              	.L18:
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->settings = assert_malloc(pcam->optical->settings,
 246              		.loc 1 118 0 discriminator 4
 247 0070 A060     		str	r0, [r4, #8]
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(opt_data_t));
 248              		.loc 1 119 0 is_stmt 1 discriminator 4
 249 0072 7822     		movs	r2, #120
 250 0074 1220     		movs	r0, #18
 251 0076 6B49     		ldr	r1, .L87+8
 252 0078 6768     		ldr	r7, [r4, #4]
 253 007a B047     		blx	r6
 254              	.LVL11:
 255 007c B860     		str	r0, [r7, #8]
 256 007e 10B1     		cbz	r0, .L19
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(opt_data_t));
 257              		.loc 1 119 0 is_stmt 0 discriminator 1
 258 0080 6768     		ldr	r7, [r4, #4]
 259 0082 B868     		ldr	r0, [r7, #8]
 260 0084 03E0     		b	.L20
 261              	.L19:
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(opt_data_t));
 262              		.loc 1 119 0 discriminator 2
 263 0086 6748     		ldr	r0, .L87+8
 264 0088 7821     		movs	r1, #120
 265 008a 684B     		ldr	r3, .L87+16
 266 008c 9847     		blx	r3
 267              	.LVL12:
 268              	.L20:
 121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 269              		.loc 1 121 0 is_stmt 1 discriminator 4
 270 008e 6368     		ldr	r3, [r4, #4]
 271 0090 4FF00008 		mov	r8, #0
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(opt_data_t));
 272              		.loc 1 119 0 discriminator 4
 273 0094 B860     		str	r0, [r7, #8]
 121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 274              		.loc 1 121 0 discriminator 4
 275 0096 9B68     		ldr	r3, [r3, #8]
 276 0098 0093     		str	r3, [sp]
 277              	.LVL13:
 278              	.L23:
 127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 279              		.loc 1 127 0
 280 009a 1620     		movs	r0, #22
 281 009c 6149     		ldr	r1, .L87+8
 282 009e 7F22     		movs	r2, #127
 283 00a0 D4F80090 		ldr	r9, [r4]
 284 00a4 B047     		blx	r6
 285              	.LVL14:
 286 00a6 4FEA8807 		lsl	r7, r8, #2
 287 00aa 09EB0703 		add	r3, r9, r7
 288 00ae 5860     		str	r0, [r3, #4]
 289 00b0 28B1     		cbz	r0, .L21
 127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 290              		.loc 1 127 0 is_stmt 0 discriminator 1
 291 00b2 D4F80090 		ldr	r9, [r4]
 292 00b6 09EB0703 		add	r3, r9, r7
 293 00ba 5868     		ldr	r0, [r3, #4]
 294 00bc 03E0     		b	.L22
 295              	.L21:
 127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 296              		.loc 1 127 0 discriminator 2
 297 00be 5948     		ldr	r0, .L87+8
 298 00c0 7F21     		movs	r1, #127
 299 00c2 5A4B     		ldr	r3, .L87+16
 300 00c4 9847     		blx	r3
 301              	.LVL15:
 302              	.L22:
 303 00c6 08F10108 		add	r8, r8, #1
 304              	.LVL16:
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_malloc(pcam->image->settings[j], sizeof(img_data_t));
 305              		.loc 1 126 0 is_stmt 1 discriminator 2
 306 00ca 4F44     		add	r7, r7, r9
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 307              		.loc 1 124 0 discriminator 2
 308 00cc B8F10B0F 		cmp	r8, #11
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_malloc(pcam->image->settings[j], sizeof(img_data_t));
 309              		.loc 1 126 0 discriminator 2
 310 00d0 7860     		str	r0, [r7, #4]
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 311              		.loc 1 124 0 discriminator 2
 312 00d2 E2D1     		bne	.L23
 313              	.LVL17:
 314              	.LBB19:
 315              	.LBB20:
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 316              		.loc 1 77 0
 317 00d4 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 318 00d8 B52B     		cmp	r3, #181
 319 00da 5AF80520 		ldr	r2, [r10, r5]
 320 00de 13D0     		beq	.L25
 321 00e0 06D8     		bhi	.L26
 322 00e2 B12B     		cmp	r3, #177
 323 00e4 10D0     		beq	.L25
 324 00e6 0DD8     		bhi	.L27
 325 00e8 A52B     		cmp	r3, #165
 326 00ea 0FD1     		bne	.L24
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 327              		.loc 1 96 0
 328 00ec 0323     		movs	r3, #3
 329 00ee 0EE0     		b	.L84
 330              	.L26:
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 331              		.loc 1 77 0
 332 00f0 C32B     		cmp	r3, #195
 333 00f2 09D0     		beq	.L25
 334 00f4 04D8     		bhi	.L29
 335 00f6 C12B     		cmp	r3, #193
 336 00f8 06D0     		beq	.L25
 337 00fa C22B     		cmp	r3, #194
 338 00fc 02D0     		beq	.L27
 339 00fe 05E0     		b	.L24
 340              	.L29:
 341 0100 C62B     		cmp	r3, #198
 342 0102 03D8     		bhi	.L24
 343              	.L27:
  87:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 344              		.loc 1 87 0
 345 0104 0223     		movs	r3, #2
 346 0106 02E0     		b	.L84
 347              	.L25:
  93:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 348              		.loc 1 93 0
 349 0108 0123     		movs	r3, #1
 350 010a 00E0     		b	.L84
 351              	.L24:
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 352              		.loc 1 99 0
 353 010c 0023     		movs	r3, #0
 354              	.L84:
 355 010e 82F84430 		strb	r3, [r2, #68]
 356              	.LBE20:
 357              	.LBE19:
 134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->semaphore = xSemaphoreCreateMutex();
 358              		.loc 1 134 0
 359 0112 0120     		movs	r0, #1
 360 0114 464F     		ldr	r7, .L87+20
 361 0116 B847     		blx	r7
 362              	.LVL18:
 135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->semaphore = xSemaphoreCreateMutex();
 363              		.loc 1 135 0
 364 0118 5AF80580 		ldr	r8, [r10, r5]
 134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->semaphore = xSemaphoreCreateMutex();
 365              		.loc 1 134 0
 366 011c 2063     		str	r0, [r4, #48]
 135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->semaphore = xSemaphoreCreateMutex();
 367              		.loc 1 135 0
 368 011e 0120     		movs	r0, #1
 369 0120 B847     		blx	r7
 370              	.LVL19:
 371 0122 C8F83C00 		str	r0, [r8, #60]
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->semaphore);
 372              		.loc 1 136 0
 373 0126 0120     		movs	r0, #1
 374 0128 D4F80480 		ldr	r8, [r4, #4]
 375 012c B847     		blx	r7
 376              	.LVL20:
 137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->image->semaphore);
 377              		.loc 1 137 0
 378 012e 236B     		ldr	r3, [r4, #48]
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->semaphore);
 379              		.loc 1 136 0
 380 0130 C8F80C00 		str	r0, [r8, #12]
 381 0134 B846     		mov	r8, r7
 137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->image->semaphore);
 382              		.loc 1 137 0
 383 0136 1BB9     		cbnz	r3, .L31
 137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->image->semaphore);
 384              		.loc 1 137 0 is_stmt 0 discriminator 1
 385 0138 3A48     		ldr	r0, .L87+8
 386 013a 8921     		movs	r1, #137
 387 013c 3D4B     		ldr	r3, .L87+24
 388 013e 9847     		blx	r3
 389              	.LVL21:
 390              	.L31:
 138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->optical->semaphore);
 391              		.loc 1 138 0 is_stmt 1
 392 0140 5AF80530 		ldr	r3, [r10, r5]
 393 0144 DB6B     		ldr	r3, [r3, #60]
 394 0146 1BB9     		cbnz	r3, .L32
 138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->optical->semaphore);
 395              		.loc 1 138 0 is_stmt 0 discriminator 1
 396 0148 3648     		ldr	r0, .L87+8
 397 014a 8A21     		movs	r1, #138
 398 014c 394B     		ldr	r3, .L87+24
 399 014e 9847     		blx	r3
 400              	.LVL22:
 401              	.L32:
 139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 402              		.loc 1 139 0 is_stmt 1
 403 0150 6368     		ldr	r3, [r4, #4]
 404 0152 DB68     		ldr	r3, [r3, #12]
 405 0154 1BB9     		cbnz	r3, .L33
 139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 406              		.loc 1 139 0 is_stmt 0 discriminator 1
 407 0156 3348     		ldr	r0, .L87+8
 408 0158 8B21     		movs	r1, #139
 409 015a 364B     		ldr	r3, .L87+24
 410 015c 9847     		blx	r3
 411              	.LVL23:
 412              	.L33:
 143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 413              		.loc 1 143 0 is_stmt 1
 414 015e 94F82830 		ldrb	r3, [r4, #40]	@ zero_extendqisi2
 415 0162 C3F30303 		ubfx	r3, r3, #0, #4
 416 0166 5FFA83F9 		uxtb	r9, r3
 417 016a B9F1000F 		cmp	r9, #0
 418 016e 00F0F180 		beq	.L34
 145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign I2C channel for Sensor Image, EEPROM  */
 419              		.loc 1 145 0
 420 0172 09F1FF37 		add	r7, r9, #-1
 150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if(pcam->info.grp == GRP_A)
 421              		.loc 1 150 0
 422 0176 43F01003 		orr	r3, r3, #16
 145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign I2C channel for Sensor Image, EEPROM  */
 423              		.loc 1 145 0
 424 017a FFB2     		uxtb	r7, r7
 425              	.LVL24:
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 426              		.loc 1 147 0
 427 017c 5AF80520 		ldr	r2, [r10, r5]
 150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if(pcam->info.grp == GRP_A)
 428              		.loc 1 150 0
 429 0180 5370     		strb	r3, [r2, #1]
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 430              		.loc 1 147 0
 431 0182 1770     		strb	r7, [r2]
 151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 432              		.loc 1 151 0
 433 0184 94F82950 		ldrb	r5, [r4, #41]	@ zero_extendqisi2
 434 0188 05F0F005 		and	r5, r5, #240
 435 018c A02D     		cmp	r5, #160
 436 018e A368     		ldr	r3, [r4, #8]
 437 0190 29D1     		bne	.L35
 438              	.LBB21:
 154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign value of focal length */
 439              		.loc 1 154 0
 440 0192 0122     		movs	r2, #1
 156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 441              		.loc 1 156 0
 442 0194 1C20     		movs	r0, #28
 154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign value of focal length */
 443              		.loc 1 154 0
 444 0196 83F82020 		strb	r2, [r3, #32]
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 445              		.loc 1 159 0
 446 019a 2A46     		mov	r2, r5
 156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 447              		.loc 1 156 0
 448 019c 009B     		ldr	r3, [sp]
 449 019e 1880     		strh	r0, [r3]	@ movhi
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 450              		.loc 1 159 0
 451 01a0 2049     		ldr	r1, .L87+8
 452 01a2 D4F80490 		ldr	r9, [r4, #4]
 453 01a6 B047     		blx	r6
 454              	.LVL25:
 455 01a8 C9F80000 		str	r0, [r9]
 456 01ac 20B1     		cbz	r0, .L36
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 457              		.loc 1 159 0 is_stmt 0 discriminator 1
 458 01ae D4F80490 		ldr	r9, [r4, #4]
 459 01b2 D9F80000 		ldr	r0, [r9]
 460 01b6 03E0     		b	.L37
 461              	.L36:
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 462              		.loc 1 159 0 discriminator 2
 463 01b8 1A48     		ldr	r0, .L87+8
 464 01ba 2946     		mov	r1, r5
 465 01bc 1B4B     		ldr	r3, .L87+16
 466 01be 9847     		blx	r3
 467              	.LVL26:
 468              	.L37:
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 469              		.loc 1 161 0 is_stmt 1 discriminator 4
 470 01c0 6368     		ldr	r3, [r4, #4]
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 471              		.loc 1 159 0 discriminator 4
 472 01c2 C9F80000 		str	r0, [r9]
 169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->semaphore);
 473              		.loc 1 169 0 discriminator 4
 474 01c6 0120     		movs	r0, #1
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 475              		.loc 1 161 0 discriminator 4
 476 01c8 1D68     		ldr	r5, [r3]
 477              	.LVL27:
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_calib = NULL;
 478              		.loc 1 166 0 discriminator 4
 479 01ca 0023     		movs	r3, #0
 164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Some default settings */
 480              		.loc 1 164 0 discriminator 4
 481 01cc 2F70     		strb	r7, [r5]
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_calib = NULL;
 482              		.loc 1 166 0 discriminator 4
 483 01ce AB60     		str	r3, [r5, #8]
 167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 484              		.loc 1 167 0 discriminator 4
 485 01d0 6B60     		str	r3, [r5, #4]
 169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->semaphore);
 486              		.loc 1 169 0 discriminator 4
 487 01d2 C047     		blx	r8
 488              	.LVL28:
 489 01d4 E860     		str	r0, [r5, #12]
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 490              		.loc 1 170 0 discriminator 4
 491 01d6 0028     		cmp	r0, #0
 492 01d8 40F0BA80 		bne	.L38
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 493              		.loc 1 170 0 is_stmt 0 discriminator 1
 494 01dc 1148     		ldr	r0, .L87+8
 495 01de AA21     		movs	r1, #170
 496 01e0 144B     		ldr	r3, .L87+24
 497 01e2 9847     		blx	r3
 498              	.LVL29:
 499 01e4 B4E0     		b	.L38
 500              	.LVL30:
 501              	.L35:
 502              	.LBE21:
 503              	.LBB22:
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_TYPE_70MM : CAM_TYPE_150MM;
 504              		.loc 1 175 0 is_stmt 1
 505 01e6 B02D     		cmp	r5, #176
 506 01e8 0CBF     		ite	eq
 507 01ea 0222     		moveq	r2, #2
 508 01ec 0322     		movne	r2, #3
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 509              		.loc 1 182 0
 510 01ee 4820     		movs	r0, #72
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_TYPE_70MM : CAM_TYPE_150MM;
 511              		.loc 1 175 0
 512 01f0 83F82020 		strb	r2, [r3, #32]
 178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_70MM : CAM_150MM;
 513              		.loc 1 178 0
 514 01f4 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 515 01f8 03F0F003 		and	r3, r3, #240
 516 01fc B02B     		cmp	r3, #176
 517 01fe 0CBF     		ite	eq
 518 0200 4623     		moveq	r3, #70
 519 0202 9623     		movne	r3, #150
 520 0204 009A     		ldr	r2, [sp]
 521 0206 1380     		strh	r3, [r2]	@ movhi
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 522              		.loc 1 182 0
 523 0208 B722     		movs	r2, #183
 524 020a 0649     		ldr	r1, .L87+8
 525 020c 6568     		ldr	r5, [r4, #4]
 526 020e B047     		blx	r6
 527              	.LVL31:
 528 0210 2860     		str	r0, [r5]
 529 0212 88B1     		cbz	r0, .L41
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 530              		.loc 1 182 0 is_stmt 0 discriminator 1
 531 0214 6568     		ldr	r5, [r4, #4]
 532 0216 2868     		ldr	r0, [r5]
 533 0218 12E0     		b	.L42
 534              	.L88:
 535 021a 00BF     		.align	2
 536              	.L87:
 537 021c 00000000 		.word	flash_init
 538 0220 00000000 		.word	.LANCHOR0
 539 0224 00000000 		.word	.LANCHOR2
 540 0228 00000000 		.word	pvPortMalloc1
 541 022c 00000000 		.word	malloc_failed
 542 0230 00000000 		.word	xQueueCreateMutex
 543 0234 00000000 		.word	assert_failed
 544              	.L41:
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 545              		.loc 1 182 0 discriminator 2
 546 0238 6F48     		ldr	r0, .L89
 547 023a B721     		movs	r1, #183
 548 023c 6F4B     		ldr	r3, .L89+4
 549 023e 9847     		blx	r3
 550              	.LVL32:
 551              	.L42:
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 552              		.loc 1 184 0 is_stmt 1 discriminator 4
 553 0240 6368     		ldr	r3, [r4, #4]
 189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->eeprom_i2c = I2C_CH0 + ch;
 554              		.loc 1 189 0 discriminator 4
 555 0242 09F1050A 		add	r10, r9, #5
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 556              		.loc 1 182 0 discriminator 4
 557 0246 2860     		str	r0, [r5]
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 558              		.loc 1 184 0 discriminator 4
 559 0248 1D68     		ldr	r5, [r3]
 560              	.LVL33:
 187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->type = ACTUATOR_LENS;
 561              		.loc 1 187 0 discriminator 4
 562 024a 238D     		ldrh	r3, [r4, #40]
 563 024c 2B80     		strh	r3, [r5]	@ movhi
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->hall_i2c = I2C_CH6 + ch;
 564              		.loc 1 188 0 discriminator 4
 565 024e 0023     		movs	r3, #0
 189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->eeprom_i2c = I2C_CH0 + ch;
 566              		.loc 1 189 0 discriminator 4
 567 0250 85F803A0 		strb	r10, [r5, #3]
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->hall_i2c = I2C_CH6 + ch;
 568              		.loc 1 188 0 discriminator 4
 569 0254 AB70     		strb	r3, [r5, #2]
 190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm = PWM0_CH1 + ch;
 570              		.loc 1 190 0 discriminator 4
 571 0256 2F71     		strb	r7, [r5, #4]
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->event);
 572              		.loc 1 194 0 discriminator 4
 573 0258 694B     		ldr	r3, .L89+8
 191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 574              		.loc 1 191 0 discriminator 4
 575 025a 6F71     		strb	r7, [r5, #5]
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->event);
 576              		.loc 1 194 0 discriminator 4
 577 025c 0093     		str	r3, [sp]
 578              	.LVL34:
 579 025e 9847     		blx	r3
 580              	.LVL35:
 581 0260 A860     		str	r0, [r5, #8]
 195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 582              		.loc 1 195 0 discriminator 4
 583 0262 18B9     		cbnz	r0, .L43
 195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 584              		.loc 1 195 0 is_stmt 0 discriminator 1
 585 0264 6448     		ldr	r0, .L89
 586 0266 C321     		movs	r1, #195
 587 0268 664B     		ldr	r3, .L89+12
 588 026a 9847     		blx	r3
 589              	.LVL36:
 590              	.L43:
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->semaphore);
 591              		.loc 1 197 0 is_stmt 1
 592 026c 0120     		movs	r0, #1
 593 026e C047     		blx	r8
 594              	.LVL37:
 595 0270 E860     		str	r0, [r5, #12]
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm_semaphore = xSemaphoreCreateBinary();
 596              		.loc 1 198 0
 597 0272 18B9     		cbnz	r0, .L44
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm_semaphore = xSemaphoreCreateBinary();
 598              		.loc 1 198 0 is_stmt 0 discriminator 1
 599 0274 6048     		ldr	r0, .L89
 600 0276 C621     		movs	r1, #198
 601 0278 624B     		ldr	r3, .L89+12
 602 027a 9847     		blx	r3
 603              	.LVL38:
 604              	.L44:
 199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->pwm_semaphore);
 605              		.loc 1 199 0 is_stmt 1
 606 027c 624B     		ldr	r3, .L89+16
 607 027e 0120     		movs	r0, #1
 608 0280 0021     		movs	r1, #0
 609 0282 0322     		movs	r2, #3
 610 0284 0193     		str	r3, [sp, #4]
 611 0286 9847     		blx	r3
 612              	.LVL39:
 613 0288 E862     		str	r0, [r5, #44]
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 614              		.loc 1 200 0
 615 028a 18B9     		cbnz	r0, .L45
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 616              		.loc 1 200 0 is_stmt 0 discriminator 1
 617 028c 5A48     		ldr	r0, .L89
 618 028e C821     		movs	r1, #200
 619 0290 5C4B     		ldr	r3, .L89+12
 620 0292 9847     		blx	r3
 621              	.LVL40:
 622              	.L45:
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_calibrated = FALSE;
 623              		.loc 1 203 0 is_stmt 1
 624 0294 0023     		movs	r3, #0
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_set_high(&af_enable);
 625              		.loc 1 214 0
 626 0296 03A8     		add	r0, sp, #12
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_calibrated = FALSE;
 627              		.loc 1 203 0
 628 0298 85F82830 		strb	r3, [r5, #40]
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 629              		.loc 1 204 0
 630 029c 85F82930 		strb	r3, [r5, #41]
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(pcam->info.module == CAM_B2)
 631              		.loc 1 208 0
 632 02a0 0223     		movs	r3, #2
 633 02a2 8DF80C30 		strb	r3, [sp, #12]
 209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					af_enable.pin = GPIO_PIN_4 + 3;
 634              		.loc 1 209 0
 635 02a6 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 636 02aa B22B     		cmp	r3, #178
 210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				else
 637              		.loc 1 210 0
 638 02ac 0CBF     		ite	eq
 639 02ae 0723     		moveq	r3, #7
 212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				af_enable.direction = GPIO_DIR_OUT;
 640              		.loc 1 212 0
 641 02b0 09F10303 		addne	r3, r9, #3
 642 02b4 8DF80D30 		strb	r3, [sp, #13]
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_init(&af_enable);
 643              		.loc 1 213 0
 644 02b8 0123     		movs	r3, #1
 645 02ba 8DF80E30 		strb	r3, [sp, #14]
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_set_high(&af_enable);
 646              		.loc 1 214 0
 647 02be 534B     		ldr	r3, .L89+20
 648 02c0 9847     		blx	r3
 649              	.LVL41:
 215:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 650              		.loc 1 215 0
 651 02c2 534B     		ldr	r3, .L89+24
 652 02c4 03A8     		add	r0, sp, #12
 653 02c6 9847     		blx	r3
 654              	.LVL42:
 217:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					(pcam->info.module == CAM_C5) ||
 655              		.loc 1 217 0
 656 02c8 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 657 02cc B42B     		cmp	r3, #180
 658 02ce 41D0     		beq	.L34
 217:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					(pcam->info.module == CAM_C5) ||
 659              		.loc 1 217 0 is_stmt 0 discriminator 1
 660 02d0 3B33     		adds	r3, r3, #59
 661 02d2 DBB2     		uxtb	r3, r3
 662 02d4 012B     		cmp	r3, #1
 663 02d6 3DD9     		bls	.L34
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(actuator_t));
 664              		.loc 1 222 0 is_stmt 1
 665 02d8 4820     		movs	r0, #72
 666 02da 4749     		ldr	r1, .L89
 667 02dc DF22     		movs	r2, #223
 668 02de 6568     		ldr	r5, [r4, #4]
 669              	.LVL43:
 670 02e0 B047     		blx	r6
 671              	.LVL44:
 672 02e2 6860     		str	r0, [r5, #4]
 673 02e4 10B1     		cbz	r0, .L50
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(actuator_t));
 674              		.loc 1 222 0 is_stmt 0 discriminator 1
 675 02e6 6568     		ldr	r5, [r4, #4]
 676 02e8 6868     		ldr	r0, [r5, #4]
 677 02ea 03E0     		b	.L51
 678              	.L50:
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(actuator_t));
 679              		.loc 1 222 0 discriminator 2
 680 02ec 4248     		ldr	r0, .L89
 681 02ee DF21     		movs	r1, #223
 682 02f0 424B     		ldr	r3, .L89+4
 683 02f2 9847     		blx	r3
 684              	.LVL45:
 685              	.L51:
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 686              		.loc 1 224 0 is_stmt 1 discriminator 4
 687 02f4 6368     		ldr	r3, [r4, #4]
 229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->eeprom_i2c = I2C_CH0 + ch;
 688              		.loc 1 229 0 discriminator 4
 689 02f6 09F10B09 		add	r9, r9, #11
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(actuator_t));
 690              		.loc 1 222 0 discriminator 4
 691 02fa 6860     		str	r0, [r5, #4]
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 692              		.loc 1 224 0 discriminator 4
 693 02fc 5D68     		ldr	r5, [r3, #4]
 694              	.LVL46:
 227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->type = ACTUATOR_MIRROR;
 695              		.loc 1 227 0 discriminator 4
 696 02fe 238D     		ldrh	r3, [r4, #40]
 697 0300 2B80     		strh	r3, [r5]	@ movhi
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->hall_i2c = I2C_CH12 + ch;
 698              		.loc 1 228 0 discriminator 4
 699 0302 0123     		movs	r3, #1
 229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->eeprom_i2c = I2C_CH0 + ch;
 700              		.loc 1 229 0 discriminator 4
 701 0304 85F80390 		strb	r9, [r5, #3]
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->hall_i2c = I2C_CH12 + ch;
 702              		.loc 1 228 0 discriminator 4
 703 0308 AB70     		strb	r3, [r5, #2]
 230:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->pwm = PWM1_CH1 + ch;
 704              		.loc 1 230 0 discriminator 4
 705 030a 2F71     		strb	r7, [r5, #4]
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 706              		.loc 1 231 0 discriminator 4
 707 030c 85F805A0 		strb	r10, [r5, #5]
 234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->event);
 708              		.loc 1 234 0 discriminator 4
 709 0310 009B     		ldr	r3, [sp]
 710 0312 9847     		blx	r3
 711              	.LVL47:
 712 0314 A860     		str	r0, [r5, #8]
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 713              		.loc 1 235 0 discriminator 4
 714 0316 18B9     		cbnz	r0, .L52
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 715              		.loc 1 235 0 is_stmt 0 discriminator 1
 716 0318 3748     		ldr	r0, .L89
 717 031a EB21     		movs	r1, #235
 718 031c 394B     		ldr	r3, .L89+12
 719 031e 9847     		blx	r3
 720              	.LVL48:
 721              	.L52:
 237:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->semaphore);
 722              		.loc 1 237 0 is_stmt 1
 723 0320 0120     		movs	r0, #1
 724 0322 C047     		blx	r8
 725              	.LVL49:
 726 0324 E860     		str	r0, [r5, #12]
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->pwm_semaphore = xSemaphoreCreateBinary();
 727              		.loc 1 238 0
 728 0326 18B9     		cbnz	r0, .L53
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->pwm_semaphore = xSemaphoreCreateBinary();
 729              		.loc 1 238 0 is_stmt 0 discriminator 1
 730 0328 3348     		ldr	r0, .L89
 731 032a EE21     		movs	r1, #238
 732 032c 354B     		ldr	r3, .L89+12
 733 032e 9847     		blx	r3
 734              	.LVL50:
 735              	.L53:
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->pwm_semaphore);
 736              		.loc 1 239 0 is_stmt 1
 737 0330 0120     		movs	r0, #1
 738 0332 0021     		movs	r1, #0
 739 0334 0322     		movs	r2, #3
 740 0336 019B     		ldr	r3, [sp, #4]
 741 0338 9847     		blx	r3
 742              	.LVL51:
 743 033a E862     		str	r0, [r5, #44]
 240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 744              		.loc 1 240 0
 745 033c 18B9     		cbnz	r0, .L54
 240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 746              		.loc 1 240 0 is_stmt 0 discriminator 1
 747 033e 2E48     		ldr	r0, .L89
 748 0340 F021     		movs	r1, #240
 749 0342 304B     		ldr	r3, .L89+12
 750 0344 9847     		blx	r3
 751              	.LVL52:
 752              	.L54:
 244:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->is_calibrated = FALSE;
 753              		.loc 1 244 0 is_stmt 1
 754 0346 0023     		movs	r3, #0
 755 0348 85F82830 		strb	r3, [r5, #40]
 245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 756              		.loc 1 245 0
 757 034c 85F82930 		strb	r3, [r5, #41]
 758              	.LVL53:
 759              	.L38:
 760              	.LBE22:
 249:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 761              		.loc 1 249 0
 762 0350 84F82A70 		strb	r7, [r4, #42]
 763              	.LVL54:
 764              	.L34:
 765 0354 0BF1010B 		add	fp, fp, #1
 766              	.LVL55:
 767 0358 59E6     		b	.L15
 768              	.LVL56:
 769              	.L86:
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&power_en_gpio);
 770              		.loc 1 257 0
 771 035a 0124     		movs	r4, #1
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.port = GPIO_PORT(light_system->cam_power_en);
 772              		.loc 1 255 0
 773 035c 92F87530 		ldrb	r3, [r2, #117]	@ zero_extendqisi2
 774 0360 03F00F02 		and	r2, r3, #15
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.direction = GPIO_DIR_OUT;
 775              		.loc 1 256 0
 776 0364 1B09     		lsrs	r3, r3, #4
 258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&power_en_gpio);
 777              		.loc 1 258 0
 778 0366 294D     		ldr	r5, .L89+20
 779 0368 02A8     		add	r0, sp, #8
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 780              		.loc 1 259 0
 781 036a 294E     		ldr	r6, .L89+24
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.direction = GPIO_DIR_OUT;
 782              		.loc 1 266 0
 783 036c 0227     		movs	r7, #2
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.port = GPIO_PORT(light_system->cam_power_en);
 784              		.loc 1 255 0
 785 036e 8DF80920 		strb	r2, [sp, #9]
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.direction = GPIO_DIR_OUT;
 786              		.loc 1 256 0
 787 0372 8DF80830 		strb	r3, [sp, #8]
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&power_en_gpio);
 788              		.loc 1 257 0
 789 0376 8DF80A40 		strb	r4, [sp, #10]
 258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&power_en_gpio);
 790              		.loc 1 258 0
 791 037a A847     		blx	r5
 792              	.LVL57:
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 793              		.loc 1 259 0
 794 037c 02A8     		add	r0, sp, #8
 795 037e B047     		blx	r6
 796              	.LVL58:
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 797              		.loc 1 263 0
 798 0380 244A     		ldr	r2, .L89+28
 799 0382 1368     		ldr	r3, [r2]
 800 0384 43F4C063 		orr	r3, r3, #1536
 801 0388 1360     		str	r3, [r2]
 269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 802              		.loc 1 269 0
 803 038a 0C23     		movs	r3, #12
 270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 804              		.loc 1 270 0
 805 038c 0DEB0300 		add	r0, sp, r3
 269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 806              		.loc 1 269 0
 807 0390 8DF80D30 		strb	r3, [sp, #13]
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.direction = GPIO_DIR_OUT;
 808              		.loc 1 266 0
 809 0394 8DF80C70 		strb	r7, [sp, #12]
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable piezo power regulator 1*/
 810              		.loc 1 267 0
 811 0398 8DF80E40 		strb	r4, [sp, #14]
 270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 812              		.loc 1 270 0
 813 039c A847     		blx	r5
 814              	.LVL59:
 271:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable piezo power regulator 2*/
 815              		.loc 1 271 0
 816 039e 03A8     		add	r0, sp, #12
 817 03a0 B047     		blx	r6
 818              	.LVL60:
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 819              		.loc 1 273 0
 820 03a2 0D23     		movs	r3, #13
 274:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 821              		.loc 1 274 0
 822 03a4 03A8     		add	r0, sp, #12
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 823              		.loc 1 273 0
 824 03a6 8DF80D30 		strb	r3, [sp, #13]
 274:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 825              		.loc 1 274 0
 826 03aa A847     		blx	r5
 827              	.LVL61:
 275:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 828              		.loc 1 275 0
 829 03ac 03A8     		add	r0, sp, #12
 830 03ae B047     		blx	r6
 831              	.LVL62:
 277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM0_CH5, PWM_PIN_NEG);
 832              		.loc 1 277 0
 833 03b0 0420     		movs	r0, #4
 834 03b2 0021     		movs	r1, #0
 835 03b4 184E     		ldr	r6, .L89+32
 836 03b6 B047     		blx	r6
 837              	.LVL63:
 278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init interrupt */
 838              		.loc 1 278 0
 839 03b8 2146     		mov	r1, r4
 840 03ba 0420     		movs	r0, #4
 841 03bc B047     		blx	r6
 842              	.LVL64:
 843              	.LBB23:
 844              	.LBB24:
 525:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							ASIC_READ_ASIC_3, NULL);
 526:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 528:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 529:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** EventBits_t wait_intr_signal(asic_id_t asic_id_msk, uint32_t timeout, uint8_t waitall)
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 531:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic2_is_used = FALSE;
 532:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic3_is_used = FALSE;
 533:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	EventBits_t ux_bits;
 534:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Reset interrupt mask */
 535:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic_intr_mask = 0;
 536:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk == 0)
 537:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 538:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_INFO, "Only capture on ASIC1 ");
 539:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return asic_id_msk;
 540:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 541:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_2)
 542:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 543:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Waiting for interrupt signal semaphore of aisc2 is released in 1s*/
 544:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(xSemaphoreTake(intr_asic2_sync_sem, 1000) != pdPASS)
 545:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 546:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Interrupt signal from ASIC2 is busy");
 547:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			asic2_is_used = TRUE;
 548:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 549:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 550:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Waiting for interrupt signal semaphore of aisc3 is released in 1s*/
 551:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_3)
 552:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(xSemaphoreTake(intr_asic3_sync_sem, 1000) != pdPASS)
 554:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 555:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Interrupt signal from ASIC3 is busy");
 556:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			asic3_is_used = TRUE;
 557:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 558:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(waitall && (asic2_is_used || asic3_is_used))
 560:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 561:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return FALSE;
 562:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 563:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Waiting for the interrupt Flags are updated in timeout ms*/
 564:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	ux_bits = xEventGroupWaitBits(
 565:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								intr_sync_event,
 566:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								asic_id_msk,
 567:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								pdTRUE,
 568:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								waitall ? pdTRUE : pdFALSE,
 569:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								timeout);
 570:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Release interrupt signal semaphore of asic2*/
 571:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_2)
 572:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_asic2_sync_sem);
 573:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Release interrupt signal semaphore of asic3*/
 574:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_3)
 575:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_asic3_sync_sem);
 576:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return ux_bits;
 577:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 578:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 579:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 580:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void send_intr_signal(void)
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 582:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskSuspendAll();
 583:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	unsigned int i = 533;
 584:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 585:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while(i)
 586:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i--;
 587:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_low(PWM0_CH4, PWM_PIN_POS);
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xTaskResumeAll();
 589:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 590:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 591:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void intr_init(void)
 592:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 593:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
 594:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.port = GPIO_PORTA;
 845              		.loc 1 594 0
 846 03be 0023     		movs	r3, #0
 847 03c0 1648     		ldr	r0, .L89+36
 848 03c2 0370     		strb	r3, [r0]
 595:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.direction = GPIO_DIR_OUT;
 596:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.pin = GPIO_PIN_8;
 849              		.loc 1 596 0
 850 03c4 0823     		movs	r3, #8
 595:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.direction = GPIO_DIR_OUT;
 851              		.loc 1 595 0
 852 03c6 8470     		strb	r4, [r0, #2]
 853              		.loc 1 596 0
 854 03c8 4370     		strb	r3, [r0, #1]
 597:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 855              		.loc 1 597 0
 856 03ca A847     		blx	r5
 857              	.LVL65:
 598:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 599:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Create mutex to protect shared resource */
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_semaphore = xSemaphoreCreateMutex();
 858              		.loc 1 600 0
 859 03cc 144B     		ldr	r3, .L89+40
 860 03ce 2046     		mov	r0, r4
 861 03d0 9847     		blx	r3
 862              	.LVL66:
 863 03d2 144B     		ldr	r3, .L89+44
 864 03d4 1860     		str	r0, [r3]
 601:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 602:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if( intr_semaphore == NULL )
 865              		.loc 1 602 0
 866 03d6 20B9     		cbnz	r0, .L56
 603:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 604:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "Failed to create mutex");
 867              		.loc 1 604 0
 868 03d8 1E20     		movs	r0, #30
 869 03da 3946     		mov	r1, r7
 870 03dc 124A     		ldr	r2, .L89+48
 871 03de 134B     		ldr	r3, .L89+52
 872 03e0 9847     		blx	r3
 873              	.LVL67:
 874              	.L56:
 875              	.LBB25:
 876              	.LBB26:
 605:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 606:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 607:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_queue_init(INTR_QUEUE_SIZE);
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 609:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 610:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void intr_signal(void)
 611:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (xSemaphoreTake(intr_semaphore, (TickType_t)10) == pdTRUE)
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 614:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t i = 5;
 615:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
 616:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_gpio_set_high(&intr);
 617:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		while(i)
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			i--;
 619:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_gpio_set_low(&intr);
 620:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #else /* ASIC2 - 3 */
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* PWM_A_LENS[4]*/
 622:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 623:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		while(i)
 624:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			i--;
 625:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_low(PWM0_CH4, PWM_PIN_POS);
 626:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 627:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Release resource */
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_semaphore);
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 630:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 632:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void set_intr_pin(uint8_t data)
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(data)
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 636:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_low(PWM0_CH4, PWM_PIN_POS);
 638:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 639:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 640:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void disable_asic_sync_intr(uint8_t asic_mask)
 641:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 642:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 643:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 645:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 646:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_3)
 647:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 648:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 649:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 650:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 651:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void enable_asic_sync_intr(uint8_t asic_mask)
 652:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 653:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 654:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 655:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 656:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 657:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_3)
 658:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 659:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 660:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 661:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 662:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 663:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define POT_FULL_SCALE		10000
 664:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define POT_SCALE_STEP		128
 665:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** typedef union
 666:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 667:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t data;
 668:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	struct
 669:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 670:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t res_low : 3;
 671:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t res_high : 4;
 672:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t sign : 1;
 673:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	};
 674:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** } res_tolerance_t;
 675:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 676:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief pzt_voltage_config
 677:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will config the piezo suply voltage
 678:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @param
 679:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * 	pzt: Selct POT for PZT1 or PZT2
 680:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *	vol: voltage need to config
 681:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *	write_eeprom: Select option to write the configuration to eeprom
 682:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @return: 0-fail / 1-success
 683:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 684:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint8_t pzt_voltage_config(pzt_pot_sel_t pzt, float vol, uint8_t write_eeprom)
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 686:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t reg = 0;
 688:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t r2_val = 0;
 689:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t actual_res = 0;
 690:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t i2c_addr;
 691:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	i2cm.init(I2C_CH10);
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "Invalid param %f", vol);
 696:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return ret;
 697:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 698:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(pzt == PZT_POT_1)
 699:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i2c_addr = 0x5F >> 1;
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i2c_addr = 0x59 >> 1;
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Calculate R2 */
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	r2_val = ((1.299 * 133000) / (vol - 1.299)) - 5900;
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (I2CM_ERROR_TRANSCEIVED == i2cm.read(I2C_CH10, BYTE_ADDR16, i2c_addr,
 705:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		0x0601, (uint8_t *)&reg))
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 707:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Calculate the actual full scale resistor */
 708:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		res_tolerance_t res_tol;
 709:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		res_tol.data = reg;
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actual_res = POT_FULL_SCALE + ((reg & 0x80 ? 1 : -1) *
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 712:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 713:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Write config value */
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		reg = (uint8_t)((POT_SCALE_STEP * r2_val) / actual_res);
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 716:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 717:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if(write_eeprom)
 719:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				reg = 0x00;
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8,
 722:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 723:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				{
 724:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					ret = 1;
 725:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					SLOGF(SLOG_INFO, "Write EEPROM POT DONE");
 726:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				}
 727:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 728:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 729:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				ret = 1;
 730:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_INFO, "Write POT DONE");
 731:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 732:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 733:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 734:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			ret = 0;
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Write I2C failed");
 736:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 737:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 738:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 739:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 740:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret = 0;
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "APOT1: reading timed out");
 742:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 743:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return ret;
 744:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 745:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 746:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 747:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_move_to_distance
 748:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will move a lens/VCM to a distance
 749:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 750:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_move_to_distance(cam_typedef_t *pcam, uint32_t distance,
 751:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 753:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 755:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 756:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (pcam == NULL)
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 758:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 759:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 761:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			vcm_t *vcm = pcam->optical->lens;
 763:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(vcm->semaphore, portMAX_DELAY);
 765:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 766:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 767:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->moving = TRUE;
 769:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 771:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 772:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 774:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 775:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 777:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 778:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_func = cb_func;
 779:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_DISTANCE;
 781:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 782:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 783:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 784:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 786:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 788:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 789:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 790:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 791:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 792:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 793:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			actuator_t *plens = (actuator_t *)pcam->optical->lens;
 794:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 795:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(plens->semaphore, portMAX_DELAY);
 796:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 797:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 798:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->moving = TRUE;
 800:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 802:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 803:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 805:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 806:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 808:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 809:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_func = cb_func;
 810:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 811:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = OPT_EVENT_FOCUS_DISTANCE;
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 814:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 815:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 816:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 817:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 819:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 820:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 821:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 822:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 823:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 824:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
 825:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 826:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 827:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 828:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 829:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_move_lens_to_position
 830:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will move a lens/VCM to a position
 831:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 832:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_move_lens_to_position(cam_typedef_t *pcam, uint16_t position,
 833:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                     uint16_t tolerance,
 834:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 836:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 838:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (pcam == NULL)
 840:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 841:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 842:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 844:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			vcm_t *vcm = pcam->optical->lens;
 846:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(vcm->semaphore, portMAX_DELAY);
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 849:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 850:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->moving = TRUE;
 852:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 857:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 858:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->settings->lens_position_tolerance = tolerance;
 859:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 861:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 862:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_func = cb_func;
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_POSITION;
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 866:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 867:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 868:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 869:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 870:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 871:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 872:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 873:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 874:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 875:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 876:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 877:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			actuator_t *plens = (actuator_t *)pcam->optical->lens;
 878:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 879:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(plens->semaphore, portMAX_DELAY);
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 881:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 882:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->moving = TRUE;
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 886:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 889:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 890:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                 pcam->optical->settings->lens_position_tolerance = tolerance;
 891:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 893:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_func = cb_func;
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 896:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = OPT_EVENT_LENS_POSITION;
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(plens->queue, &p_cmd, (TickType_t)10);
 899:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 900:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 902:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 907:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 908:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 909:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
 910:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 911:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 912:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 913:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 914:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_move_mirr_to_position
 915:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will move a mirror to a position
 916:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 917:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_move_mirr_to_position(cam_typedef_t *pcam, uint16_t position,
 918:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 920:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 922:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if ((pcam == NULL) || (pcam->info.grp == GRP_A))
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 925:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 926:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
 928:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreTake(pmirr->semaphore, portMAX_DELAY);
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 931:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 932:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* set moving status */
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->moving = TRUE;
 934:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
 936:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 937:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_position,
 939:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					&position, sizeof(uint16_t));
 940:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after writing data */
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pcam->optical->semaphore);
 942:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 943:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_func = cb_func;
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
 945:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			p_cmd.event = OPT_EVENT_MIRROR_POSITION;
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pmirr->queue, &p_cmd, (TickType_t)10);
 948:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 949:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 950:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 951:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 952:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
 953:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
 954:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
 955:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 956:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 957:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
 958:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 959:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 960:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 961:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 962:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_nudge_lens
 963:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will nudges a lens/VCM in the desired direction
 964:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 965:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_nudge_lens(cam_typedef_t *pcam, cam_dir_t direction,
 966:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint16_t multiplier, void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 968:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 969:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 970:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if ((pcam == NULL) ||
 972:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 973:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		(direction != CAM_DIR_EXTEND_WIDE)))
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 975:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 976:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint32_t lens_nudge = (multiplier << 8) | direction;
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 979:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 980:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			vcm_t *vcm = pcam->optical->lens;
 981:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(vcm->semaphore, portMAX_DELAY);
 983:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 984:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 985:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->moving = TRUE;
 987:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 989:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 990:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 991:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
 992:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 993:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 994:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 995:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_func = cb_func;
 996:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_NUDGE;
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 999:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1000:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
1001:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
1002:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
1003:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
1004:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
1005:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1007:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1008:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
1009:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1010:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			actuator_t *plens = (actuator_t *)pcam->optical->lens;
1011:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(plens->semaphore, portMAX_DELAY);
1013:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
1014:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
1015:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->moving = TRUE;
1017:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
1019:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
1020:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
1021:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
1022:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
1023:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
1024:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_func = cb_func;
1026:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
1027:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = OPT_EVENT_LENS_NUDGE;
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
1030:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1031:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
1032:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
1033:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
1034:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
1035:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
1036:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
1037:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1038:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1039:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1040:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
1041:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1042:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1043:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1044:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
1045:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_nudge_mirr
1046:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will nudges a mirror in the desired direction
1047:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
1048:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_nudge_mirr(cam_typedef_t *pcam, cam_dir_t direction,
1049:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint16_t multiplier, void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
1051:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
1052:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
1053:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if ((pcam == NULL) || (pcam->info.grp == GRP_A) ||
1055:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
1056:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		(direction != CAM_DIR_EXTEND_WIDE)))
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
1058:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
1059:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint32_t mirr_nudge = (multiplier << 8) | direction;
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreTake(pmirr->semaphore, portMAX_DELAY);
1064:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
1065:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1066:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* set moving status */
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->moving = TRUE;
1068:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
1070:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
1071:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
1072:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_nudge, &mirr_nudge, 3);
1073:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after writing data */
1074:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pcam->optical->semaphore);
1075:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1076:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_func = cb_func;
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			p_cmd.event = OPT_EVENT_MIRROR_NUDGE;
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
1080:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1081:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
1082:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1083:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
1084:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
1085:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
1086:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
1087:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1088:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1089:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
1090:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1091:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1092:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1093:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void intr_queue_init(uint8_t queue_size)
1094:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
1095:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Create a queue to store intr_src information */
1096:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_queue = xQueueCreate(queue_size, sizeof(intr_src_t));
 877              		.loc 1 1096 0
 878 03e2 0421     		movs	r1, #4
 879 03e4 0022     		movs	r2, #0
 880 03e6 084B     		ldr	r3, .L89+16
 881 03e8 1420     		movs	r0, #20
 882 03ea 9847     		blx	r3
 883              	.LVL68:
 884 03ec 104B     		ldr	r3, .L89+56
 885 03ee 1860     		str	r0, [r3]
 886              	.LBE26:
 887              	.LBE25:
 888              	.LBE24:
 889              	.LBE23:
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 890              		.loc 1 281 0
 891 03f0 05B0     		add	sp, sp, #20
 892              	.LCFI4:
 893              		.cfi_def_cfa_offset 36
 894              		@ sp needed
 895 03f2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 896              	.LVL69:
 897              	.L90:
 898 03f6 00BF     		.align	2
 899              	.L89:
 900 03f8 00000000 		.word	.LANCHOR2
 901 03fc 00000000 		.word	malloc_failed
 902 0400 00000000 		.word	xEventGroupCreate
 903 0404 00000000 		.word	assert_failed
 904 0408 00000000 		.word	xQueueGenericCreate
 905 040c 00000000 		.word	hal_gpio_init
 906 0410 00000000 		.word	hal_gpio_set_high
 907 0414 A8000002 		.word	33554600
 908 0418 00000000 		.word	hal_pwm_set_high
 909 041c 00000000 		.word	.LANCHOR3
 910 0420 00000000 		.word	xQueueCreateMutex
 911 0424 00000000 		.word	.LANCHOR4
 912 0428 00000000 		.word	.LC0
 913 042c 00000000 		.word	slogf
 914 0430 00000000 		.word	.LANCHOR5
 915              		.cfi_endproc
 916              	.LFE2:
 918              		.section	.text.light_camera_task_create,"ax",%progbits
 919              		.align	1
 920              		.global	light_camera_task_create
 921              		.thumb
 922              		.thumb_func
 924              	light_camera_task_create:
 925              	.LFB3:
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	BaseType_t ret = pdTRUE;
 926              		.loc 1 284 0
 927              		.cfi_startproc
 928              		@ args = 0, pretend = 0, frame = 0
 929              		@ frame_needed = 0, uses_anonymous_args = 0
 930              	.LVL70:
 931 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 932              	.LCFI5:
 933              		.cfi_def_cfa_offset 20
 934              		.cfi_offset 4, -20
 935              		.cfi_offset 5, -16
 936              		.cfi_offset 6, -12
 937              		.cfi_offset 7, -8
 938              		.cfi_offset 14, -4
 939 0002 184D     		ldr	r5, .L98
 940 0004 85B0     		sub	sp, sp, #20
 941              	.LCFI6:
 942              		.cfi_def_cfa_offset 40
 943 0006 184C     		ldr	r4, .L98+4
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	BaseType_t ret = pdTRUE;
 944              		.loc 1 284 0
 945 0008 0026     		movs	r6, #0
 285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 946              		.loc 1 285 0
 947 000a 0127     		movs	r7, #1
 948              	.LVL71:
 949              	.L93:
 950              	.LBB27:
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].time_sleep = task_list[i].time_sleep;
 951              		.loc 1 291 0
 952 000c 0023     		movs	r3, #0
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret &= xTaskCreate(
 953              		.loc 1 292 0
 954 000e 2A88     		ldrh	r2, [r5]
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].task,		/* task function */
 955              		.loc 1 293 0
 956 0010 15F8021C 		ldrb	r1, [r5, #-2]	@ zero_extendqisi2
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret &= xTaskCreate(
 957              		.loc 1 292 0
 958 0014 A280     		strh	r2, [r4, #4]	@ movhi
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].time_sleep = task_list[i].time_sleep;
 959              		.loc 1 291 0
 960 0016 04F8043C 		strb	r3, [r4, #-4]
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].task,		/* task function */
 961              		.loc 1 293 0
 962 001a 35F8042C 		ldrh	r2, [r5, #-4]
 963 001e 8DE81200 		stmia	sp, {r1, r4}
 964 0022 0293     		str	r3, [sp, #8]
 965 0024 0393     		str	r3, [sp, #12]
 966 0026 231F     		subs	r3, r4, #4
 967 0028 55F80C0C 		ldr	r0, [r5, #-12]
 968 002c 55F8081C 		ldr	r1, [r5, #-8]
 969 0030 DFF848C0 		ldr	ip, .L98+24
 970 0034 04F8036C 		strb	r6, [r4, #-3]
 971 0038 E047     		blx	ip
 972              	.LVL72:
 973 003a 0740     		ands	r7, r7, r0
 974              	.LVL73:
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 975              		.loc 1 303 0
 976 003c 012F     		cmp	r7, #1
 977 003e 04D0     		beq	.L92
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 978              		.loc 1 303 0 is_stmt 0 discriminator 1
 979 0040 0A48     		ldr	r0, .L98+8
 980 0042 40F22F11 		movw	r1, #303
 981 0046 0A4B     		ldr	r3, .L98+12
 982 0048 9847     		blx	r3
 983              	.LVL74:
 984              	.L92:
 985 004a 0136     		adds	r6, r6, #1
 986              	.LVL75:
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 987              		.loc 1 288 0 is_stmt 1 discriminator 2
 988 004c 052E     		cmp	r6, #5
 989 004e 05F11005 		add	r5, r5, #16
 990 0052 04F10C04 		add	r4, r4, #12
 991 0056 D9D1     		bne	.L93
 992              	.LBE27:
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Actuator task creation for LENS & MIRROR piezo control */
 993              		.loc 1 307 0
 994 0058 064B     		ldr	r3, .L98+16
 995 005a 9847     		blx	r3
 996              	.LVL76:
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 997              		.loc 1 309 0
 998 005c 064B     		ldr	r3, .L98+20
 999 005e 9847     		blx	r3
 1000              	.LVL77:
 311:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1001              		.loc 1 311 0
 1002 0060 05B0     		add	sp, sp, #20
 1003              	.LCFI7:
 1004              		.cfi_def_cfa_offset 20
 1005              		@ sp needed
 1006 0062 F0BD     		pop	{r4, r5, r6, r7, pc}
 1007              	.LVL78:
 1008              	.L99:
 1009              		.align	2
 1010              	.L98:
 1011 0064 0C000000 		.word	task_list+12
 1012 0068 04000000 		.word	task_handler+4
 1013 006c 00000000 		.word	.LANCHOR6
 1014 0070 00000000 		.word	assert_failed
 1015 0074 00000000 		.word	task_cam_create
 1016 0078 00000000 		.word	task_actuator_create
 1017 007c 00000000 		.word	xTaskGenericCreate
 1018              		.cfi_endproc
 1019              	.LFE3:
 1021              		.section	.text.object_to_cam_bitmask,"ax",%progbits
 1022              		.align	1
 1023              		.global	object_to_cam_bitmask
 1024              		.thumb
 1025              		.thumb_func
 1027              	object_to_cam_bitmask:
 1028              	.LFB6:
 432:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint32_t cam_bitmask = 0;
 1029              		.loc 1 432 0
 1030              		.cfi_startproc
 1031              		@ args = 0, pretend = 0, frame = 0
 1032              		@ frame_needed = 0, uses_anonymous_args = 0
 1033              		@ link register save eliminated.
 1034              	.LVL79:
 434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1035              		.loc 1 434 0
 1036 0000 B0B1     		cbz	r0, .L101
 436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 1037              		.loc 1 436 0
 1038 0002 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 1039 0006 1A09     		lsrs	r2, r3, #4
 1040 0008 0B2A     		cmp	r2, #11
 1041 000a 06D0     		beq	.L102
 1042 000c 0C2A     		cmp	r2, #12
 1043 000e 08D0     		beq	.L103
 1044 0010 0A2A     		cmp	r2, #10
 1045 0012 0CD1     		bne	.L107
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 1046              		.loc 1 439 0
 1047 0014 03F00F03 		and	r3, r3, #15
 1048 0018 06E0     		b	.L108
 1049              	.L102:
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 1050              		.loc 1 442 0
 1051 001a 03F00F03 		and	r3, r3, #15
 1052 001e 0533     		adds	r3, r3, #5
 1053 0020 02E0     		b	.L108
 1054              	.L103:
 445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                                     CAM_B_QUANTITY);
 1055              		.loc 1 445 0
 1056 0022 03F00F03 		and	r3, r3, #15
 1057 0026 0A33     		adds	r3, r3, #10
 1058              	.L108:
 1059 0028 0120     		movs	r0, #1
 1060              	.LVL80:
 1061 002a 9840     		lsls	r0, r0, r3
 1062              	.LVL81:
 447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 1063              		.loc 1 447 0
 1064 002c 7047     		bx	lr
 1065              	.LVL82:
 1066              	.L107:
 433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(pcam != NULL)
 1067              		.loc 1 433 0
 1068 002e 0020     		movs	r0, #0
 1069              	.LVL83:
 1070              	.L101:
 451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1071              		.loc 1 451 0
 1072 0030 7047     		bx	lr
 1073              		.cfi_endproc
 1074              	.LFE6:
 1076              		.section	.text.module_to_idx,"ax",%progbits
 1077              		.align	1
 1078              		.global	module_to_idx
 1079              		.thumb
 1080              		.thumb_func
 1082              	module_to_idx:
 1083              	.LFB7:
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t idx = ARRAY_SIZE(modules_tbl);
 1084              		.loc 1 454 0
 1085              		.cfi_startproc
 1086              		@ args = 0, pretend = 0, frame = 0
 1087              		@ frame_needed = 0, uses_anonymous_args = 0
 1088              		@ link register save eliminated.
 1089              	.LVL84:
 1090 0000 054A     		ldr	r2, .L117
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t idx = ARRAY_SIZE(modules_tbl);
 1091              		.loc 1 454 0
 1092 0002 0146     		mov	r1, r0
 455:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while ((--idx > 0) && (module != modules_tbl[idx]));
 1093              		.loc 1 455 0
 1094 0004 1120     		movs	r0, #17
 1095              	.LVL85:
 1096              	.L111:
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return idx;
 1097              		.loc 1 456 0 discriminator 2
 1098 0006 431E     		subs	r3, r0, #1
 1099              	.LVL86:
 1100 0008 13F0FF00 		ands	r0, r3, #255
 1101 000c 03D0     		beq	.L110
 1102              	.LVL87:
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return idx;
 1103              		.loc 1 456 0 is_stmt 0 discriminator 1
 1104 000e 12F8013D 		ldrb	r3, [r2, #-1]!	@ zero_extendqisi2
 1105 0012 8B42     		cmp	r3, r1
 1106 0014 F7D1     		bne	.L111
 1107              	.LVL88:
 1108              	.L110:
 458:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1109              		.loc 1 458 0 is_stmt 1
 1110 0016 7047     		bx	lr
 1111              	.L118:
 1112              		.align	2
 1113              	.L117:
 1114 0018 11000000 		.word	.LANCHOR7+17
 1115              		.cfi_endproc
 1116              	.LFE7:
 1118              		.section	.text.light_system_init,"ax",%progbits
 1119              		.align	1
 1120              		.global	light_system_init
 1121              		.thumb
 1122              		.thumb_func
 1124              	light_system_init:
 1125              	.LFB4:
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_t info;
 1126              		.loc 1 314 0
 1127              		.cfi_startproc
 1128              		@ args = 0, pretend = 0, frame = 32
 1129              		@ frame_needed = 0, uses_anonymous_args = 0
 1130 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1131              	.LCFI8:
 1132              		.cfi_def_cfa_offset 36
 1133              		.cfi_offset 4, -36
 1134              		.cfi_offset 5, -32
 1135              		.cfi_offset 6, -28
 1136              		.cfi_offset 7, -24
 1137              		.cfi_offset 8, -20
 1138              		.cfi_offset 9, -16
 1139              		.cfi_offset 10, -12
 1140              		.cfi_offset 11, -8
 1141              		.cfi_offset 14, -4
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_bitmask_all = 0;
 1142              		.loc 1 319 0
 1143 0004 0025     		movs	r5, #0
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_t info;
 1144              		.loc 1 314 0
 1145 0006 89B0     		sub	sp, sp, #36
 1146              	.LCFI9:
 1147              		.cfi_def_cfa_offset 72
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_bitmask_all = 0;
 1148              		.loc 1 319 0
 1149 0008 6B4C     		ldr	r4, .L139
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.direction = GPIO_DIR_IN;
 1150              		.loc 1 333 0
 1151 000a 0126     		movs	r6, #1
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic2_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_6);
 1152              		.loc 1 325 0
 1153 000c 6B4F     		ldr	r7, .L139+4
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_bitmask_all = 0;
 1154              		.loc 1 319 0
 1155 000e 84F87250 		strb	r5, [r4, #114]
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter = 0;
 1156              		.loc 1 320 0
 1157 0012 E565     		str	r5, [r4, #92]
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic1 = 0;
 1158              		.loc 1 321 0
 1159 0014 2566     		str	r5, [r4, #96]
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic2 = 0;
 1160              		.loc 1 322 0
 1161 0016 6566     		str	r5, [r4, #100]
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
 1162              		.loc 1 323 0
 1163 0018 A566     		str	r5, [r4, #104]
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic2_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_6);
 1164              		.loc 1 325 0
 1165 001a B847     		blx	r7
 1166              	.LVL89:
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cb_asic2_intr = asic2_intr_handler;
 1167              		.loc 1 327 0
 1168 001c 0722     		movs	r2, #7
 326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic3_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_7);
 1169              		.loc 1 326 0
 1170 001e 0623     		movs	r3, #6
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init input interrupt signal for ASIC2 & ASIC3 */
 1171              		.loc 1 329 0
 1172 0020 6749     		ldr	r1, .L139+8
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cb_asic2_intr = asic2_intr_handler;
 1173              		.loc 1 327 0
 1174 0022 84F87822 		strb	r2, [r4, #632]
 340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 1175              		.loc 1 340 0
 1176 0026 DFF8D091 		ldr	r9, .L139+64
 328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cb_asic3_intr = asic3_intr_handler;
 1177              		.loc 1 328 0
 1178 002a 664A     		ldr	r2, .L139+12
 1179 002c C4F87C22 		str	r2, [r4, #636]
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init input interrupt signal for ASIC2 & ASIC3 */
 1180              		.loc 1 329 0
 1181 0030 C4F88012 		str	r1, [r4, #640]
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 1182              		.loc 1 339 0
 1183 0034 0792     		str	r2, [sp, #28]
 326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic3_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_7);
 1184              		.loc 1 326 0
 1185 0036 84F87732 		strb	r3, [r4, #631]
 337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.pin = light_system->asic2_intr;
 1186              		.loc 1 337 0
 1187 003a 8DF81530 		strb	r3, [sp, #21]
 338:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.irq_handler = light_system->cb_asic2_intr;
 1188              		.loc 1 338 0
 1189 003e 8DF81830 		strb	r3, [sp, #24]
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* To be trigged from asic 3*/
 1190              		.loc 1 341 0
 1191 0042 DFF8B881 		ldr	r8, .L139+68
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.direction = GPIO_DIR_IN;
 1192              		.loc 1 333 0
 1193 0046 8DF81960 		strb	r6, [sp, #25]
 334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.port = GPIO_PORTA;
 1194              		.loc 1 334 0
 1195 004a 8DF81650 		strb	r5, [sp, #22]
 335:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* To be trigged from asic 2*/
 1196              		.loc 1 335 0
 1197 004e 8DF81450 		strb	r5, [sp, #20]
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic2_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_6);
 1198              		.loc 1 325 0
 1199 0052 C4F89002 		str	r0, [r4, #656]
 340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 1200              		.loc 1 340 0
 1201 0056 05A8     		add	r0, sp, #20
 1202 0058 C847     		blx	r9
 1203              	.LVL90:
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* To be trigged from asic 3*/
 1204              		.loc 1 341 0
 1205 005a 06A8     		add	r0, sp, #24
 1206 005c C047     		blx	r8
 1207              	.LVL91:
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.pin = light_system->asic3_intr;
 1208              		.loc 1 343 0
 1209 005e 94F87832 		ldrb	r3, [r4, #632]	@ zero_extendqisi2
 346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 1210              		.loc 1 346 0
 1211 0062 05A8     		add	r0, sp, #20
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.pin = light_system->asic3_intr;
 1212              		.loc 1 343 0
 1213 0064 8DF81530 		strb	r3, [sp, #21]
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.irq_handler = light_system->cb_asic3_intr;
 1214              		.loc 1 344 0
 1215 0068 8DF81830 		strb	r3, [sp, #24]
 345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 1216              		.loc 1 345 0
 1217 006c D4F88032 		ldr	r3, [r4, #640]
 1218 0070 0793     		str	r3, [sp, #28]
 346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 1219              		.loc 1 346 0
 1220 0072 C847     		blx	r9
 1221              	.LVL92:
 347:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Create event group for interrupt signal*/
 1222              		.loc 1 347 0
 1223 0074 06A8     		add	r0, sp, #24
 1224 0076 C047     		blx	r8
 1225              	.LVL93:
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic2_sync_sem = xSemaphoreCreateMutex();
 1226              		.loc 1 349 0
 1227 0078 B847     		blx	r7
 1228              	.LVL94:
 1229 007a 534B     		ldr	r3, .L139+16
 350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic3_sync_sem = xSemaphoreCreateMutex();
 1230              		.loc 1 350 0
 1231 007c 534F     		ldr	r7, .L139+20
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic2_sync_sem = xSemaphoreCreateMutex();
 1232              		.loc 1 349 0
 1233 007e 1860     		str	r0, [r3]
 350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic3_sync_sem = xSemaphoreCreateMutex();
 1234              		.loc 1 350 0
 1235 0080 3046     		mov	r0, r6
 1236 0082 B847     		blx	r7
 1237              	.LVL95:
 1238 0084 524B     		ldr	r3, .L139+24
 1239 0086 1860     		str	r0, [r3]
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 1240              		.loc 1 351 0
 1241 0088 3046     		mov	r0, r6
 1242 008a B847     		blx	r7
 1243              	.LVL96:
 1244 008c 514B     		ldr	r3, .L139+28
 1245 008e 1860     		str	r0, [r3]
 1246              	.LVL97:
 1247 0090 94F87200 		ldrb	r0, [r4, #114]	@ zero_extendqisi2
 1248              	.LVL98:
 1249              	.L121:
 356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->cam_tbl_size++;
 1250              		.loc 1 356 0
 1251 0094 504B     		ldr	r3, .L139+32
 1252 0096 33F81520 		ldrh	r2, [r3, r5, lsl #1]
 1253 009a 9946     		mov	r9, r3
 1254 009c 0AB1     		cbz	r2, .L120
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1255              		.loc 1 357 0
 1256 009e 0130     		adds	r0, r0, #1
 1257 00a0 C0B2     		uxtb	r0, r0
 1258              	.L120:
 1259              	.LVL99:
 1260 00a2 0135     		adds	r5, r5, #1
 1261              	.LVL100:
 354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1262              		.loc 1 354 0 discriminator 2
 1263 00a4 102D     		cmp	r5, #16
 1264 00a6 F5D1     		bne	.L121
 1265 00a8 84F87200 		strb	r0, [r4, #114]
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1266              		.loc 1 361 0
 1267 00ac C0EBC000 		rsb	r0, r0, r0, lsl #3
 1268 00b0 4A49     		ldr	r1, .L139+36
 1269 00b2 4FF4B572 		mov	r2, #362
 1270 00b6 C000     		lsls	r0, r0, #3
 1271 00b8 494F     		ldr	r7, .L139+40
 1272 00ba B847     		blx	r7
 1273              	.LVL101:
 1274 00bc 2060     		str	r0, [r4]
 1275 00be 20B9     		cbnz	r0, .L129
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1276              		.loc 1 361 0 is_stmt 0 discriminator 2
 1277 00c0 4648     		ldr	r0, .L139+36
 1278 00c2 4FF4B571 		mov	r1, #362
 1279 00c6 474B     		ldr	r3, .L139+44
 1280 00c8 9847     		blx	r3
 1281              	.LVL102:
 1282              	.L129:
 1283 00ca 04F16001 		add	r1, r4, #96
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1284              		.loc 1 361 0
 1285 00ce 4FF00008 		mov	r8, #0
 1286 00d2 D4F85CC0 		ldr	ip, [r4, #92]
 1287 00d6 0646     		mov	r6, r0
 1288 00d8 91E80608 		ldmia	r1, {r1, r2, fp}
 363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < CAMERA_MAX(); i++)
 1289              		.loc 1 363 0 is_stmt 1
 1290 00dc 4346     		mov	r3, r8
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1291              		.loc 1 361 0
 1292 00de 2060     		str	r0, [r4]
 1293              	.LVL103:
 1294              	.L126:
 366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (info.ident != 0x0000)
 1295              		.loc 1 366 0
 1296 00e0 39F81850 		ldrh	r5, [r9, r8, lsl #1]
 367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 1297              		.loc 1 367 0
 1298 00e4 3DB3     		cbz	r5, .L130
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1299              		.loc 1 369 0
 1300 00e6 03F1010A 		add	r10, r3, #1
 1301 00ea 1BB2     		sxth	r3, r3
 1302              	.LVL104:
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 1303              		.loc 1 372 0
 1304 00ec 280A     		lsrs	r0, r5, #8
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1305              		.loc 1 369 0
 1306 00ee C3EBC303 		rsb	r3, r3, r3, lsl #3
 1307 00f2 0391     		str	r1, [sp, #12]
 1308 00f4 5FFA8AFA 		uxtb	r10, r10
 1309              	.LVL105:
 1310 00f8 06EBC303 		add	r3, r6, r3, lsl #3
 1311 00fc 0292     		str	r2, [sp, #8]
 1312 00fe 1D85     		strh	r5, [r3, #40]	@ movhi
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 1313              		.loc 1 372 0
 1314 0100 394B     		ldr	r3, .L139+48
 1315 0102 CDF804C0 		str	ip, [sp, #4]
 1316 0106 9847     		blx	r3
 1317              	.LVL106:
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1318              		.loc 1 374 0
 1319 0108 0123     		movs	r3, #1
 1320 010a DDF804C0 		ldr	ip, [sp, #4]
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter |= (1 << idx);
 1321              		.loc 1 377 0
 1322 010e 15F0F005 		ands	r5, r5, #240
 1323 0112 029A     		ldr	r2, [sp, #8]
 1324 0114 0399     		ldr	r1, [sp, #12]
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1325              		.loc 1 374 0
 1326 0116 03FA00F3 		lsl	r3, r3, r0
 1327 011a 4CEA030C 		orr	ip, ip, r3
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter |= (1 << idx);
 1328              		.loc 1 377 0
 1329 011e 01D1     		bne	.L124
 378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC1 */
 1330              		.loc 1 378 0
 1331 0120 1943     		orrs	r1, r1, r3
 1332 0122 09E0     		b	.L123
 1333              	.L124:
 380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic1 |= (1 << idx);
 1334              		.loc 1 380 0
 1335 0124 102D     		cmp	r5, #16
 1336 0126 01D1     		bne	.L125
 381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC2 */
 1337              		.loc 1 381 0
 1338 0128 1A43     		orrs	r2, r2, r3
 1339 012a 05E0     		b	.L123
 1340              	.L125:
 383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic2 |= (1 << idx);
 1341              		.loc 1 383 0
 1342 012c 202D     		cmp	r5, #32
 1343 012e 03D1     		bne	.L123
 384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 1344              		.loc 1 384 0
 1345 0130 4BEA030B 		orr	fp, fp, r3
 1346 0134 00E0     		b	.L123
 1347              	.LVL107:
 1348              	.L130:
 1349 0136 9A46     		mov	r10, r3
 1350              	.LVL108:
 1351              	.L123:
 1352 0138 08F10108 		add	r8, r8, #1
 1353              	.LVL109:
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1354              		.loc 1 364 0 discriminator 2
 1355 013c B8F1100F 		cmp	r8, #16
 1356 0140 01D0     		beq	.L138
 1357 0142 5346     		mov	r3, r10
 1358 0144 CCE7     		b	.L126
 1359              	.L138:
 1360 0146 2166     		str	r1, [r4, #96]
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 1361              		.loc 1 389 0
 1362 0148 A820     		movs	r0, #168
 1363 014a 6266     		str	r2, [r4, #100]
 1364 014c 4FF4C372 		mov	r2, #390
 1365 0150 2249     		ldr	r1, .L139+36
 1366 0152 C4F85CC0 		str	ip, [r4, #92]
 1367 0156 C4F868B0 		str	fp, [r4, #104]
 1368 015a B847     		blx	r7
 1369              	.LVL110:
 1370 015c A060     		str	r0, [r4, #8]
 1371 015e 20B9     		cbnz	r0, .L127
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 1372              		.loc 1 389 0 is_stmt 0 discriminator 2
 1373 0160 1E48     		ldr	r0, .L139+36
 1374 0162 4FF4C371 		mov	r1, #390
 1375 0166 1F4B     		ldr	r3, .L139+44
 1376 0168 9847     		blx	r3
 1377              	.LVL111:
 1378              	.L127:
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1379              		.loc 1 393 0 is_stmt 1 discriminator 4
 1380 016a 1F23     		movs	r3, #31
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[1] = ASIC_FW_VERSION_MINOR;
 1381              		.loc 1 396 0 discriminator 4
 1382 016c 0126     		movs	r6, #1
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1383              		.loc 1 397 0 discriminator 4
 1384 016e 0025     		movs	r5, #0
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 1385              		.loc 1 389 0 discriminator 4
 1386 0170 A060     		str	r0, [r4, #8]
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1387              		.loc 1 393 0 discriminator 4
 1388 0172 8376     		strb	r3, [r0, #26]
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1389              		.loc 1 401 0 discriminator 4
 1390 0174 1D49     		ldr	r1, .L139+52
 1391 0176 1E4B     		ldr	r3, .L139+56
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[1] = ASIC_FW_VERSION_MINOR;
 1392              		.loc 1 396 0 discriminator 4
 1393 0178 0672     		strb	r6, [r0, #8]
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1394              		.loc 1 397 0 discriminator 4
 1395 017a 4572     		strb	r5, [r0, #9]
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1396              		.loc 1 401 0 discriminator 4
 1397 017c 9847     		blx	r3
 1398              	.LVL112:
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1399              		.loc 1 407 0 discriminator 4
 1400 017e 1022     		movs	r2, #16
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[1] = ASIC_CALIB_VERSION_MINOR;
 1401              		.loc 1 404 0 discriminator 4
 1402 0180 A368     		ldr	r3, [r4, #8]
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1403              		.loc 1 411 0 discriminator 4
 1404 0182 0420     		movs	r0, #4
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[1] = ASIC_CALIB_VERSION_MINOR;
 1405              		.loc 1 404 0 discriminator 4
 1406 0184 9E72     		strb	r6, [r3, #10]
 405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1407              		.loc 1 405 0 discriminator 4
 1408 0186 DD72     		strb	r5, [r3, #11]
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1409              		.loc 1 407 0 discriminator 4
 1410 0188 84F87520 		strb	r2, [r4, #117]
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->af_ctrl = assert_malloc(light_system->af_ctrl, sizeof(af_ctrl_t));
 1411              		.loc 1 410 0 discriminator 4
 1412 018c 4FF07E52 		mov	r2, #1065353216
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1413              		.loc 1 411 0 discriminator 4
 1414 0190 1249     		ldr	r1, .L139+36
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->af_ctrl = assert_malloc(light_system->af_ctrl, sizeof(af_ctrl_t));
 1415              		.loc 1 410 0 discriminator 4
 1416 0192 C3F8A020 		str	r2, [r3, #160]	@ float
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1417              		.loc 1 411 0 discriminator 4
 1418 0196 40F29B12 		movw	r2, #411
 1419 019a B847     		blx	r7
 1420              	.LVL113:
 1421 019c 6060     		str	r0, [r4, #4]
 1422 019e 20B9     		cbnz	r0, .L128
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1423              		.loc 1 411 0 is_stmt 0 discriminator 2
 1424 01a0 0E48     		ldr	r0, .L139+36
 1425 01a2 40F29B11 		movw	r1, #411
 1426 01a6 0F4B     		ldr	r3, .L139+44
 1427 01a8 9847     		blx	r3
 1428              	.LVL114:
 1429              	.L128:
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1430              		.loc 1 412 0 is_stmt 1 discriminator 4
 1431 01aa 124B     		ldr	r3, .L139+60
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1432              		.loc 1 411 0 discriminator 4
 1433 01ac 6060     		str	r0, [r4, #4]
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1434              		.loc 1 412 0 discriminator 4
 1435 01ae 9847     		blx	r3
 1436              	.LVL115:
 413:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1437              		.loc 1 413 0 discriminator 4
 1438 01b0 09B0     		add	sp, sp, #36
 1439              	.LCFI10:
 1440              		.cfi_def_cfa_offset 36
 1441              		@ sp needed
 1442 01b2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1443              	.LVL116:
 1444              	.L140:
 1445 01b6 00BF     		.align	2
 1446              	.L139:
 1447 01b8 00000000 		.word	.LANCHOR0
 1448 01bc 00000000 		.word	xEventGroupCreate
 1449 01c0 00000000 		.word	asic3_intr_handler
 1450 01c4 00000000 		.word	asic2_intr_handler
 1451 01c8 00000000 		.word	.LANCHOR1
 1452 01cc 00000000 		.word	xQueueCreateMutex
 1453 01d0 00000000 		.word	.LANCHOR8
 1454 01d4 00000000 		.word	.LANCHOR9
 1455 01d8 00000000 		.word	.LANCHOR10
 1456 01dc 00000000 		.word	.LANCHOR11
 1457 01e0 00000000 		.word	pvPortMalloc1
 1458 01e4 00000000 		.word	malloc_failed
 1459 01e8 00000000 		.word	module_to_idx
 1460 01ec 17000000 		.word	.LC1
 1461 01f0 00000000 		.word	strcpy
 1462 01f4 00000000 		.word	task_af_create
 1463 01f8 00000000 		.word	hal_gpio_init
 1464 01fc 00000000 		.word	hal_gpio_enable_exti
 1465              		.cfi_endproc
 1466              	.LFE4:
 1468              		.section	.text.light_main,"ax",%progbits
 1469              		.align	1
 1470              		.global	light_main
 1471              		.thumb
 1472              		.thumb_func
 1474              	light_main:
 1475              	.LFB5:
 419:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Light camera control board initialization */
 1476              		.loc 1 419 0
 1477              		.cfi_startproc
 1478              		@ args = 0, pretend = 0, frame = 0
 1479              		@ frame_needed = 0, uses_anonymous_args = 0
 1480 0000 08B5     		push	{r3, lr}
 1481              	.LCFI11:
 1482              		.cfi_def_cfa_offset 8
 1483              		.cfi_offset 3, -8
 1484              		.cfi_offset 14, -4
 421:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Camera initialization */
 1485              		.loc 1 421 0
 1486 0002 054B     		ldr	r3, .L142
 1487 0004 9847     		blx	r3
 1488              	.LVL117:
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_camera_task_create();
 1489              		.loc 1 423 0
 1490 0006 054B     		ldr	r3, .L142+4
 1491 0008 9847     		blx	r3
 1492              	.LVL118:
 424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Initialize command processing */
 1493              		.loc 1 424 0
 1494 000a 054B     		ldr	r3, .L142+8
 1495 000c 9847     		blx	r3
 1496              	.LVL119:
 426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     /* Start the scheduler so our tasks start executing. */
 1497              		.loc 1 426 0
 1498 000e 054B     		ldr	r3, .L142+12
 1499 0010 9847     		blx	r3
 1500              	.LVL120:
 428:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1501              		.loc 1 428 0
 1502 0012 054B     		ldr	r3, .L142+16
 1503 0014 9847     		blx	r3
 1504              	.LVL121:
 1505 0016 08BD     		pop	{r3, pc}
 1506              	.L143:
 1507              		.align	2
 1508              	.L142:
 1509 0018 00000000 		.word	light_system_init
 1510 001c 00000000 		.word	light_camera_init
 1511 0020 00000000 		.word	light_camera_task_create
 1512 0024 00000000 		.word	lcc_cmd_init
 1513 0028 00000000 		.word	vTaskStartScheduler
 1514              		.cfi_endproc
 1515              	.LFE5:
 1517              		.section	.text.idx_to_module,"ax",%progbits
 1518              		.align	1
 1519              		.global	idx_to_module
 1520              		.thumb
 1521              		.thumb_func
 1523              	idx_to_module:
 1524              	.LFB8:
 461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return modules_tbl[idx];
 1525              		.loc 1 461 0
 1526              		.cfi_startproc
 1527              		@ args = 0, pretend = 0, frame = 0
 1528              		@ frame_needed = 0, uses_anonymous_args = 0
 1529              		@ link register save eliminated.
 1530              	.LVL122:
 463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1531              		.loc 1 463 0
 1532 0000 014B     		ldr	r3, .L145
 1533 0002 185C     		ldrb	r0, [r3, r0]	@ zero_extendqisi2
 1534              	.LVL123:
 1535 0004 7047     		bx	lr
 1536              	.L146:
 1537 0006 00BF     		.align	2
 1538              	.L145:
 1539 0008 00000000 		.word	.LANCHOR7
 1540              		.cfi_endproc
 1541              	.LFE8:
 1543              		.section	.text.idx_to_object,"ax",%progbits
 1544              		.align	1
 1545              		.global	idx_to_object
 1546              		.thumb
 1547              		.thumb_func
 1549              	idx_to_object:
 1550              	.LFB9:
 466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 1551              		.loc 1 466 0
 1552              		.cfi_startproc
 1553              		@ args = 0, pretend = 0, frame = 0
 1554              		@ frame_needed = 0, uses_anonymous_args = 0
 1555              	.LVL124:
 1556 0000 38B5     		push	{r3, r4, r5, lr}
 1557              	.LCFI12:
 1558              		.cfi_def_cfa_offset 16
 1559              		.cfi_offset 3, -16
 1560              		.cfi_offset 4, -12
 1561              		.cfi_offset 5, -8
 1562              		.cfi_offset 14, -4
 1563              	.LBB28:
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1564              		.loc 1 469 0
 1565 0002 0E4B     		ldr	r3, .L153
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pcam->info.module == modules_tbl[idx])
 1566              		.loc 1 471 0
 1567 0004 1968     		ldr	r1, [r3]
 1568 0006 93F87230 		ldrb	r3, [r3, #114]	@ zero_extendqisi2
 1569 000a C3EBC303 		rsb	r3, r3, r3, lsl #3
 1570 000e 01EBC303 		add	r3, r1, r3, lsl #3
 1571              	.LVL125:
 1572              	.L148:
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1573              		.loc 1 469 0 discriminator 1
 1574 0012 9942     		cmp	r1, r3
 1575 0014 0AD0     		beq	.L152
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pcam->info.module == modules_tbl[idx])
 1576              		.loc 1 471 0
 1577 0016 0A46     		mov	r2, r1
 1578              	.LVL126:
 472:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return pcam;
 1579              		.loc 1 472 0
 1580 0018 92F82950 		ldrb	r5, [r2, #41]	@ zero_extendqisi2
 1581 001c 084C     		ldr	r4, .L153+4
 1582 001e 245C     		ldrb	r4, [r4, r0]	@ zero_extendqisi2
 1583 0020 A542     		cmp	r5, r4
 1584 0022 01F13801 		add	r1, r1, #56
 1585              	.LVL127:
 1586 0026 F4D1     		bne	.L148
 1587 0028 1046     		mov	r0, r2
 1588              	.LVL128:
 1589              	.LBE28:
 477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1590              		.loc 1 477 0
 1591 002a 38BD     		pop	{r3, r4, r5, pc}
 1592              	.LVL129:
 1593              	.L152:
 475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return NULL;
 1594              		.loc 1 475 0
 1595 002c 1E20     		movs	r0, #30
 1596              	.LVL130:
 1597 002e 0221     		movs	r1, #2
 1598 0030 044A     		ldr	r2, .L153+8
 1599 0032 054B     		ldr	r3, .L153+12
 1600 0034 9847     		blx	r3
 1601              	.LVL131:
 476:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1602              		.loc 1 476 0
 1603 0036 0020     		movs	r0, #0
 1604 0038 38BD     		pop	{r3, r4, r5, pc}
 1605              	.L154:
 1606 003a 00BF     		.align	2
 1607              	.L153:
 1608 003c 00000000 		.word	.LANCHOR0
 1609 0040 00000000 		.word	.LANCHOR7
 1610 0044 1B000000 		.word	.LC2
 1611 0048 00000000 		.word	slogf
 1612              		.cfi_endproc
 1613              	.LFE9:
 1615              		.section	.text.chan_to_object,"ax",%progbits
 1616              		.align	1
 1617              		.global	chan_to_object
 1618              		.thumb
 1619              		.thumb_func
 1621              	chan_to_object:
 1622              	.LFB10:
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     cam_typedef_t *pcam;
 1623              		.loc 1 480 0
 1624              		.cfi_startproc
 1625              		@ args = 0, pretend = 0, frame = 0
 1626              		@ frame_needed = 0, uses_anonymous_args = 0
 1627              	.LVL132:
 1628              	.LBB29:
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     {
 1629              		.loc 1 483 0
 1630 0000 0E4B     		ldr	r3, .L161
 1631              	.LBE29:
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     cam_typedef_t *pcam;
 1632              		.loc 1 480 0
 1633 0002 10B5     		push	{r4, lr}
 1634              	.LCFI13:
 1635              		.cfi_def_cfa_offset 8
 1636              		.cfi_offset 4, -8
 1637              		.cfi_offset 14, -4
 1638              	.LBB30:
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         if (pcam->info.ch == ch)
 1639              		.loc 1 485 0
 1640 0004 1968     		ldr	r1, [r3]
 1641 0006 93F87230 		ldrb	r3, [r3, #114]	@ zero_extendqisi2
 1642 000a C3EBC303 		rsb	r3, r3, r3, lsl #3
 1643 000e 01EBC303 		add	r3, r1, r3, lsl #3
 1644              	.LVL133:
 1645              	.L156:
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     {
 1646              		.loc 1 483 0 discriminator 1
 1647 0012 9942     		cmp	r1, r3
 1648 0014 0AD0     		beq	.L160
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         if (pcam->info.ch == ch)
 1649              		.loc 1 485 0
 1650 0016 0A46     		mov	r2, r1
 1651              	.LVL134:
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****             return pcam;
 1652              		.loc 1 486 0
 1653 0018 92F82840 		ldrb	r4, [r2, #40]	@ zero_extendqisi2
 1654 001c 04F00F04 		and	r4, r4, #15
 1655 0020 8442     		cmp	r4, r0
 1656 0022 01F13801 		add	r1, r1, #56
 1657              	.LVL135:
 1658 0026 F4D1     		bne	.L156
 1659 0028 1046     		mov	r0, r2
 1660              	.LVL136:
 1661              	.LBE30:
 491:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1662              		.loc 1 491 0
 1663 002a 10BD     		pop	{r4, pc}
 1664              	.LVL137:
 1665              	.L160:
 489:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     return NULL;
 1666              		.loc 1 489 0
 1667 002c 1E20     		movs	r0, #30
 1668              	.LVL138:
 1669 002e 0221     		movs	r1, #2
 1670 0030 034A     		ldr	r2, .L161+4
 1671 0032 044B     		ldr	r3, .L161+8
 1672 0034 9847     		blx	r3
 1673              	.LVL139:
 490:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1674              		.loc 1 490 0
 1675 0036 0020     		movs	r0, #0
 1676 0038 10BD     		pop	{r4, pc}
 1677              	.L162:
 1678 003a 00BF     		.align	2
 1679              	.L161:
 1680 003c 00000000 		.word	.LANCHOR0
 1681 0040 1B000000 		.word	.LC2
 1682 0044 00000000 		.word	slogf
 1683              		.cfi_endproc
 1684              	.LFE10:
 1686              		.section	.text.wait_intr_signal,"ax",%progbits
 1687              		.align	1
 1688              		.global	wait_intr_signal
 1689              		.thumb
 1690              		.thumb_func
 1692              	wait_intr_signal:
 1693              	.LFB13:
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic2_is_used = FALSE;
 1694              		.loc 1 530 0
 1695              		.cfi_startproc
 1696              		@ args = 0, pretend = 0, frame = 0
 1697              		@ frame_needed = 0, uses_anonymous_args = 0
 1698              	.LVL140:
 1699 0000 2DE9F743 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, lr}
 1700              	.LCFI14:
 1701              		.cfi_def_cfa_offset 40
 1702              		.cfi_offset 4, -28
 1703              		.cfi_offset 5, -24
 1704              		.cfi_offset 6, -20
 1705              		.cfi_offset 7, -16
 1706              		.cfi_offset 8, -12
 1707              		.cfi_offset 9, -8
 1708              		.cfi_offset 14, -4
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic2_is_used = FALSE;
 1709              		.loc 1 530 0
 1710 0004 8946     		mov	r9, r1
 535:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk == 0)
 1711              		.loc 1 535 0
 1712 0006 0021     		movs	r1, #0
 1713              	.LVL141:
 1714 0008 314B     		ldr	r3, .L189
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic2_is_used = FALSE;
 1715              		.loc 1 530 0
 1716 000a 1646     		mov	r6, r2
 535:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk == 0)
 1717              		.loc 1 535 0
 1718 000c 83F87C10 		strb	r1, [r3, #124]
 536:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1719              		.loc 1 536 0
 1720 0010 0546     		mov	r5, r0
 1721 0012 30B9     		cbnz	r0, .L164
 538:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return asic_id_msk;
 1722              		.loc 1 538 0
 1723 0014 1E20     		movs	r0, #30
 1724              	.LVL142:
 1725 0016 0821     		movs	r1, #8
 1726 0018 2E4A     		ldr	r2, .L189+4
 1727              	.LVL143:
 1728 001a 2F4B     		ldr	r3, .L189+8
 1729 001c 9847     		blx	r3
 1730              	.LVL144:
 539:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1731              		.loc 1 539 0
 1732 001e 2846     		mov	r0, r5
 1733 0020 52E0     		b	.L165
 1734              	.LVL145:
 1735              	.L164:
 541:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1736              		.loc 1 541 0
 1737 0022 00F00403 		and	r3, r0, #4
 1738 0026 03F0FF08 		and	r8, r3, #255
 1739 002a 0BB9     		cbnz	r3, .L166
 1740              	.LVL146:
 1741              	.L168:
 531:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic3_is_used = FALSE;
 1742              		.loc 1 531 0
 1743 002c 0024     		movs	r4, #0
 1744 002e 0EE0     		b	.L167
 1745              	.LVL147:
 1746              	.L166:
 544:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 1747              		.loc 1 544 0
 1748 0030 2A4B     		ldr	r3, .L189+12
 1749 0032 4FF47A72 		mov	r2, #1000
 1750              	.LVL148:
 1751 0036 2A4C     		ldr	r4, .L189+16
 1752 0038 1868     		ldr	r0, [r3]
 1753              	.LVL149:
 1754 003a 0B46     		mov	r3, r1
 1755 003c A047     		blx	r4
 1756              	.LVL150:
 1757 003e 0128     		cmp	r0, #1
 1758 0040 F4D0     		beq	.L168
 546:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			asic2_is_used = TRUE;
 1759              		.loc 1 546 0
 1760 0042 1E20     		movs	r0, #30
 1761 0044 0221     		movs	r1, #2
 1762 0046 274A     		ldr	r2, .L189+20
 547:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 1763              		.loc 1 547 0
 1764 0048 0124     		movs	r4, #1
 546:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			asic2_is_used = TRUE;
 1765              		.loc 1 546 0
 1766 004a 234B     		ldr	r3, .L189+8
 1767 004c 9847     		blx	r3
 1768              	.LVL151:
 1769              	.L167:
 551:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1770              		.loc 1 551 0
 1771 004e 05F00803 		and	r3, r5, #8
 1772 0052 03F0FF07 		and	r7, r3, #255
 1773 0056 0BB9     		cbnz	r3, .L169
 1774              	.L171:
 532:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	EventBits_t ux_bits;
 1775              		.loc 1 532 0
 1776 0058 0023     		movs	r3, #0
 1777 005a 10E0     		b	.L170
 1778              	.L169:
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 1779              		.loc 1 553 0
 1780 005c 224B     		ldr	r3, .L189+24
 1781 005e 0021     		movs	r1, #0
 1782 0060 4FF47A72 		mov	r2, #1000
 1783 0064 DFF878C0 		ldr	ip, .L189+16
 1784 0068 1868     		ldr	r0, [r3]
 1785 006a 0B46     		mov	r3, r1
 1786 006c E047     		blx	ip
 1787              	.LVL152:
 1788 006e 0128     		cmp	r0, #1
 1789 0070 F2D0     		beq	.L171
 555:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			asic3_is_used = TRUE;
 1790              		.loc 1 555 0
 1791 0072 194B     		ldr	r3, .L189+8
 1792 0074 1E20     		movs	r0, #30
 1793 0076 0221     		movs	r1, #2
 1794 0078 1C4A     		ldr	r2, .L189+28
 1795 007a 9847     		blx	r3
 1796              	.LVL153:
 556:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 1797              		.loc 1 556 0
 1798 007c 0123     		movs	r3, #1
 1799              	.LVL154:
 1800              	.L170:
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1801              		.loc 1 559 0
 1802 007e 0EB1     		cbz	r6, .L172
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1803              		.loc 1 559 0 is_stmt 0 discriminator 1
 1804 0080 FCB9     		cbnz	r4, .L174
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1805              		.loc 1 559 0 discriminator 2
 1806 0082 03BB     		cbnz	r3, .L176
 1807              	.L172:
 564:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								intr_sync_event,
 1808              		.loc 1 564 0 is_stmt 1
 1809 0084 1A4B     		ldr	r3, .L189+32
 1810              	.LVL155:
 1811 0086 2946     		mov	r1, r5
 1812 0088 CDF80090 		str	r9, [sp]
 1813 008c 0122     		movs	r2, #1
 1814 008e 194C     		ldr	r4, .L189+36
 1815              	.LVL156:
 1816 0090 1868     		ldr	r0, [r3]
 1817 0092 331C     		adds	r3, r6, #0
 1818 0094 18BF     		it	ne
 1819 0096 0123     		movne	r3, #1
 1820 0098 A047     		blx	r4
 1821              	.LVL157:
 1822 009a 0446     		mov	r4, r0
 1823              	.LVL158:
 571:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_asic2_sync_sem);
 1824              		.loc 1 571 0
 1825 009c B8F1000F 		cmp	r8, #0
 1826 00a0 06D0     		beq	.L173
 572:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Release interrupt signal semaphore of asic3*/
 1827              		.loc 1 572 0
 1828 00a2 0E4B     		ldr	r3, .L189+12
 1829 00a4 0021     		movs	r1, #0
 1830 00a6 0A46     		mov	r2, r1
 1831 00a8 134D     		ldr	r5, .L189+40
 1832 00aa 1868     		ldr	r0, [r3]
 1833              	.LVL159:
 1834 00ac 0B46     		mov	r3, r1
 1835 00ae A847     		blx	r5
 1836              	.LVL160:
 1837              	.L173:
 574:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_asic3_sync_sem);
 1838              		.loc 1 574 0
 1839 00b0 4FB1     		cbz	r7, .L176
 575:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return ux_bits;
 1840              		.loc 1 575 0
 1841 00b2 0D4B     		ldr	r3, .L189+24
 1842 00b4 0021     		movs	r1, #0
 1843 00b6 0A46     		mov	r2, r1
 1844 00b8 0F4D     		ldr	r5, .L189+40
 1845 00ba 1868     		ldr	r0, [r3]
 1846 00bc 0B46     		mov	r3, r1
 1847 00be A847     		blx	r5
 1848              	.LVL161:
 1849 00c0 01E0     		b	.L176
 1850              	.LVL162:
 1851              	.L174:
 561:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1852              		.loc 1 561 0
 1853 00c2 0020     		movs	r0, #0
 1854 00c4 00E0     		b	.L165
 1855              	.LVL163:
 1856              	.L176:
 576:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1857              		.loc 1 576 0
 1858 00c6 2046     		mov	r0, r4
 1859              	.L165:
 577:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 1860              		.loc 1 577 0
 1861 00c8 03B0     		add	sp, sp, #12
 1862              	.LCFI15:
 1863              		.cfi_def_cfa_offset 28
 1864              		@ sp needed
 1865 00ca BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1866              	.LVL164:
 1867              	.L190:
 1868 00ce 00BF     		.align	2
 1869              	.L189:
 1870 00d0 00000000 		.word	.LANCHOR0
 1871 00d4 33000000 		.word	.LC3
 1872 00d8 00000000 		.word	slogf
 1873 00dc 00000000 		.word	.LANCHOR8
 1874 00e0 00000000 		.word	xQueueGenericReceive
 1875 00e4 4A000000 		.word	.LC4
 1876 00e8 00000000 		.word	.LANCHOR9
 1877 00ec 6E000000 		.word	.LC5
 1878 00f0 00000000 		.word	.LANCHOR1
 1879 00f4 00000000 		.word	xEventGroupWaitBits
 1880 00f8 00000000 		.word	xQueueGenericSend
 1881              		.cfi_endproc
 1882              	.LFE13:
 1884              		.section	.text.send_intr_signal,"ax",%progbits
 1885              		.align	1
 1886              		.global	send_intr_signal
 1887              		.thumb
 1888              		.thumb_func
 1890              	send_intr_signal:
 1891              	.LFB14:
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskSuspendAll();
 1892              		.loc 1 581 0
 1893              		.cfi_startproc
 1894              		@ args = 0, pretend = 0, frame = 0
 1895              		@ frame_needed = 0, uses_anonymous_args = 0
 1896 0000 08B5     		push	{r3, lr}
 1897              	.LCFI16:
 1898              		.cfi_def_cfa_offset 8
 1899              		.cfi_offset 3, -8
 1900              		.cfi_offset 14, -4
 582:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	unsigned int i = 533;
 1901              		.loc 1 582 0
 1902 0002 064B     		ldr	r3, .L192
 1903 0004 9847     		blx	r3
 1904              	.LVL165:
 584:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while(i)
 1905              		.loc 1 584 0
 1906 0006 0320     		movs	r0, #3
 1907 0008 0021     		movs	r1, #0
 1908 000a 054B     		ldr	r3, .L192+4
 1909 000c 9847     		blx	r3
 1910              	.LVL166:
 587:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xTaskResumeAll();
 1911              		.loc 1 587 0
 1912 000e 0021     		movs	r1, #0
 1913 0010 044B     		ldr	r3, .L192+8
 1914 0012 0320     		movs	r0, #3
 1915 0014 9847     		blx	r3
 1916              	.LVL167:
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1917              		.loc 1 588 0
 1918 0016 044B     		ldr	r3, .L192+12
 1919 0018 9847     		blx	r3
 1920              	.LVL168:
 1921 001a 08BD     		pop	{r3, pc}
 1922              	.L193:
 1923              		.align	2
 1924              	.L192:
 1925 001c 00000000 		.word	vTaskSuspendAll
 1926 0020 00000000 		.word	hal_pwm_set_high
 1927 0024 00000000 		.word	hal_pwm_set_low
 1928 0028 00000000 		.word	xTaskResumeAll
 1929              		.cfi_endproc
 1930              	.LFE14:
 1932              		.section	.text.intr_signal,"ax",%progbits
 1933              		.align	1
 1934              		.global	intr_signal
 1935              		.thumb
 1936              		.thumb_func
 1938              	intr_signal:
 1939              	.LFB16:
 611:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (xSemaphoreTake(intr_semaphore, (TickType_t)10) == pdTRUE)
 1940              		.loc 1 611 0
 1941              		.cfi_startproc
 1942              		@ args = 0, pretend = 0, frame = 0
 1943              		@ frame_needed = 0, uses_anonymous_args = 0
 1944 0000 38B5     		push	{r3, r4, r5, lr}
 1945              	.LCFI17:
 1946              		.cfi_def_cfa_offset 16
 1947              		.cfi_offset 3, -16
 1948              		.cfi_offset 4, -12
 1949              		.cfi_offset 5, -8
 1950              		.cfi_offset 14, -4
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1951              		.loc 1 612 0
 1952 0002 0B4C     		ldr	r4, .L196
 1953 0004 0021     		movs	r1, #0
 1954 0006 0A22     		movs	r2, #10
 1955 0008 0B46     		mov	r3, r1
 1956 000a 2068     		ldr	r0, [r4]
 1957 000c 094D     		ldr	r5, .L196+4
 1958 000e A847     		blx	r5
 1959              	.LVL169:
 1960 0010 0128     		cmp	r0, #1
 1961 0012 0BD1     		bne	.L194
 1962              	.LVL170:
 1963              	.LBB34:
 1964              	.LBB35:
 616:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		while(i)
 1965              		.loc 1 616 0
 1966 0014 0848     		ldr	r0, .L196+8
 1967 0016 094B     		ldr	r3, .L196+12
 1968 0018 9847     		blx	r3
 1969              	.LVL171:
 619:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #else /* ASIC2 - 3 */
 1970              		.loc 1 619 0
 1971 001a 0748     		ldr	r0, .L196+8
 1972 001c 084B     		ldr	r3, .L196+16
 1973 001e 9847     		blx	r3
 1974              	.LVL172:
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1975              		.loc 1 628 0
 1976 0020 0021     		movs	r1, #0
 1977 0022 2068     		ldr	r0, [r4]
 1978 0024 0A46     		mov	r2, r1
 1979 0026 0B46     		mov	r3, r1
 1980 0028 064C     		ldr	r4, .L196+20
 1981 002a A047     		blx	r4
 1982              	.LVL173:
 1983              	.L194:
 1984 002c 38BD     		pop	{r3, r4, r5, pc}
 1985              	.L197:
 1986 002e 00BF     		.align	2
 1987              	.L196:
 1988 0030 00000000 		.word	.LANCHOR4
 1989 0034 00000000 		.word	xQueueGenericReceive
 1990 0038 00000000 		.word	.LANCHOR3
 1991 003c 00000000 		.word	hal_gpio_set_high
 1992 0040 00000000 		.word	hal_gpio_set_low
 1993 0044 00000000 		.word	xQueueGenericSend
 1994              	.LBE35:
 1995              	.LBE34:
 1996              		.cfi_endproc
 1997              	.LFE16:
 1999              		.section	.text.set_intr_pin,"ax",%progbits
 2000              		.align	1
 2001              		.global	set_intr_pin
 2002              		.thumb
 2003              		.thumb_func
 2005              	set_intr_pin:
 2006              	.LFB17:
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(data)
 2007              		.loc 1 633 0
 2008              		.cfi_startproc
 2009              		@ args = 0, pretend = 0, frame = 0
 2010              		@ frame_needed = 0, uses_anonymous_args = 0
 2011              	.LVL174:
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 2012              		.loc 1 634 0
 2013 0000 0146     		mov	r1, r0
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2014              		.loc 1 635 0
 2015 0002 0320     		movs	r0, #3
 2016              	.LVL175:
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(data)
 2017              		.loc 1 633 0
 2018 0004 08B5     		push	{r3, lr}
 2019              	.LCFI18:
 2020              		.cfi_def_cfa_offset 8
 2021              		.cfi_offset 3, -8
 2022              		.cfi_offset 14, -4
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 2023              		.loc 1 634 0
 2024 0006 11B1     		cbz	r1, .L199
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2025              		.loc 1 635 0
 2026 0008 0021     		movs	r1, #0
 2027 000a 024B     		ldr	r3, .L202
 2028 000c 00E0     		b	.L201
 2029              	.L199:
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 2030              		.loc 1 637 0
 2031 000e 024B     		ldr	r3, .L202+4
 2032              	.L201:
 2033 0010 9847     		blx	r3
 2034              	.LVL176:
 2035 0012 08BD     		pop	{r3, pc}
 2036              	.L203:
 2037              		.align	2
 2038              	.L202:
 2039 0014 00000000 		.word	hal_pwm_set_high
 2040 0018 00000000 		.word	hal_pwm_set_low
 2041              		.cfi_endproc
 2042              	.LFE17:
 2044              		.section	.text.disable_asic_sync_intr,"ax",%progbits
 2045              		.align	1
 2046              		.global	disable_asic_sync_intr
 2047              		.thumb
 2048              		.thumb_func
 2050              	disable_asic_sync_intr:
 2051              	.LFB18:
 641:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 2052              		.loc 1 641 0
 2053              		.cfi_startproc
 2054              		@ args = 0, pretend = 0, frame = 0
 2055              		@ frame_needed = 0, uses_anonymous_args = 0
 2056              		@ link register save eliminated.
 2057              	.LVL177:
 2058 0000 7047     		bx	lr
 2059              		.cfi_endproc
 2060              	.LFE18:
 2062              		.section	.text.enable_asic_sync_intr,"ax",%progbits
 2063              		.align	1
 2064              		.global	enable_asic_sync_intr
 2065              		.thumb
 2066              		.thumb_func
 2068              	enable_asic_sync_intr:
 2069              	.LFB19:
 652:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 2070              		.loc 1 652 0
 2071              		.cfi_startproc
 2072              		@ args = 0, pretend = 0, frame = 0
 2073              		@ frame_needed = 0, uses_anonymous_args = 0
 2074              		@ link register save eliminated.
 2075              	.LVL178:
 2076 0000 7047     		bx	lr
 2077              		.cfi_endproc
 2078              	.LFE19:
 2080              		.global	__aeabi_fcmpgt
 2081              		.global	__aeabi_fcmplt
 2082              		.global	__aeabi_f2d
 2083              		.global	__aeabi_dsub
 2084              		.global	__aeabi_ddiv
 2085              		.global	__aeabi_d2uiz
 2086              		.global	__aeabi_ui2f
 2087              		.global	__aeabi_dmul
 2088              		.global	__aeabi_i2d
 2089              		.global	__aeabi_dadd
 2090              		.global	__aeabi_d2f
 2091              		.global	__aeabi_fdiv
 2092              		.global	__aeabi_fmul
 2093              		.global	__aeabi_fadd
 2094              		.global	__aeabi_f2uiz
 2095              		.section	.text.pzt_voltage_config,"ax",%progbits
 2096              		.align	1
 2097              		.global	pzt_voltage_config
 2098              		.thumb
 2099              		.thumb_func
 2101              	pzt_voltage_config:
 2102              	.LFB20:
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 2103              		.loc 1 685 0
 2104              		.cfi_startproc
 2105              		@ args = 0, pretend = 0, frame = 16
 2106              		@ frame_needed = 0, uses_anonymous_args = 0
 2107              	.LVL179:
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 2108              		.loc 1 685 0
 2109 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2110              	.LCFI19:
 2111              		.cfi_def_cfa_offset 36
 2112              		.cfi_offset 4, -36
 2113              		.cfi_offset 5, -32
 2114              		.cfi_offset 6, -28
 2115              		.cfi_offset 7, -24
 2116              		.cfi_offset 8, -20
 2117              		.cfi_offset 9, -16
 2118              		.cfi_offset 10, -12
 2119              		.cfi_offset 11, -8
 2120              		.cfi_offset 14, -4
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 2121              		.loc 1 692 0
 2122 0004 604D     		ldr	r5, .L224+24
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 2123              		.loc 1 685 0
 2124 0006 87B0     		sub	sp, sp, #28
 2125              	.LCFI20:
 2126              		.cfi_def_cfa_offset 64
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t r2_val = 0;
 2127              		.loc 1 687 0
 2128 0008 0023     		movs	r3, #0
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 2129              		.loc 1 685 0
 2130 000a 8846     		mov	r8, r1
 2131 000c 0646     		mov	r6, r0
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t r2_val = 0;
 2132              		.loc 1 687 0
 2133 000e 8DF81730 		strb	r3, [sp, #23]
 2134              	.LVL180:
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 2135              		.loc 1 692 0
 2136 0012 0A20     		movs	r0, #10
 2137              	.LVL181:
 2138 0014 2B68     		ldr	r3, [r5]
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 2139              		.loc 1 685 0
 2140 0016 0392     		str	r2, [sp, #12]
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 2141              		.loc 1 692 0
 2142 0018 9847     		blx	r3
 2143              	.LVL182:
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 2144              		.loc 1 693 0
 2145 001a 4046     		mov	r0, r8
 2146 001c 5B49     		ldr	r1, .L224+28
 2147 001e 5C4B     		ldr	r3, .L224+32
 2148 0020 9847     		blx	r3
 2149              	.LVL183:
 2150 0022 5C4C     		ldr	r4, .L224+36
 2151 0024 28B9     		cbnz	r0, .L207
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 2152              		.loc 1 693 0 is_stmt 0 discriminator 1
 2153 0026 4046     		mov	r0, r8
 2154 0028 5B49     		ldr	r1, .L224+40
 2155 002a 5C4B     		ldr	r3, .L224+44
 2156 002c 9847     		blx	r3
 2157              	.LVL184:
 2158 002e 8146     		mov	r9, r0
 2159 0030 48B1     		cbz	r0, .L221
 2160              	.L207:
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return ret;
 2161              		.loc 1 695 0 is_stmt 1
 2162 0032 4046     		mov	r0, r8
 2163 0034 5A4B     		ldr	r3, .L224+48
 2164 0036 9847     		blx	r3
 2165              	.LVL185:
 2166 0038 5A4A     		ldr	r2, .L224+52
 2167 003a CDE90001 		strd	r0, [sp]
 2168 003e 1E20     		movs	r0, #30
 2169 0040 0221     		movs	r1, #2
 2170 0042 A047     		blx	r4
 2171              	.LVL186:
 2172 0044 89E0     		b	.L223
 2173              	.L221:
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Calculate R2 */
 2174              		.loc 1 701 0
 2175 0046 002E     		cmp	r6, #0
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		0x0601, (uint8_t *)&reg))
 2176              		.loc 1 704 0
 2177 0048 0DF1170A 		add	r10, sp, #23
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Calculate R2 */
 2178              		.loc 1 701 0
 2179 004c 0CBF     		ite	eq
 2180 004e 2F26     		moveq	r6, #47
 2181 0050 2C26     		movne	r6, #44
 2182              	.LVL187:
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		0x0601, (uint8_t *)&reg))
 2183              		.loc 1 704 0
 2184 0052 CDF800A0 		str	r10, [sp]
 2185 0056 0A20     		movs	r0, #10
 2186 0058 0121     		movs	r1, #1
 2187 005a 3246     		mov	r2, r6
 2188 005c 40F20163 		movw	r3, #1537
 2189 0060 EF68     		ldr	r7, [r5, #12]
 2190 0062 B847     		blx	r7
 2191              	.LVL188:
 2192 0064 0728     		cmp	r0, #7
 2193 0066 7AD1     		bne	.L212
 2194              	.LBB36:
 709:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actual_res = POT_FULL_SCALE + ((reg & 0x80 ? 1 : -1) *
 2195              		.loc 1 709 0
 2196 0068 9DF817B0 		ldrb	fp, [sp, #23]	@ zero_extendqisi2
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 2197              		.loc 1 710 0
 2198 006c 1BF0800F 		tst	fp, #128
 2199 0070 18BF     		it	ne
 2200 0072 4FF07E53 		movne	r3, #1065353216
 2201              	.LBE36:
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (I2CM_ERROR_TRANSCEIVED == i2cm.read(I2C_CH10, BYTE_ADDR16, i2c_addr,
 2202              		.loc 1 703 0
 2203 0076 DFF82891 		ldr	r9, .L224+48
 2204 007a 4046     		mov	r0, r8
 2205              	.LBB37:
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 2206              		.loc 1 710 0
 2207 007c 08BF     		it	eq
 2208 007e 4A4B     		ldreq	r3, .L224+56
 2209 0080 0293     		str	r3, [sp, #8]	@ float
 2210              	.LVL189:
 2211              	.LBE37:
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (I2CM_ERROR_TRANSCEIVED == i2cm.read(I2C_CH10, BYTE_ADDR16, i2c_addr,
 2212              		.loc 1 703 0
 2213 0082 C847     		blx	r9
 2214              	.LVL190:
 2215 0084 494F     		ldr	r7, .L224+60
 2216 0086 3AA3     		adr	r3, .L224
 2217 0088 D3E90023 		ldrd	r2, [r3]
 2218 008c B847     		blx	r7
 2219              	.LVL191:
 2220 008e DFF85481 		ldr	r8, .L224+116
 2221              	.LVL192:
 2222 0092 0246     		mov	r2, r0
 2223 0094 0B46     		mov	r3, r1
 2224 0096 38A1     		adr	r1, .L224+8
 2225 0098 D1E90001 		ldrd	r0, [r1]
 2226 009c C047     		blx	r8
 2227              	.LVL193:
 2228 009e 38A3     		adr	r3, .L224+16
 2229 00a0 D3E90023 		ldrd	r2, [r3]
 2230 00a4 B847     		blx	r7
 2231              	.LVL194:
 2232 00a6 424B     		ldr	r3, .L224+64
 2233 00a8 9847     		blx	r3
 2234              	.LVL195:
 2235              	.LBB38:
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 2236              		.loc 1 711 0
 2237 00aa 424B     		ldr	r3, .L224+68
 2238 00ac DFF83881 		ldr	r8, .L224+120
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 2239              		.loc 1 714 0
 2240 00b0 80B2     		uxth	r0, r0
 2241 00b2 C701     		lsls	r7, r0, #7
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 2242              		.loc 1 711 0
 2243 00b4 0BF00700 		and	r0, fp, #7
 2244 00b8 9847     		blx	r3
 2245              	.LVL196:
 2246 00ba C847     		blx	r9
 2247              	.LVL197:
 2248 00bc 0022     		movs	r2, #0
 2249 00be 4FF07F53 		mov	r3, #1069547520
 2250 00c2 C047     		blx	r8
 2251              	.LVL198:
 2252 00c4 3C4B     		ldr	r3, .L224+72
 2253 00c6 8046     		mov	r8, r0
 2254 00c8 CBF3C300 		ubfx	r0, fp, #3, #4
 2255 00cc 8946     		mov	r9, r1
 2256 00ce 9847     		blx	r3
 2257              	.LVL199:
 2258 00d0 DFF818C1 		ldr	ip, .L224+124
 2259 00d4 0246     		mov	r2, r0
 2260 00d6 0B46     		mov	r3, r1
 2261 00d8 4046     		mov	r0, r8
 2262 00da 4946     		mov	r1, r9
 2263 00dc E047     		blx	ip
 2264              	.LVL200:
 2265 00de 374B     		ldr	r3, .L224+76
 2266 00e0 9847     		blx	r3
 2267              	.LVL201:
 712:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Write config value */
 2268              		.loc 1 712 0
 2269 00e2 374B     		ldr	r3, .L224+80
 2270 00e4 3749     		ldr	r1, .L224+84
 2271 00e6 9847     		blx	r3
 2272              	.LVL202:
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 2273              		.loc 1 711 0
 2274 00e8 DFF80481 		ldr	r8, .L224+128
 2275 00ec 3649     		ldr	r1, .L224+88
 2276 00ee C047     		blx	r8
 2277              	.LVL203:
 2278 00f0 0146     		mov	r1, r0
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 2279              		.loc 1 710 0
 2280 00f2 0298     		ldr	r0, [sp, #8]	@ float
 2281 00f4 C047     		blx	r8
 2282              	.LVL204:
 2283 00f6 3449     		ldr	r1, .L224+88
 2284 00f8 344B     		ldr	r3, .L224+92
 2285 00fa 9847     		blx	r3
 2286              	.LVL205:
 2287 00fc 344B     		ldr	r3, .L224+96
 2288 00fe 9847     		blx	r3
 2289              	.LVL206:
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 2290              		.loc 1 715 0
 2291 0100 CDF800A0 		str	r10, [sp]
 2292 0104 0021     		movs	r1, #0
 2293 0106 2D69     		ldr	r5, [r5, #16]
 2294 0108 3246     		mov	r2, r6
 2295 010a 0223     		movs	r3, #2
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 2296              		.loc 1 714 0
 2297 010c 80B2     		uxth	r0, r0
 2298 010e 97FBF0F7 		sdiv	r7, r7, r0
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 2299              		.loc 1 715 0
 2300 0112 0A20     		movs	r0, #10
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 2301              		.loc 1 714 0
 2302 0114 8DF81770 		strb	r7, [sp, #23]
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 2303              		.loc 1 715 0
 2304 0118 A847     		blx	r5
 2305              	.LVL207:
 2306 011a 0528     		cmp	r0, #5
 2307 011c 19D1     		bne	.L214
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2308              		.loc 1 718 0
 2309 011e 039B     		ldr	r3, [sp, #12]
 2310 0120 8BB1     		cbz	r3, .L219
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 2311              		.loc 1 721 0
 2312 0122 194B     		ldr	r3, .L224+24
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8,
 2313              		.loc 1 720 0
 2314 0124 0025     		movs	r5, #0
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 2315              		.loc 1 721 0
 2316 0126 CDF800A0 		str	r10, [sp]
 2317 012a 0A20     		movs	r0, #10
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8,
 2318              		.loc 1 720 0
 2319 012c 8DF81750 		strb	r5, [sp, #23]
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 2320              		.loc 1 721 0
 2321 0130 2946     		mov	r1, r5
 2322 0132 1F69     		ldr	r7, [r3, #16]
 2323 0134 3246     		mov	r2, r6
 2324 0136 0123     		movs	r3, #1
 2325 0138 B847     		blx	r7
 2326              	.LVL208:
 2327 013a 0528     		cmp	r0, #5
 2328 013c 04D1     		bne	.L215
 2329              	.LVL209:
 725:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				}
 2330              		.loc 1 725 0
 2331 013e 1E20     		movs	r0, #30
 2332 0140 0821     		movs	r1, #8
 2333 0142 244A     		ldr	r2, .L224+100
 2334 0144 A047     		blx	r4
 2335              	.LVL210:
 2336              	.L219:
 729:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_INFO, "Write POT DONE");
 2337              		.loc 1 729 0
 2338 0146 0125     		movs	r5, #1
 2339              	.L215:
 2340              	.LVL211:
 730:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 2341              		.loc 1 730 0
 2342 0148 1E20     		movs	r0, #30
 2343 014a 0821     		movs	r1, #8
 2344 014c 224A     		ldr	r2, .L224+104
 2345 014e A047     		blx	r4
 2346              	.LVL212:
 2347 0150 0AE0     		b	.L210
 2348              	.LVL213:
 2349              	.L214:
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 2350              		.loc 1 735 0
 2351 0152 1E20     		movs	r0, #30
 2352 0154 0221     		movs	r1, #2
 2353 0156 214A     		ldr	r2, .L224+108
 2354 0158 A047     		blx	r4
 2355              	.LVL214:
 2356              	.L223:
 734:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Write I2C failed");
 2357              		.loc 1 734 0
 2358 015a 0025     		movs	r5, #0
 2359 015c 04E0     		b	.L210
 2360              	.LVL215:
 2361              	.L212:
 2362              	.LBE38:
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2363              		.loc 1 741 0
 2364 015e 1E20     		movs	r0, #30
 2365 0160 0221     		movs	r1, #2
 2366 0162 1F4A     		ldr	r2, .L224+112
 740:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "APOT1: reading timed out");
 2367              		.loc 1 740 0
 2368 0164 4D46     		mov	r5, r9
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2369              		.loc 1 741 0
 2370 0166 A047     		blx	r4
 2371              	.LVL216:
 2372              	.L210:
 744:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2373              		.loc 1 744 0
 2374 0168 2846     		mov	r0, r5
 2375 016a 07B0     		add	sp, sp, #28
 2376              	.LCFI21:
 2377              		.cfi_def_cfa_offset 36
 2378              		@ sp needed
 2379 016c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2380              	.L225:
 2381              		.align	3
 2382              	.L224:
 2383 0170 62105839 		.word	962072674
 2384 0174 B4C8F43F 		.word	1073006772
 2385 0178 00000000 		.word	0
 2386 017c F8160541 		.word	1090852600
 2387 0180 00000000 		.word	0
 2388 0184 000CB740 		.word	1085737984
 2389 0188 00000000 		.word	i2cm
 2390 018c 0000F041 		.word	1106247680
 2391 0190 00000000 		.word	__aeabi_fcmpgt
 2392 0194 00000000 		.word	slogf
 2393 0198 00004041 		.word	1094713344
 2394 019c 00000000 		.word	__aeabi_fcmplt
 2395 01a0 00000000 		.word	__aeabi_f2d
 2396 01a4 92000000 		.word	.LC6
 2397 01a8 000080BF 		.word	-1082130432
 2398 01ac 00000000 		.word	__aeabi_dsub
 2399 01b0 00000000 		.word	__aeabi_d2uiz
 2400 01b4 00000000 		.word	__aeabi_ui2f
 2401 01b8 00000000 		.word	__aeabi_i2d
 2402 01bc 00000000 		.word	__aeabi_d2f
 2403 01c0 00000000 		.word	__aeabi_fdiv
 2404 01c4 0000C842 		.word	1120403456
 2405 01c8 00401C46 		.word	1176256512
 2406 01cc 00000000 		.word	__aeabi_fadd
 2407 01d0 00000000 		.word	__aeabi_f2uiz
 2408 01d4 A3000000 		.word	.LC7
 2409 01d8 B9000000 		.word	.LC8
 2410 01dc C8000000 		.word	.LC9
 2411 01e0 D9000000 		.word	.LC10
 2412 01e4 00000000 		.word	__aeabi_ddiv
 2413 01e8 00000000 		.word	__aeabi_dmul
 2414 01ec 00000000 		.word	__aeabi_dadd
 2415 01f0 00000000 		.word	__aeabi_fmul
 2416              		.cfi_endproc
 2417              	.LFE20:
 2419 01f4 AFF30080 		.section	.text.cam_move_to_distance,"ax",%progbits
 2420              		.align	1
 2421              		.global	cam_move_to_distance
 2422              		.thumb
 2423              		.thumb_func
 2425              	cam_move_to_distance:
 2426              	.LFB21:
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2427              		.loc 1 752 0
 2428              		.cfi_startproc
 2429              		@ args = 4, pretend = 0, frame = 16
 2430              		@ frame_needed = 0, uses_anonymous_args = 0
 2431              	.LVL217:
 2432 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2433              	.LCFI22:
 2434              		.cfi_def_cfa_offset 36
 2435              		.cfi_offset 4, -36
 2436              		.cfi_offset 5, -32
 2437              		.cfi_offset 6, -28
 2438              		.cfi_offset 7, -24
 2439              		.cfi_offset 8, -20
 2440              		.cfi_offset 9, -16
 2441              		.cfi_offset 10, -12
 2442              		.cfi_offset 11, -8
 2443              		.cfi_offset 14, -4
 2444 0004 85B0     		sub	sp, sp, #20
 2445              	.LCFI23:
 2446              		.cfi_def_cfa_offset 56
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2447              		.loc 1 752 0
 2448 0006 9946     		mov	r9, r3
 2449 0008 9246     		mov	r10, r2
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2450              		.loc 1 754 0
 2451 000a BDF83830 		ldrh	r3, [sp, #56]
 2452              	.LVL218:
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2453              		.loc 1 752 0
 2454 000e 0191     		str	r1, [sp, #4]
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2455              		.loc 1 754 0
 2456 0010 ADF80830 		strh	r3, [sp, #8]	@ movhi
 756:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2457              		.loc 1 756 0
 2458 0014 0546     		mov	r5, r0
 2459 0016 0028     		cmp	r0, #0
 2460 0018 75D0     		beq	.L231
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2461              		.loc 1 760 0
 2462 001a 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2463 001e 03F0F003 		and	r3, r3, #240
 2464 0022 A02B     		cmp	r3, #160
 2465 0024 4368     		ldr	r3, [r0, #4]
 2466              	.LBB39:
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2467              		.loc 1 764 0
 2468 0026 4FF00001 		mov	r1, #0
 2469              	.LVL219:
 2470 002a DFF8F480 		ldr	r8, .L234+16
 2471 002e 4FF0FF32 		mov	r2, #-1
 2472              	.LVL220:
 2473 0032 374E     		ldr	r6, .L234
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2474              		.loc 1 762 0
 2475 0034 1F68     		ldr	r7, [r3]
 2476              	.LVL221:
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2477              		.loc 1 764 0
 2478 0036 0B46     		mov	r3, r1
 2479 0038 F868     		ldr	r0, [r7, #12]
 2480              	.LVL222:
 2481              	.LBE39:
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2482              		.loc 1 760 0
 2483 003a 2BD1     		bne	.L228
 2484              	.LBB40:
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2485              		.loc 1 764 0
 2486 003c C047     		blx	r8
 2487              	.LVL223:
 765:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2488              		.loc 1 765 0
 2489 003e 3C7E     		ldrb	r4, [r7, #24]	@ zero_extendqisi2
 2490 0040 FCB9     		cbnz	r4, .L229
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2491              		.loc 1 768 0
 2492 0042 0123     		movs	r3, #1
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2493              		.loc 1 770 0
 2494 0044 2146     		mov	r1, r4
 2495 0046 2246     		mov	r2, r4
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2496              		.loc 1 768 0
 2497 0048 3B76     		strb	r3, [r7, #24]
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2498              		.loc 1 770 0
 2499 004a 2346     		mov	r3, r4
 2500 004c F868     		ldr	r0, [r7, #12]
 2501 004e B047     		blx	r6
 2502              	.LVL224:
 772:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 2503              		.loc 1 772 0
 2504 0050 6B68     		ldr	r3, [r5, #4]
 2505 0052 2146     		mov	r1, r4
 2506 0054 4FF0FF32 		mov	r2, #-1
 2507 0058 D868     		ldr	r0, [r3, #12]
 2508 005a 2346     		mov	r3, r4
 2509 005c C047     		blx	r8
 2510              	.LVL225:
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2511              		.loc 1 773 0
 2512 005e 6B68     		ldr	r3, [r5, #4]
 2513 0060 0198     		ldr	r0, [sp, #4]	@ unaligned
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2514              		.loc 1 776 0
 2515 0062 2146     		mov	r1, r4
 2516 0064 2246     		mov	r2, r4
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2517              		.loc 1 773 0
 2518 0066 9B68     		ldr	r3, [r3, #8]
 2519 0068 C3F80200 		str	r0, [r3, #2]	@ unaligned
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2520              		.loc 1 776 0
 2521 006c 6B68     		ldr	r3, [r5, #4]
 2522 006e D868     		ldr	r0, [r3, #12]
 2523 0070 2346     		mov	r3, r4
 2524 0072 B047     		blx	r6
 2525              	.LVL226:
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2526              		.loc 1 780 0
 2527 0074 8023     		movs	r3, #128
 778:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 2528              		.loc 1 778 0
 2529 0076 C7F810A0 		str	r10, [r7, #16]
 779:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_DISTANCE;
 2530              		.loc 1 779 0
 2531 007a C7F81490 		str	r9, [r7, #20]
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2532              		.loc 1 780 0
 2533 007e 0393     		str	r3, [sp, #12]
 2534 0080 2CE0     		b	.L232
 2535              	.L229:
 786:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 2536              		.loc 1 786 0
 2537 0082 0021     		movs	r1, #0
 2538 0084 0A46     		mov	r2, r1
 2539 0086 0B46     		mov	r3, r1
 2540 0088 F868     		ldr	r0, [r7, #12]
 2541 008a B047     		blx	r6
 2542              	.LVL227:
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2543              		.loc 1 787 0
 2544 008c 1E20     		movs	r0, #30
 2545 008e 0221     		movs	r1, #2
 2546 0090 204A     		ldr	r2, .L234+4
 2547 0092 32E0     		b	.L233
 2548              	.L228:
 2549              	.LBE40:
 2550              	.LBB41:
 795:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 2551              		.loc 1 795 0
 2552 0094 C047     		blx	r8
 2553              	.LVL228:
 796:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2554              		.loc 1 796 0
 2555 0096 3C7F     		ldrb	r4, [r7, #28]	@ zero_extendqisi2
 2556 0098 3CBB     		cbnz	r4, .L230
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2557              		.loc 1 799 0
 2558 009a 4FF0010B 		mov	fp, #1
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2559              		.loc 1 801 0
 2560 009e 2146     		mov	r1, r4
 2561 00a0 2246     		mov	r2, r4
 2562 00a2 2346     		mov	r3, r4
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2563              		.loc 1 799 0
 2564 00a4 87F81CB0 		strb	fp, [r7, #28]
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2565              		.loc 1 801 0
 2566 00a8 F868     		ldr	r0, [r7, #12]
 2567 00aa B047     		blx	r6
 2568              	.LVL229:
 803:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 2569              		.loc 1 803 0
 2570 00ac 6B68     		ldr	r3, [r5, #4]
 2571 00ae 2146     		mov	r1, r4
 2572 00b0 4FF0FF32 		mov	r2, #-1
 2573 00b4 D868     		ldr	r0, [r3, #12]
 2574 00b6 2346     		mov	r3, r4
 2575 00b8 C047     		blx	r8
 2576              	.LVL230:
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2577              		.loc 1 804 0
 2578 00ba 6B68     		ldr	r3, [r5, #4]
 2579 00bc 0198     		ldr	r0, [sp, #4]	@ unaligned
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2580              		.loc 1 807 0
 2581 00be 2146     		mov	r1, r4
 2582 00c0 2246     		mov	r2, r4
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2583              		.loc 1 804 0
 2584 00c2 9B68     		ldr	r3, [r3, #8]
 2585 00c4 C3F80200 		str	r0, [r3, #2]	@ unaligned
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2586              		.loc 1 807 0
 2587 00c8 6B68     		ldr	r3, [r5, #4]
 2588 00ca D868     		ldr	r0, [r3, #12]
 2589 00cc 2346     		mov	r3, r4
 2590 00ce B047     		blx	r6
 2591              	.LVL231:
 809:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 2592              		.loc 1 809 0
 2593 00d0 C7F814A0 		str	r10, [r7, #20]
 810:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2594              		.loc 1 810 0
 2595 00d4 C7F81890 		str	r9, [r7, #24]
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2596              		.loc 1 812 0
 2597 00d8 CDF80CB0 		str	fp, [sp, #12]
 2598              	.L232:
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2599              		.loc 1 813 0
 2600 00dc 686B     		ldr	r0, [r5, #52]
 2601 00de 02A9     		add	r1, sp, #8
 2602 00e0 0A22     		movs	r2, #10
 2603 00e2 2346     		mov	r3, r4
 2604 00e4 B047     		blx	r6
 2605              	.LVL232:
 2606              	.LBE41:
 824:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2607              		.loc 1 824 0
 2608 00e6 2046     		mov	r0, r4
 2609              	.LBB42:
 2610 00e8 0EE0     		b	.L227
 2611              	.L230:
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 2612              		.loc 1 818 0
 2613 00ea 0021     		movs	r1, #0
 2614 00ec 0A46     		mov	r2, r1
 2615 00ee 0B46     		mov	r3, r1
 2616 00f0 F868     		ldr	r0, [r7, #12]
 2617 00f2 B047     		blx	r6
 2618              	.LVL233:
 819:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2619              		.loc 1 819 0
 2620 00f4 084A     		ldr	r2, .L234+8
 2621 00f6 1E20     		movs	r0, #30
 2622 00f8 0221     		movs	r1, #2
 2623              	.L233:
 2624 00fa 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 2625 00fe 074C     		ldr	r4, .L234+12
 2626 0100 A047     		blx	r4
 2627              	.LVL234:
 820:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2628              		.loc 1 820 0
 2629 0102 0220     		movs	r0, #2
 2630 0104 00E0     		b	.L227
 2631              	.LVL235:
 2632              	.L231:
 2633              	.LBE42:
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2634              		.loc 1 757 0
 2635 0106 0120     		movs	r0, #1
 2636              	.LVL236:
 2637              	.L227:
 826:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2638              		.loc 1 826 0
 2639 0108 05B0     		add	sp, sp, #20
 2640              	.LCFI24:
 2641              		.cfi_def_cfa_offset 36
 2642              		@ sp needed
 2643 010a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2644              	.LVL237:
 2645              	.L235:
 2646 010e 00BF     		.align	2
 2647              	.L234:
 2648 0110 00000000 		.word	xQueueGenericSend
 2649 0114 F2000000 		.word	.LC11
 2650 0118 09010000 		.word	.LC12
 2651 011c 00000000 		.word	slogf
 2652 0120 00000000 		.word	xQueueGenericReceive
 2653              		.cfi_endproc
 2654              	.LFE21:
 2656              		.section	.text.cam_move_lens_to_position,"ax",%progbits
 2657              		.align	1
 2658              		.global	cam_move_lens_to_position
 2659              		.thumb
 2660              		.thumb_func
 2662              	cam_move_lens_to_position:
 2663              	.LFB22:
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2664              		.loc 1 835 0
 2665              		.cfi_startproc
 2666              		@ args = 8, pretend = 0, frame = 16
 2667              		@ frame_needed = 0, uses_anonymous_args = 0
 2668              	.LVL238:
 2669 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2670              	.LCFI25:
 2671              		.cfi_def_cfa_offset 36
 2672              		.cfi_offset 4, -36
 2673              		.cfi_offset 5, -32
 2674              		.cfi_offset 6, -28
 2675              		.cfi_offset 7, -24
 2676              		.cfi_offset 8, -20
 2677              		.cfi_offset 9, -16
 2678              		.cfi_offset 10, -12
 2679              		.cfi_offset 11, -8
 2680              		.cfi_offset 14, -4
 2681 0004 85B0     		sub	sp, sp, #20
 2682              	.LCFI26:
 2683              		.cfi_def_cfa_offset 56
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2684              		.loc 1 835 0
 2685 0006 9946     		mov	r9, r3
 2686 0008 9246     		mov	r10, r2
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2687              		.loc 1 837 0
 2688 000a BDF83C30 		ldrh	r3, [sp, #60]
 2689              	.LVL239:
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2690              		.loc 1 835 0
 2691 000e ADF80610 		strh	r1, [sp, #6]	@ movhi
 2692 0012 DDF83880 		ldr	r8, [sp, #56]
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2693              		.loc 1 839 0
 2694 0016 0546     		mov	r5, r0
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2695              		.loc 1 837 0
 2696 0018 ADF80830 		strh	r3, [sp, #8]	@ movhi
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2697              		.loc 1 839 0
 2698 001c 0028     		cmp	r0, #0
 2699 001e 00F08680 		beq	.L241
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2700              		.loc 1 843 0
 2701 0022 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2702 0026 03F0F003 		and	r3, r3, #240
 2703 002a A02B     		cmp	r3, #160
 2704 002c 4368     		ldr	r3, [r0, #4]
 2705              	.LBB43:
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2706              		.loc 1 847 0
 2707 002e 4FF00001 		mov	r1, #0
 2708              	.LVL240:
 2709 0032 414F     		ldr	r7, .L244
 2710 0034 4FF0FF32 		mov	r2, #-1
 2711              	.LVL241:
 2712 0038 404E     		ldr	r6, .L244+4
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2713              		.loc 1 845 0
 2714 003a D3F800B0 		ldr	fp, [r3]
 2715              	.LVL242:
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2716              		.loc 1 847 0
 2717 003e 0B46     		mov	r3, r1
 2718 0040 DBF80C00 		ldr	r0, [fp, #12]
 2719              	.LVL243:
 2720              	.LBE43:
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2721              		.loc 1 843 0
 2722 0044 34D1     		bne	.L238
 2723              	.LBB44:
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2724              		.loc 1 847 0
 2725 0046 B847     		blx	r7
 2726              	.LVL244:
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2727              		.loc 1 848 0
 2728 0048 9BF81840 		ldrb	r4, [fp, #24]	@ zero_extendqisi2
 2729 004c 34BB     		cbnz	r4, .L239
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2730              		.loc 1 851 0
 2731 004e 0123     		movs	r3, #1
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2732              		.loc 1 853 0
 2733 0050 2146     		mov	r1, r4
 2734 0052 2246     		mov	r2, r4
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2735              		.loc 1 851 0
 2736 0054 8BF81830 		strb	r3, [fp, #24]
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2737              		.loc 1 853 0
 2738 0058 2346     		mov	r3, r4
 2739 005a DBF80C00 		ldr	r0, [fp, #12]
 2740 005e B047     		blx	r6
 2741              	.LVL245:
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 2742              		.loc 1 855 0
 2743 0060 6B68     		ldr	r3, [r5, #4]
 2744 0062 2146     		mov	r1, r4
 2745 0064 4FF0FF32 		mov	r2, #-1
 2746 0068 D868     		ldr	r0, [r3, #12]
 2747 006a 2346     		mov	r3, r4
 2748 006c B847     		blx	r7
 2749              	.LVL246:
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2750              		.loc 1 856 0
 2751 006e 6B68     		ldr	r3, [r5, #4]
 2752 0070 BDF80620 		ldrh	r2, [sp, #6]	@ unaligned
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2753              		.loc 1 860 0
 2754 0074 2146     		mov	r1, r4
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2755              		.loc 1 856 0
 2756 0076 9B68     		ldr	r3, [r3, #8]
 2757 0078 DA80     		strh	r2, [r3, #6]	@ unaligned
 858:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 2758              		.loc 1 858 0
 2759 007a 6B68     		ldr	r3, [r5, #4]
 2760 007c 9A68     		ldr	r2, [r3, #8]
 2761 007e A2F808A0 		strh	r10, [r2, #8]	@ movhi
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2762              		.loc 1 860 0
 2763 0082 2246     		mov	r2, r4
 2764 0084 D868     		ldr	r0, [r3, #12]
 2765 0086 2346     		mov	r3, r4
 2766 0088 B047     		blx	r6
 2767              	.LVL247:
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2768              		.loc 1 864 0
 2769 008a 4FF48073 		mov	r3, #256
 862:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 2770              		.loc 1 862 0
 2771 008e CBF81090 		str	r9, [fp, #16]
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_POSITION;
 2772              		.loc 1 863 0
 2773 0092 CBF81480 		str	r8, [fp, #20]
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2774              		.loc 1 864 0
 2775 0096 0393     		str	r3, [sp, #12]
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2776              		.loc 1 865 0
 2777 0098 686B     		ldr	r0, [r5, #52]
 2778 009a 33E0     		b	.L242
 2779              	.L239:
 870:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 2780              		.loc 1 870 0
 2781 009c 0021     		movs	r1, #0
 2782 009e 0A46     		mov	r2, r1
 2783 00a0 0B46     		mov	r3, r1
 2784 00a2 DBF80C00 		ldr	r0, [fp, #12]
 2785 00a6 B047     		blx	r6
 2786              	.LVL248:
 871:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2787              		.loc 1 871 0
 2788 00a8 1E20     		movs	r0, #30
 2789 00aa 0221     		movs	r1, #2
 2790 00ac 244A     		ldr	r2, .L244+8
 2791 00ae 38E0     		b	.L243
 2792              	.L238:
 2793              	.LBE44:
 2794              	.LBB45:
 879:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 2795              		.loc 1 879 0
 2796 00b0 B847     		blx	r7
 2797              	.LVL249:
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2798              		.loc 1 880 0
 2799 00b2 9BF81C40 		ldrb	r4, [fp, #28]	@ zero_extendqisi2
 2800 00b6 5CBB     		cbnz	r4, .L240
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2801              		.loc 1 883 0
 2802 00b8 0123     		movs	r3, #1
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2803              		.loc 1 885 0
 2804 00ba 2146     		mov	r1, r4
 2805 00bc 2246     		mov	r2, r4
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2806              		.loc 1 883 0
 2807 00be 8BF81C30 		strb	r3, [fp, #28]
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2808              		.loc 1 885 0
 2809 00c2 2346     		mov	r3, r4
 2810 00c4 DBF80C00 		ldr	r0, [fp, #12]
 2811 00c8 B047     		blx	r6
 2812              	.LVL250:
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 2813              		.loc 1 887 0
 2814 00ca 6B68     		ldr	r3, [r5, #4]
 2815 00cc 2146     		mov	r1, r4
 2816 00ce 4FF0FF32 		mov	r2, #-1
 2817 00d2 D868     		ldr	r0, [r3, #12]
 2818 00d4 2346     		mov	r3, r4
 2819 00d6 B847     		blx	r7
 2820              	.LVL251:
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2821              		.loc 1 888 0
 2822 00d8 6B68     		ldr	r3, [r5, #4]
 2823 00da BDF80620 		ldrh	r2, [sp, #6]	@ unaligned
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2824              		.loc 1 892 0
 2825 00de 2146     		mov	r1, r4
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2826              		.loc 1 888 0
 2827 00e0 9B68     		ldr	r3, [r3, #8]
 2828 00e2 DA80     		strh	r2, [r3, #6]	@ unaligned
 890:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 2829              		.loc 1 890 0
 2830 00e4 6B68     		ldr	r3, [r5, #4]
 2831 00e6 9A68     		ldr	r2, [r3, #8]
 2832 00e8 A2F808A0 		strh	r10, [r2, #8]	@ movhi
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2833              		.loc 1 892 0
 2834 00ec 2246     		mov	r2, r4
 2835 00ee D868     		ldr	r0, [r3, #12]
 2836 00f0 2346     		mov	r3, r4
 2837 00f2 B047     		blx	r6
 2838              	.LVL252:
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2839              		.loc 1 898 0
 2840 00f4 DBF81000 		ldr	r0, [fp, #16]
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(plens->queue, &p_cmd, (TickType_t)10);
 2841              		.loc 1 897 0
 2842 00f8 0223     		movs	r3, #2
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 2843              		.loc 1 894 0
 2844 00fa CBF81490 		str	r9, [fp, #20]
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2845              		.loc 1 895 0
 2846 00fe CBF81880 		str	r8, [fp, #24]
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(plens->queue, &p_cmd, (TickType_t)10);
 2847              		.loc 1 897 0
 2848 0102 0393     		str	r3, [sp, #12]
 2849              	.L242:
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2850              		.loc 1 898 0
 2851 0104 02A9     		add	r1, sp, #8
 2852 0106 0A22     		movs	r2, #10
 2853 0108 2346     		mov	r3, r4
 2854 010a B047     		blx	r6
 2855              	.LVL253:
 2856              	.LBE45:
 909:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2857              		.loc 1 909 0
 2858 010c 2046     		mov	r0, r4
 2859              	.LBB46:
 2860 010e 0FE0     		b	.L237
 2861              	.L240:
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 2862              		.loc 1 903 0
 2863 0110 0021     		movs	r1, #0
 2864 0112 0A46     		mov	r2, r1
 2865 0114 0B46     		mov	r3, r1
 2866 0116 DBF80C00 		ldr	r0, [fp, #12]
 2867 011a B047     		blx	r6
 2868              	.LVL254:
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2869              		.loc 1 904 0
 2870 011c 094A     		ldr	r2, .L244+12
 2871 011e 1E20     		movs	r0, #30
 2872 0120 0221     		movs	r1, #2
 2873              	.L243:
 2874 0122 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 2875 0126 084C     		ldr	r4, .L244+16
 2876 0128 A047     		blx	r4
 2877              	.LVL255:
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2878              		.loc 1 905 0
 2879 012a 0220     		movs	r0, #2
 2880 012c 00E0     		b	.L237
 2881              	.LVL256:
 2882              	.L241:
 2883              	.LBE46:
 840:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2884              		.loc 1 840 0
 2885 012e 0120     		movs	r0, #1
 2886              	.LVL257:
 2887              	.L237:
 911:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2888              		.loc 1 911 0
 2889 0130 05B0     		add	sp, sp, #20
 2890              	.LCFI27:
 2891              		.cfi_def_cfa_offset 36
 2892              		@ sp needed
 2893 0132 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2894              	.LVL258:
 2895              	.L245:
 2896 0136 00BF     		.align	2
 2897              	.L244:
 2898 0138 00000000 		.word	xQueueGenericReceive
 2899 013c 00000000 		.word	xQueueGenericSend
 2900 0140 F2000000 		.word	.LC11
 2901 0144 09010000 		.word	.LC12
 2902 0148 00000000 		.word	slogf
 2903              		.cfi_endproc
 2904              	.LFE22:
 2906              		.section	.text.cam_move_mirr_to_position,"ax",%progbits
 2907              		.align	1
 2908              		.global	cam_move_mirr_to_position
 2909              		.thumb
 2910              		.thumb_func
 2912              	cam_move_mirr_to_position:
 2913              	.LFB23:
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2914              		.loc 1 919 0
 2915              		.cfi_startproc
 2916              		@ args = 4, pretend = 0, frame = 16
 2917              		@ frame_needed = 0, uses_anonymous_args = 0
 2918              	.LVL259:
 2919 0000 2DE9FF47 		push	{r0, r1, r2, r3, r4, r5, r6, r7, r8, r9, r10, lr}
 2920              	.LCFI28:
 2921              		.cfi_def_cfa_offset 48
 2922              		.cfi_offset 4, -32
 2923              		.cfi_offset 5, -28
 2924              		.cfi_offset 6, -24
 2925              		.cfi_offset 7, -20
 2926              		.cfi_offset 8, -16
 2927              		.cfi_offset 9, -12
 2928              		.cfi_offset 10, -8
 2929              		.cfi_offset 14, -4
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2930              		.loc 1 919 0
 2931 0004 9846     		mov	r8, r3
 2932 0006 9146     		mov	r9, r2
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2933              		.loc 1 921 0
 2934 0008 BDF83030 		ldrh	r3, [sp, #48]
 2935              	.LVL260:
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2936              		.loc 1 919 0
 2937 000c ADF80610 		strh	r1, [sp, #6]	@ movhi
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2938              		.loc 1 921 0
 2939 0010 ADF80830 		strh	r3, [sp, #8]	@ movhi
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2940              		.loc 1 923 0
 2941 0014 0646     		mov	r6, r0
 2942 0016 0028     		cmp	r0, #0
 2943 0018 46D0     		beq	.L250
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2944              		.loc 1 923 0 is_stmt 0 discriminator 1
 2945 001a 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2946 001e 03F0F003 		and	r3, r3, #240
 2947 0022 A02B     		cmp	r3, #160
 2948 0024 40D0     		beq	.L250
 2949              	.LBB47:
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 2950              		.loc 1 927 0 is_stmt 1
 2951 0026 4368     		ldr	r3, [r0, #4]
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 2952              		.loc 1 929 0
 2953 0028 0021     		movs	r1, #0
 2954              	.LVL261:
 2955 002a 4FF0FF32 		mov	r2, #-1
 2956              	.LVL262:
 2957 002e DFF88CA0 		ldr	r10, .L251+12
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 2958              		.loc 1 927 0
 2959 0032 5D68     		ldr	r5, [r3, #4]
 2960              	.LVL263:
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 2961              		.loc 1 929 0
 2962 0034 0B46     		mov	r3, r1
 2963 0036 1E4F     		ldr	r7, .L251
 2964 0038 E868     		ldr	r0, [r5, #12]
 2965              	.LVL264:
 2966 003a D047     		blx	r10
 2967              	.LVL265:
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2968              		.loc 1 930 0
 2969 003c 2C7F     		ldrb	r4, [r5, #28]	@ zero_extendqisi2
 2970 003e 2CBB     		cbnz	r4, .L248
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 2971              		.loc 1 933 0
 2972 0040 0123     		movs	r3, #1
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2973              		.loc 1 935 0
 2974 0042 2146     		mov	r1, r4
 2975 0044 2246     		mov	r2, r4
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 2976              		.loc 1 933 0
 2977 0046 2B77     		strb	r3, [r5, #28]
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2978              		.loc 1 935 0
 2979 0048 2346     		mov	r3, r4
 2980 004a E868     		ldr	r0, [r5, #12]
 2981 004c B847     		blx	r7
 2982              	.LVL266:
 937:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_position,
 2983              		.loc 1 937 0
 2984 004e 7368     		ldr	r3, [r6, #4]
 2985 0050 2146     		mov	r1, r4
 2986 0052 4FF0FF32 		mov	r2, #-1
 2987 0056 D868     		ldr	r0, [r3, #12]
 2988 0058 2346     		mov	r3, r4
 2989 005a D047     		blx	r10
 2990              	.LVL267:
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					&position, sizeof(uint16_t));
 2991              		.loc 1 938 0
 2992 005c 7368     		ldr	r3, [r6, #4]
 2993 005e BDF80620 		ldrh	r2, [sp, #6]	@ unaligned
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2994              		.loc 1 941 0
 2995 0062 2146     		mov	r1, r4
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					&position, sizeof(uint16_t));
 2996              		.loc 1 938 0
 2997 0064 9B68     		ldr	r3, [r3, #8]
 2998 0066 5A81     		strh	r2, [r3, #10]	@ unaligned
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2999              		.loc 1 941 0
 3000 0068 2246     		mov	r2, r4
 3001 006a 7368     		ldr	r3, [r6, #4]
 3002 006c D868     		ldr	r0, [r3, #12]
 3003 006e 2346     		mov	r3, r4
 3004 0070 B847     		blx	r7
 3005              	.LVL268:
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pmirr->queue, &p_cmd, (TickType_t)10);
 3006              		.loc 1 946 0
 3007 0072 0423     		movs	r3, #4
 943:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
 3008              		.loc 1 943 0
 3009 0074 C5F81490 		str	r9, [r5, #20]
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3010              		.loc 1 947 0
 3011 0078 02A9     		add	r1, sp, #8
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pmirr->queue, &p_cmd, (TickType_t)10);
 3012              		.loc 1 946 0
 3013 007a 0393     		str	r3, [sp, #12]
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3014              		.loc 1 947 0
 3015 007c 0A22     		movs	r2, #10
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3016              		.loc 1 944 0
 3017 007e C5F81880 		str	r8, [r5, #24]
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3018              		.loc 1 947 0
 3019 0082 2346     		mov	r3, r4
 3020 0084 2869     		ldr	r0, [r5, #16]
 3021 0086 B847     		blx	r7
 3022              	.LVL269:
 957:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 3023              		.loc 1 957 0
 3024 0088 2046     		mov	r0, r4
 3025 008a 0EE0     		b	.L247
 3026              	.L248:
 952:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
 3027              		.loc 1 952 0
 3028 008c 0021     		movs	r1, #0
 3029 008e 0A46     		mov	r2, r1
 3030 0090 0B46     		mov	r3, r1
 3031 0092 E868     		ldr	r0, [r5, #12]
 3032 0094 B847     		blx	r7
 3033              	.LVL270:
 953:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
 3034              		.loc 1 953 0
 3035 0096 074C     		ldr	r4, .L251+4
 3036 0098 1E20     		movs	r0, #30
 3037 009a 96F82930 		ldrb	r3, [r6, #41]	@ zero_extendqisi2
 3038 009e 0221     		movs	r1, #2
 3039 00a0 054A     		ldr	r2, .L251+8
 3040 00a2 A047     		blx	r4
 3041              	.LVL271:
 954:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3042              		.loc 1 954 0
 3043 00a4 0220     		movs	r0, #2
 3044 00a6 00E0     		b	.L247
 3045              	.LVL272:
 3046              	.L250:
 3047              	.LBE47:
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 3048              		.loc 1 924 0
 3049 00a8 0120     		movs	r0, #1
 3050              	.LVL273:
 3051              	.L247:
 959:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3052              		.loc 1 959 0
 3053 00aa 04B0     		add	sp, sp, #16
 3054              	.LCFI29:
 3055              		.cfi_def_cfa_offset 32
 3056              		@ sp needed
 3057 00ac BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3058              	.LVL274:
 3059              	.L252:
 3060              		.align	2
 3061              	.L251:
 3062 00b0 00000000 		.word	xQueueGenericSend
 3063 00b4 00000000 		.word	slogf
 3064 00b8 21010000 		.word	.LC13
 3065 00bc 00000000 		.word	xQueueGenericReceive
 3066              		.cfi_endproc
 3067              	.LFE23:
 3069              		.section	.text.cam_nudge_lens,"ax",%progbits
 3070              		.align	1
 3071              		.global	cam_nudge_lens
 3072              		.thumb
 3073              		.thumb_func
 3075              	cam_nudge_lens:
 3076              	.LFB24:
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 3077              		.loc 1 967 0
 3078              		.cfi_startproc
 3079              		@ args = 8, pretend = 0, frame = 16
 3080              		@ frame_needed = 0, uses_anonymous_args = 0
 3081              	.LVL275:
 3082 0000 2DE9FF47 		push	{r0, r1, r2, r3, r4, r5, r6, r7, r8, r9, r10, lr}
 3083              	.LCFI30:
 3084              		.cfi_def_cfa_offset 48
 3085              		.cfi_offset 4, -32
 3086              		.cfi_offset 5, -28
 3087              		.cfi_offset 6, -24
 3088              		.cfi_offset 7, -20
 3089              		.cfi_offset 8, -16
 3090              		.cfi_offset 9, -12
 3091              		.cfi_offset 10, -8
 3092              		.cfi_offset 14, -4
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 3093              		.loc 1 967 0
 3094 0004 DDF83090 		ldr	r9, [sp, #48]
 3095 0008 9A46     		mov	r10, r3
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 3096              		.loc 1 971 0
 3097 000a 0546     		mov	r5, r0
 969:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 3098              		.loc 1 969 0
 3099 000c BDF83430 		ldrh	r3, [sp, #52]
 3100              	.LVL276:
 3101 0010 ADF80830 		strh	r3, [sp, #8]	@ movhi
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 3102              		.loc 1 971 0
 3103 0014 0028     		cmp	r0, #0
 3104 0016 00F08480 		beq	.L260
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 3105              		.loc 1 971 0 is_stmt 0 discriminator 1
 3106 001a 0129     		cmp	r1, #1
 3107 001c 00F28180 		bhi	.L260
 3108              	.LBB48:
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 3109              		.loc 1 978 0 is_stmt 1
 3110 0020 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 3111 0024 03F0F003 		and	r3, r3, #240
 3112 0028 A02B     		cmp	r3, #160
 3113 002a 4368     		ldr	r3, [r0, #4]
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 3114              		.loc 1 977 0
 3115 002c 41EA0221 		orr	r1, r1, r2, lsl #8
 3116              	.LVL277:
 3117 0030 DFF80881 		ldr	r8, .L263+16
 3118              	.LBB49:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 3119              		.loc 1 982 0
 3120 0034 4FF0FF32 		mov	r2, #-1
 3121              	.LVL278:
 3122              	.LBE49:
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 3123              		.loc 1 977 0
 3124 0038 0191     		str	r1, [sp, #4]
 3125              	.LBB50:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 3126              		.loc 1 982 0
 3127 003a 4FF00001 		mov	r1, #0
 980:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 3128              		.loc 1 980 0
 3129 003e 1F68     		ldr	r7, [r3]
 3130              	.LVL279:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 3131              		.loc 1 982 0
 3132 0040 0B46     		mov	r3, r1
 3133 0042 3A4E     		ldr	r6, .L263
 3134 0044 F868     		ldr	r0, [r7, #12]
 3135              	.LVL280:
 3136              	.LBE50:
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 3137              		.loc 1 978 0
 3138 0046 31D1     		bne	.L255
 3139              	.LBB51:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 3140              		.loc 1 982 0
 3141 0048 C047     		blx	r8
 3142              	.LVL281:
 983:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 3143              		.loc 1 983 0
 3144 004a 3C7E     		ldrb	r4, [r7, #24]	@ zero_extendqisi2
 3145 004c 2CBB     		cbnz	r4, .L256
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 3146              		.loc 1 986 0
 3147 004e 0123     		movs	r3, #1
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 3148              		.loc 1 988 0
 3149 0050 2146     		mov	r1, r4
 3150 0052 2246     		mov	r2, r4
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 3151              		.loc 1 986 0
 3152 0054 3B76     		strb	r3, [r7, #24]
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 3153              		.loc 1 988 0
 3154 0056 2346     		mov	r3, r4
 3155 0058 F868     		ldr	r0, [r7, #12]
 3156 005a B047     		blx	r6
 3157              	.LVL282:
 990:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
 3158              		.loc 1 990 0
 3159 005c 6B68     		ldr	r3, [r5, #4]
 3160 005e 2146     		mov	r1, r4
 3161 0060 4FF0FF32 		mov	r2, #-1
 3162 0064 D868     		ldr	r0, [r3, #12]
 3163 0066 2346     		mov	r3, r4
 3164 0068 C047     		blx	r8
 3165              	.LVL283:
 991:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 3166              		.loc 1 991 0
 3167 006a 6B68     		ldr	r3, [r5, #4]
 3168 006c 9A68     		ldr	r2, [r3, #8]
 3169 006e 04AB     		add	r3, sp, #16
 3170 0070 33F80C1D 		ldrh	r1, [r3, #-12]!	@ unaligned
 3171 0074 9181     		strh	r1, [r2, #12]	@ unaligned
 3172 0076 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3173 0078 9373     		strb	r3, [r2, #14]
 993:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3174              		.loc 1 993 0
 3175 007a 6B68     		ldr	r3, [r5, #4]
 3176 007c 2146     		mov	r1, r4
 3177 007e 2246     		mov	r2, r4
 3178 0080 D868     		ldr	r0, [r3, #12]
 3179 0082 2346     		mov	r3, r4
 3180 0084 B047     		blx	r6
 3181              	.LVL284:
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 3182              		.loc 1 997 0
 3183 0086 4FF48063 		mov	r3, #1024
 995:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 3184              		.loc 1 995 0
 3185 008a C7F810A0 		str	r10, [r7, #16]
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 3186              		.loc 1 998 0
 3187 008e 02A9     		add	r1, sp, #8
 996:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_NUDGE;
 3188              		.loc 1 996 0
 3189 0090 C7F81490 		str	r9, [r7, #20]
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 3190              		.loc 1 997 0
 3191 0094 0393     		str	r3, [sp, #12]
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 3192              		.loc 1 998 0
 3193 0096 686B     		ldr	r0, [r5, #52]
 3194 0098 30E0     		b	.L262
 3195              	.L256:
1003:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 3196              		.loc 1 1003 0
 3197 009a 0021     		movs	r1, #0
 3198 009c 0A46     		mov	r2, r1
 3199 009e 0B46     		mov	r3, r1
 3200 00a0 F868     		ldr	r0, [r7, #12]
 3201 00a2 B047     		blx	r6
 3202              	.LVL285:
1004:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 3203              		.loc 1 1004 0
 3204 00a4 1E20     		movs	r0, #30
 3205 00a6 0221     		movs	r1, #2
 3206 00a8 214A     		ldr	r2, .L263+4
 3207 00aa 34E0     		b	.L261
 3208              	.L255:
 3209              	.LBE51:
 3210              	.LBB52:
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 3211              		.loc 1 1012 0
 3212 00ac C047     		blx	r8
 3213              	.LVL286:
1013:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 3214              		.loc 1 1013 0
 3215 00ae 3C7F     		ldrb	r4, [r7, #28]	@ zero_extendqisi2
 3216 00b0 4CBB     		cbnz	r4, .L258
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 3217              		.loc 1 1016 0
 3218 00b2 0123     		movs	r3, #1
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 3219              		.loc 1 1018 0
 3220 00b4 2146     		mov	r1, r4
 3221 00b6 2246     		mov	r2, r4
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 3222              		.loc 1 1016 0
 3223 00b8 3B77     		strb	r3, [r7, #28]
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 3224              		.loc 1 1018 0
 3225 00ba 2346     		mov	r3, r4
 3226 00bc F868     		ldr	r0, [r7, #12]
 3227 00be B047     		blx	r6
 3228              	.LVL287:
1020:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
 3229              		.loc 1 1020 0
 3230 00c0 6B68     		ldr	r3, [r5, #4]
 3231 00c2 2146     		mov	r1, r4
 3232 00c4 4FF0FF32 		mov	r2, #-1
 3233 00c8 D868     		ldr	r0, [r3, #12]
 3234 00ca 2346     		mov	r3, r4
 3235 00cc C047     		blx	r8
 3236              	.LVL288:
1021:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 3237              		.loc 1 1021 0
 3238 00ce 6B68     		ldr	r3, [r5, #4]
 3239 00d0 9A68     		ldr	r2, [r3, #8]
 3240 00d2 04AB     		add	r3, sp, #16
 3241 00d4 33F80C1D 		ldrh	r1, [r3, #-12]!	@ unaligned
 3242 00d8 9181     		strh	r1, [r2, #12]	@ unaligned
 3243 00da 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3244 00dc 9373     		strb	r3, [r2, #14]
1023:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3245              		.loc 1 1023 0
 3246 00de 6B68     		ldr	r3, [r5, #4]
 3247 00e0 2146     		mov	r1, r4
 3248 00e2 2246     		mov	r2, r4
 3249 00e4 D868     		ldr	r0, [r3, #12]
 3250 00e6 2346     		mov	r3, r4
 3251 00e8 B047     		blx	r6
 3252              	.LVL289:
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 3253              		.loc 1 1028 0
 3254 00ea 0823     		movs	r3, #8
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 3255              		.loc 1 1029 0
 3256 00ec 686B     		ldr	r0, [r5, #52]
 3257 00ee 0DEB0301 		add	r1, sp, r3
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 3258              		.loc 1 1025 0
 3259 00f2 C7F814A0 		str	r10, [r7, #20]
1026:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3260              		.loc 1 1026 0
 3261 00f6 C7F81890 		str	r9, [r7, #24]
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 3262              		.loc 1 1028 0
 3263 00fa 0393     		str	r3, [sp, #12]
 3264              	.L262:
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 3265              		.loc 1 1029 0
 3266 00fc 0A22     		movs	r2, #10
 3267 00fe 2346     		mov	r3, r4
 3268 0100 B047     		blx	r6
 3269              	.LVL290:
 3270              	.LBE52:
1040:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 3271              		.loc 1 1040 0
 3272 0102 2046     		mov	r0, r4
 3273              	.LBB53:
 3274 0104 0EE0     		b	.L254
 3275              	.L258:
1034:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 3276              		.loc 1 1034 0
 3277 0106 0021     		movs	r1, #0
 3278 0108 0A46     		mov	r2, r1
 3279 010a 0B46     		mov	r3, r1
 3280 010c F868     		ldr	r0, [r7, #12]
 3281 010e B047     		blx	r6
 3282              	.LVL291:
1035:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 3283              		.loc 1 1035 0
 3284 0110 084A     		ldr	r2, .L263+8
 3285 0112 1E20     		movs	r0, #30
 3286 0114 0221     		movs	r1, #2
 3287              	.L261:
 3288 0116 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 3289 011a 074C     		ldr	r4, .L263+12
 3290 011c A047     		blx	r4
 3291              	.LVL292:
1036:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 3292              		.loc 1 1036 0
 3293 011e 0220     		movs	r0, #2
 3294 0120 00E0     		b	.L254
 3295              	.LVL293:
 3296              	.L260:
 3297              	.LBE53:
 3298              	.LBE48:
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 3299              		.loc 1 974 0
 3300 0122 0120     		movs	r0, #1
 3301              	.LVL294:
 3302              	.L254:
1042:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3303              		.loc 1 1042 0 discriminator 1
 3304 0124 04B0     		add	sp, sp, #16
 3305              	.LCFI31:
 3306              		.cfi_def_cfa_offset 32
 3307              		@ sp needed
 3308 0126 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3309              	.LVL295:
 3310              	.L264:
 3311 012a 00BF     		.align	2
 3312              	.L263:
 3313 012c 00000000 		.word	xQueueGenericSend
 3314 0130 F2000000 		.word	.LC11
 3315 0134 09010000 		.word	.LC12
 3316 0138 00000000 		.word	slogf
 3317 013c 00000000 		.word	xQueueGenericReceive
 3318              		.cfi_endproc
 3319              	.LFE24:
 3321              		.section	.text.cam_nudge_mirr,"ax",%progbits
 3322              		.align	1
 3323              		.global	cam_nudge_mirr
 3324              		.thumb
 3325              		.thumb_func
 3327              	cam_nudge_mirr:
 3328              	.LFB25:
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 3329              		.loc 1 1050 0
 3330              		.cfi_startproc
 3331              		@ args = 8, pretend = 0, frame = 16
 3332              		@ frame_needed = 0, uses_anonymous_args = 0
 3333              	.LVL296:
 3334 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3335              	.LCFI32:
 3336              		.cfi_def_cfa_offset 28
 3337              		.cfi_offset 4, -28
 3338              		.cfi_offset 5, -24
 3339              		.cfi_offset 6, -20
 3340              		.cfi_offset 7, -16
 3341              		.cfi_offset 8, -12
 3342              		.cfi_offset 9, -8
 3343              		.cfi_offset 14, -4
 3344 0004 85B0     		sub	sp, sp, #20
 3345              	.LCFI33:
 3346              		.cfi_def_cfa_offset 48
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 3347              		.loc 1 1050 0
 3348 0006 9846     		mov	r8, r3
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 3349              		.loc 1 1054 0
 3350 0008 0546     		mov	r5, r0
1052:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 3351              		.loc 1 1052 0
 3352 000a BDF83430 		ldrh	r3, [sp, #52]
 3353              	.LVL297:
 3354 000e ADF80830 		strh	r3, [sp, #8]	@ movhi
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 3355              		.loc 1 1054 0
 3356 0012 0028     		cmp	r0, #0
 3357 0014 4FD0     		beq	.L271
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 3358              		.loc 1 1054 0 is_stmt 0 discriminator 1
 3359 0016 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 3360 001a 03F0F003 		and	r3, r3, #240
 3361 001e A02B     		cmp	r3, #160
 3362 0020 49D0     		beq	.L271
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 3363              		.loc 1 1054 0 discriminator 2
 3364 0022 0129     		cmp	r1, #1
 3365 0024 47D8     		bhi	.L271
 3366              	.LBB54:
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 3367              		.loc 1 1061 0 is_stmt 1
 3368 0026 4368     		ldr	r3, [r0, #4]
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
 3369              		.loc 1 1060 0
 3370 0028 41EA0221 		orr	r1, r1, r2, lsl #8
 3371              	.LVL298:
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 3372              		.loc 1 1063 0
 3373 002c DFF89C90 		ldr	r9, .L272+12
 3374 0030 4FF0FF32 		mov	r2, #-1
 3375              	.LVL299:
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
 3376              		.loc 1 1060 0
 3377 0034 0191     		str	r1, [sp, #4]
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 3378              		.loc 1 1063 0
 3379 0036 0021     		movs	r1, #0
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 3380              		.loc 1 1061 0
 3381 0038 5E68     		ldr	r6, [r3, #4]
 3382              	.LVL300:
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 3383              		.loc 1 1063 0
 3384 003a 0B46     		mov	r3, r1
 3385 003c 204F     		ldr	r7, .L272
 3386 003e F068     		ldr	r0, [r6, #12]
 3387              	.LVL301:
 3388 0040 C847     		blx	r9
 3389              	.LVL302:
1064:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 3390              		.loc 1 1064 0
 3391 0042 347F     		ldrb	r4, [r6, #28]	@ zero_extendqisi2
 3392 0044 4CBB     		cbnz	r4, .L267
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 3393              		.loc 1 1067 0
 3394 0046 0123     		movs	r3, #1
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 3395              		.loc 1 1069 0
 3396 0048 2146     		mov	r1, r4
 3397 004a 2246     		mov	r2, r4
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 3398              		.loc 1 1067 0
 3399 004c 3377     		strb	r3, [r6, #28]
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 3400              		.loc 1 1069 0
 3401 004e 2346     		mov	r3, r4
 3402 0050 F068     		ldr	r0, [r6, #12]
 3403 0052 B847     		blx	r7
 3404              	.LVL303:
1071:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_nudge, &mirr_nudge, 3);
 3405              		.loc 1 1071 0
 3406 0054 6B68     		ldr	r3, [r5, #4]
 3407 0056 2146     		mov	r1, r4
 3408 0058 4FF0FF32 		mov	r2, #-1
 3409 005c D868     		ldr	r0, [r3, #12]
 3410 005e 2346     		mov	r3, r4
 3411 0060 C847     		blx	r9
 3412              	.LVL304:
1072:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after writing data */
 3413              		.loc 1 1072 0
 3414 0062 6B68     		ldr	r3, [r5, #4]
 3415 0064 9A68     		ldr	r2, [r3, #8]
 3416 0066 04AB     		add	r3, sp, #16
 3417 0068 33F80C1D 		ldrh	r1, [r3, #-12]!	@ unaligned
 3418 006c A2F80F10 		strh	r1, [r2, #15]	@ unaligned
 3419 0070 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3420 0072 5374     		strb	r3, [r2, #17]
1074:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3421              		.loc 1 1074 0
 3422 0074 6B68     		ldr	r3, [r5, #4]
 3423 0076 2146     		mov	r1, r4
 3424 0078 2246     		mov	r2, r4
 3425 007a D868     		ldr	r0, [r3, #12]
 3426 007c 2346     		mov	r3, r4
 3427 007e B847     		blx	r7
 3428              	.LVL305:
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			p_cmd.event = OPT_EVENT_MIRROR_NUDGE;
 3429              		.loc 1 1077 0
 3430 0080 0C9B     		ldr	r3, [sp, #48]
 3431 0082 B361     		str	r3, [r6, #24]
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 3432              		.loc 1 1078 0
 3433 0084 1023     		movs	r3, #16
1076:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
 3434              		.loc 1 1076 0
 3435 0086 C6F81480 		str	r8, [r6, #20]
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3436              		.loc 1 1079 0
 3437 008a 02A9     		add	r1, sp, #8
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 3438              		.loc 1 1078 0
 3439 008c 0393     		str	r3, [sp, #12]
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3440              		.loc 1 1079 0
 3441 008e 0A22     		movs	r2, #10
 3442 0090 686B     		ldr	r0, [r5, #52]
 3443 0092 2346     		mov	r3, r4
 3444 0094 B847     		blx	r7
 3445              	.LVL306:
1089:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 3446              		.loc 1 1089 0
 3447 0096 2046     		mov	r0, r4
 3448 0098 0EE0     		b	.L266
 3449              	.L267:
1084:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
 3450              		.loc 1 1084 0
 3451 009a 0021     		movs	r1, #0
 3452 009c 0A46     		mov	r2, r1
 3453 009e 0B46     		mov	r3, r1
 3454 00a0 F068     		ldr	r0, [r6, #12]
 3455 00a2 B847     		blx	r7
 3456              	.LVL307:
1085:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
 3457              		.loc 1 1085 0
 3458 00a4 074C     		ldr	r4, .L272+4
 3459 00a6 1E20     		movs	r0, #30
 3460 00a8 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 3461 00ac 0221     		movs	r1, #2
 3462 00ae 064A     		ldr	r2, .L272+8
 3463 00b0 A047     		blx	r4
 3464              	.LVL308:
1086:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3465              		.loc 1 1086 0
 3466 00b2 0220     		movs	r0, #2
 3467 00b4 00E0     		b	.L266
 3468              	.LVL309:
 3469              	.L271:
 3470              	.LBE54:
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 3471              		.loc 1 1057 0
 3472 00b6 0120     		movs	r0, #1
 3473              	.LVL310:
 3474              	.L266:
1091:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3475              		.loc 1 1091 0 discriminator 1
 3476 00b8 05B0     		add	sp, sp, #20
 3477              	.LCFI34:
 3478              		.cfi_def_cfa_offset 28
 3479              		@ sp needed
 3480 00ba BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3481              	.LVL311:
 3482              	.L273:
 3483 00be 00BF     		.align	2
 3484              	.L272:
 3485 00c0 00000000 		.word	xQueueGenericSend
 3486 00c4 00000000 		.word	slogf
 3487 00c8 21010000 		.word	.LC13
 3488 00cc 00000000 		.word	xQueueGenericReceive
 3489              		.cfi_endproc
 3490              	.LFE25:
 3492              		.section	.text.intr_queue_push,"ax",%progbits
 3493              		.align	1
 3494              		.global	intr_queue_push
 3495              		.thumb
 3496              		.thumb_func
 3498              	intr_queue_push:
 3499              	.LFB27:
1097:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1098:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(intr_src_queue == NULL)
1099:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Queue was not created and must not be used. */
1101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** int intr_queue_push(uint16_t cmd_tid, uint16_t status)
1105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3500              		.loc 1 1105 0
 3501              		.cfi_startproc
 3502              		@ args = 0, pretend = 0, frame = 8
 3503              		@ frame_needed = 0, uses_anonymous_args = 0
 3504              	.LVL312:
 3505 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 3506              	.LCFI35:
 3507              		.cfi_def_cfa_offset 24
 3508              		.cfi_offset 4, -16
 3509              		.cfi_offset 5, -12
 3510              		.cfi_offset 6, -8
 3511              		.cfi_offset 14, -4
1106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t timeout = 50;
1107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
1108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_intr_src_st.cmd_tid = cmd_tid;
1109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_intr_src_st.status = status;
1110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Push the p_intr_src_st into intr_src_queue to be pop
1111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	whenever there is a request from host*/
1112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while (xQueueSend(intr_src_queue, &p_intr_src_st, (TickType_t)10) != pdTRUE)
 3512              		.loc 1 1112 0
 3513 0002 3225     		movs	r5, #50
1108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_intr_src_st.status = status;
 3514              		.loc 1 1108 0
 3515 0004 ADF80000 		strh	r0, [sp]	@ movhi
1109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Push the p_intr_src_st into intr_src_queue to be pop
 3516              		.loc 1 1109 0
 3517 0008 ADF80210 		strh	r1, [sp, #2]	@ movhi
 3518              	.LVL313:
 3519              	.L275:
 3520              		.loc 1 1112 0
 3521 000c 104E     		ldr	r6, .L280
 3522 000e 6946     		mov	r1, sp
 3523 0010 104C     		ldr	r4, .L280+4
 3524 0012 0A22     		movs	r2, #10
 3525 0014 0023     		movs	r3, #0
 3526 0016 3068     		ldr	r0, [r6]
 3527 0018 A047     		blx	r4
 3528              	.LVL314:
 3529 001a 0128     		cmp	r0, #1
 3530 001c 0446     		mov	r4, r0
 3531 001e 11D0     		beq	.L279
 3532              	.LBB55:
1113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* The queue is full */
1115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		intr_src_t tmp;
1116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xQueueReceive(intr_src_queue, &tmp, (TickType_t)10);
 3533              		.loc 1 1116 0
 3534 0020 3068     		ldr	r0, [r6]
 3535 0022 01A9     		add	r1, sp, #4
 3536 0024 0A22     		movs	r2, #10
 3537 0026 0023     		movs	r3, #0
 3538 0028 0B4C     		ldr	r4, .L280+8
 3539 002a 013D     		subs	r5, r5, #1
 3540              	.LVL315:
 3541 002c A047     		blx	r4
 3542              	.LVL316:
1117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (--timeout == 0)
 3543              		.loc 1 1117 0
 3544 002e 15F0FF05 		ands	r5, r5, #255
 3545 0032 EBD1     		bne	.L275
1118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_DEBUG, "intr_src_queue full\r\n");
 3546              		.loc 1 1119 0
 3547 0034 1E20     		movs	r0, #30
 3548 0036 1021     		movs	r1, #16
 3549 0038 084A     		ldr	r2, .L280+12
 3550 003a 094B     		ldr	r3, .L280+16
 3551 003c 9847     		blx	r3
 3552              	.LVL317:
1120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return -1;
 3553              		.loc 1 1120 0
 3554 003e 4FF0FF30 		mov	r0, #-1
 3555 0042 02E0     		b	.L277
 3556              	.LVL318:
 3557              	.L279:
 3558              	.LBE55:
1121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** //	SLOGF(SLOG_INFO, "Sending INTR for TID: 0x%04x [%d]", cmd_tid, status);
1124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_signal();
 3559              		.loc 1 1124 0
 3560 0044 074B     		ldr	r3, .L280+20
 3561 0046 9847     		blx	r3
 3562              	.LVL319:
1125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return 1;
 3563              		.loc 1 1125 0
 3564 0048 2046     		mov	r0, r4
 3565              	.LVL320:
 3566              	.L277:
1126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 3567              		.loc 1 1126 0
 3568 004a 02B0     		add	sp, sp, #8
 3569              	.LCFI36:
 3570              		.cfi_def_cfa_offset 16
 3571              		@ sp needed
 3572 004c 70BD     		pop	{r4, r5, r6, pc}
 3573              	.L281:
 3574 004e 00BF     		.align	2
 3575              	.L280:
 3576 0050 00000000 		.word	.LANCHOR5
 3577 0054 00000000 		.word	xQueueGenericSend
 3578 0058 00000000 		.word	xQueueGenericReceive
 3579 005c 3B010000 		.word	.LC14
 3580 0060 00000000 		.word	slogf
 3581 0064 00000000 		.word	intr_signal
 3582              		.cfi_endproc
 3583              	.LFE27:
 3585              		.section	.text.intr_queue_pop,"ax",%progbits
 3586              		.align	1
 3587              		.global	intr_queue_pop
 3588              		.thumb
 3589              		.thumb_func
 3591              	intr_queue_pop:
 3592              	.LFB28:
1127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** int intr_queue_pop(uint8_t *intr_src_data)
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3593              		.loc 1 1129 0
 3594              		.cfi_startproc
 3595              		@ args = 0, pretend = 0, frame = 8
 3596              		@ frame_needed = 0, uses_anonymous_args = 0
 3597              	.LVL321:
1130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
1131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(xQueueReceive(intr_src_queue, &p_intr_src_st, (TickType_t)10) != pdTRUE)
 3598              		.loc 1 1131 0
 3599 0000 154B     		ldr	r3, .L286
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
 3600              		.loc 1 1129 0
 3601 0002 37B5     		push	{r0, r1, r2, r4, r5, lr}
 3602              	.LCFI37:
 3603              		.cfi_def_cfa_offset 24
 3604              		.cfi_offset 4, -12
 3605              		.cfi_offset 5, -8
 3606              		.cfi_offset 14, -4
 3607              		.loc 1 1131 0
 3608 0004 154C     		ldr	r4, .L286+4
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
 3609              		.loc 1 1129 0
 3610 0006 0546     		mov	r5, r0
 3611              		.loc 1 1131 0
 3612 0008 01A9     		add	r1, sp, #4
 3613 000a 1868     		ldr	r0, [r3]
 3614              	.LVL322:
 3615 000c 0A22     		movs	r2, #10
 3616 000e 0023     		movs	r3, #0
 3617 0010 A047     		blx	r4
 3618              	.LVL323:
 3619 0012 0128     		cmp	r0, #1
 3620 0014 0446     		mov	r4, r0
 3621 0016 0CD0     		beq	.L283
1132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_DEBUG, "intr_src_queue empty");
 3622              		.loc 1 1133 0
 3623 0018 1E20     		movs	r0, #30
 3624 001a 1021     		movs	r1, #16
 3625 001c 104A     		ldr	r2, .L286+8
 3626 001e 114B     		ldr	r3, .L286+12
 3627 0020 9847     		blx	r3
 3628              	.LVL324:
1134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* If the queue is empty then return dummy data */
1135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		memset(intr_src_data, 0xFF, INTR_DATA_SIZE);
 3629              		.loc 1 1135 0
 3630 0022 2846     		mov	r0, r5
 3631 0024 FF21     		movs	r1, #255
 3632 0026 0422     		movs	r2, #4
 3633 0028 0F4B     		ldr	r3, .L286+16
 3634 002a 9847     		blx	r3
 3635              	.LVL325:
1136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return -1;
 3636              		.loc 1 1136 0
 3637 002c 4FF0FF30 		mov	r0, #-1
 3638 0030 0FE0     		b	.L284
 3639              	.L283:
1137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[0] = p_intr_src_st.cmd_tid >> 8;
 3640              		.loc 1 1138 0
 3641 0032 BDF80400 		ldrh	r0, [sp, #4]
 3642 0036 030A     		lsrs	r3, r0, #8
1139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[1] = p_intr_src_st.cmd_tid & 0xFF;
 3643              		.loc 1 1139 0
 3644 0038 6870     		strb	r0, [r5, #1]
1138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[1] = p_intr_src_st.cmd_tid & 0xFF;
 3645              		.loc 1 1138 0
 3646 003a 2B70     		strb	r3, [r5]
1140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[2] = p_intr_src_st.status & 0xFF;
 3647              		.loc 1 1140 0
 3648 003c BDF80630 		ldrh	r3, [sp, #6]
 3649 0040 AB70     		strb	r3, [r5, #2]
1141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[3] = p_intr_src_st.status >> 8;
 3650              		.loc 1 1141 0
 3651 0042 1B0A     		lsrs	r3, r3, #8
 3652 0044 EB70     		strb	r3, [r5, #3]
1142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
1144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Delete log queue */
1145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	struct lcc_cmd_log_t *del = lcc_cmd_log_pull(p_intr_src_st.cmd_tid);
 3653              		.loc 1 1145 0
 3654 0046 094B     		ldr	r3, .L286+20
 3655 0048 9847     		blx	r3
 3656              	.LVL326:
1146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(del != NULL)
 3657              		.loc 1 1146 0
 3658 004a 08B1     		cbz	r0, .L285
1147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		lcc_cmd_log_delete_tid(del);
 3659              		.loc 1 1147 0
 3660 004c 084B     		ldr	r3, .L286+24
 3661 004e 9847     		blx	r3
 3662              	.LVL327:
 3663              	.L285:
1148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
1149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return 1;
 3664              		.loc 1 1149 0
 3665 0050 2046     		mov	r0, r4
 3666              	.L284:
1150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 3667              		.loc 1 1150 0
 3668 0052 03B0     		add	sp, sp, #12
 3669              	.LCFI38:
 3670              		.cfi_def_cfa_offset 12
 3671              		@ sp needed
 3672 0054 30BD     		pop	{r4, r5, pc}
 3673              	.LVL328:
 3674              	.L287:
 3675 0056 00BF     		.align	2
 3676              	.L286:
 3677 0058 00000000 		.word	.LANCHOR5
 3678 005c 00000000 		.word	xQueueGenericReceive
 3679 0060 51010000 		.word	.LC15
 3680 0064 00000000 		.word	slogf
 3681 0068 00000000 		.word	memset
 3682 006c 00000000 		.word	lcc_cmd_log_pull
 3683 0070 00000000 		.word	lcc_cmd_log_delete_tid
 3684              		.cfi_endproc
 3685              	.LFE28:
 3687              		.section	.text.intr_queue_reset,"ax",%progbits
 3688              		.align	1
 3689              		.global	intr_queue_reset
 3690              		.thumb
 3691              		.thumb_func
 3693              	intr_queue_reset:
 3694              	.LFB29:
1151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void intr_queue_reset(void)
1152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3695              		.loc 1 1152 0
 3696              		.cfi_startproc
 3697              		@ args = 0, pretend = 0, frame = 0
 3698              		@ frame_needed = 0, uses_anonymous_args = 0
 3699 0000 08B5     		push	{r3, lr}
 3700              	.LCFI39:
 3701              		.cfi_def_cfa_offset 8
 3702              		.cfi_offset 3, -8
 3703              		.cfi_offset 14, -4
1153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xQueueReset(intr_src_queue);
 3704              		.loc 1 1153 0
 3705 0002 054B     		ldr	r3, .L289
 3706 0004 0021     		movs	r1, #0
 3707 0006 1868     		ldr	r0, [r3]
 3708 0008 044B     		ldr	r3, .L289+4
 3709 000a 9847     		blx	r3
 3710              	.LVL329:
1154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	SLOGF(SLOG_DEBUG, "Reset intr_src_queue");
 3711              		.loc 1 1154 0
 3712 000c 1E20     		movs	r0, #30
 3713 000e 1021     		movs	r1, #16
 3714 0010 034A     		ldr	r2, .L289+8
 3715 0012 044B     		ldr	r3, .L289+12
 3716 0014 9847     		blx	r3
 3717              	.LVL330:
 3718 0016 08BD     		pop	{r3, pc}
 3719              	.L290:
 3720              		.align	2
 3721              	.L289:
 3722 0018 00000000 		.word	.LANCHOR5
 3723 001c 00000000 		.word	xQueueGenericReset
 3724 0020 66010000 		.word	.LC16
 3725 0024 00000000 		.word	slogf
 3726              		.cfi_endproc
 3727              	.LFE29:
 3729              		.section	.text.send_hw_sync_trigger,"ax",%progbits
 3730              		.align	1
 3731              		.global	send_hw_sync_trigger
 3732              		.thumb
 3733              		.thumb_func
 3735              	send_hw_sync_trigger:
 3736              	.LFB30:
1155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void send_hw_sync_trigger()
1157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3737              		.loc 1 1157 0
 3738              		.cfi_startproc
 3739              		@ args = 0, pretend = 0, frame = 0
 3740              		@ frame_needed = 0, uses_anonymous_args = 0
 3741              	.LVL331:
 3742 0000 08B5     		push	{r3, lr}
 3743              	.LCFI40:
 3744              		.cfi_def_cfa_offset 8
 3745              		.cfi_offset 3, -8
 3746              		.cfi_offset 14, -4
1158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	unsigned int i = 533;
1159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskSuspendAll();
 3747              		.loc 1 1159 0
 3748 0002 064B     		ldr	r3, .L292
 3749 0004 9847     		blx	r3
 3750              	.LVL332:
1160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_low(PWM1_CH4, PWM_PIN_NEG);
 3751              		.loc 1 1160 0
 3752 0006 0920     		movs	r0, #9
 3753 0008 0121     		movs	r1, #1
 3754 000a 054B     		ldr	r3, .L292+4
 3755 000c 9847     		blx	r3
 3756              	.LVL333:
1161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while(i)
1162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i--;
1163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM1_CH4, PWM_PIN_NEG);
 3757              		.loc 1 1163 0
 3758 000e 0121     		movs	r1, #1
 3759 0010 044B     		ldr	r3, .L292+8
 3760 0012 0920     		movs	r0, #9
 3761 0014 9847     		blx	r3
 3762              	.LVL334:
1164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xTaskResumeAll();
 3763              		.loc 1 1164 0
 3764 0016 044B     		ldr	r3, .L292+12
 3765 0018 9847     		blx	r3
 3766              	.LVL335:
 3767 001a 08BD     		pop	{r3, pc}
 3768              	.L293:
 3769              		.align	2
 3770              	.L292:
 3771 001c 00000000 		.word	vTaskSuspendAll
 3772 0020 00000000 		.word	hal_pwm_set_low
 3773 0024 00000000 		.word	hal_pwm_set_high
 3774 0028 00000000 		.word	xTaskResumeAll
 3775              		.cfi_endproc
 3776              	.LFE30:
 3778              		.section	.text.get_calib_size,"ax",%progbits
 3779              		.align	1
 3780              		.global	get_calib_size
 3781              		.thumb
 3782              		.thumb_func
 3784              	get_calib_size:
 3785              	.LFB31:
1165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint32_t get_calib_size(void)
1168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3786              		.loc 1 1168 0
 3787              		.cfi_startproc
 3788              		@ args = 0, pretend = 0, frame = 8
 3789              		@ frame_needed = 0, uses_anonymous_args = 0
 3790              	.LVL336:
 3791 0000 13B5     		push	{r0, r1, r4, lr}
 3792              	.LCFI41:
 3793              		.cfi_def_cfa_offset 16
 3794              		.cfi_offset 4, -8
 3795              		.cfi_offset 14, -4
1169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint32_t size = 0;
1170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t buf[4];
1171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t len = ARRAY_SIZE(buf);
1172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Read data from spi flash */
1173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	flash_read(CALIB_DATA_SIZE_OFFSET, len, buf, SINGLE_MODE);
 3796              		.loc 1 1173 0
 3797 0002 0421     		movs	r1, #4
 3798 0004 0DEB0102 		add	r2, sp, r1
 3799 0008 0023     		movs	r3, #0
 3800 000a 0A4C     		ldr	r4, .L295
 3801 000c 4FF4A010 		mov	r0, #1310720
 3802 0010 A047     		blx	r4
 3803              	.LVL337:
 3804              	.LBB56:
1174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for(uint8_t i = 0; i < len; i++)
1175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		size |= (uint32_t)((uint32_t)(buf[i]) << (8 *(len - i - 1)));
 3805              		.loc 1 1176 0
 3806 0012 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 3807 0016 1B06     		lsls	r3, r3, #24
 3808              	.LVL338:
 3809 0018 9DF80500 		ldrb	r0, [sp, #5]	@ zero_extendqisi2
 3810 001c 43EA0043 		orr	r3, r3, r0, lsl #16
 3811              	.LVL339:
 3812 0020 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 3813 0024 43EA0023 		orr	r3, r3, r0, lsl #8
 3814              	.LVL340:
 3815 0028 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 3816              	.LVL341:
 3817              	.LBE56:
1177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return size;
1180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 3818              		.loc 1 1180 0
 3819 002c 1843     		orrs	r0, r0, r3
 3820              	.LVL342:
 3821 002e 02B0     		add	sp, sp, #8
 3822              	.LCFI42:
 3823              		.cfi_def_cfa_offset 8
 3824              		@ sp needed
 3825 0030 10BD     		pop	{r4, pc}
 3826              	.L296:
 3827 0032 00BF     		.align	2
 3828              	.L295:
 3829 0034 00000000 		.word	flash_read
 3830              		.cfi_endproc
 3831              	.LFE31:
 3833              		.section	.text.copy_calib_data,"ax",%progbits
 3834              		.align	1
 3835              		.global	copy_calib_data
 3836              		.thumb
 3837              		.thumb_func
 3839              	copy_calib_data:
 3840              	.LFB32:
1181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void copy_calib_data(uint32_t offset, uint8_t *dst, uint32_t size)
1183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3841              		.loc 1 1183 0
 3842              		.cfi_startproc
 3843              		@ args = 0, pretend = 0, frame = 0
 3844              		@ frame_needed = 0, uses_anonymous_args = 0
 3845              	.LVL343:
 3846 0000 0B46     		mov	r3, r1
1184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Read data from spi flash */
1185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	flash_read(CALIB_DATA_OFFSET + offset, size, dst, SINGLE_MODE);
 3847              		.loc 1 1185 0
 3848 0002 00F58810 		add	r0, r0, #1114112
 3849              	.LVL344:
1183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Read data from spi flash */
 3850              		.loc 1 1183 0
 3851 0006 10B5     		push	{r4, lr}
 3852              	.LCFI43:
 3853              		.cfi_def_cfa_offset 8
 3854              		.cfi_offset 4, -8
 3855              		.cfi_offset 14, -4
 3856              		.loc 1 1185 0
 3857 0008 1146     		mov	r1, r2
 3858              	.LVL345:
 3859 000a 1A46     		mov	r2, r3
 3860              	.LVL346:
 3861 000c 014C     		ldr	r4, .L298
 3862 000e 0023     		movs	r3, #0
 3863              	.LVL347:
 3864 0010 A047     		blx	r4
 3865              	.LVL348:
 3866 0012 10BD     		pop	{r4, pc}
 3867              	.L299:
 3868              		.align	2
 3869              	.L298:
 3870 0014 00000000 		.word	flash_read
 3871              		.cfi_endproc
 3872              	.LFE32:
 3874              		.global	asic_sync_queue
 3875              		.global	light_system
 3876              		.global	modules_tlb_size
 3877              		.global	modules_tbl
 3878              		.global	lookup_tbl
 3879              		.section	.rodata.__FUNCTION__.9120,"a",%progbits
 3880              		.set	.LANCHOR6,. + 0
 3883              	__FUNCTION__.9120:
 3884 0000 6C696768 		.ascii	"light_camera_task_create\000"
 3884      745F6361 
 3884      6D657261 
 3884      5F746173 
 3884      6B5F6372 
 3885              		.section	.bss.asic_sync_queue,"aw",%nobits
 3886              		.align	2
 3889              	asic_sync_queue:
 3890 0000 00000000 		.space	4
 3891              		.section	.rodata.lookup_tbl,"a",%progbits
 3892              		.align	1
 3893              		.set	.LANCHOR10,. + 0
 3896              	lookup_tbl:
 3897 0000 05A1     		.short	-24315
 3898 0002 10A2     		.short	-24048
 3899 0004 10A3     		.short	-23792
 3900 0006 10A4     		.short	-23536
 3901 0008 04A5     		.short	-23292
 3902 000a 10B1     		.short	-20208
 3903 000c 06B2     		.short	-19962
 3904 000e 10B3     		.short	-19696
 3905 0010 03B4     		.short	-19453
 3906 0012 02B5     		.short	-19198
 3907 0014 20C1     		.short	-16096
 3908 0016 10C2     		.short	-15856
 3909 0018 20C3     		.short	-15584
 3910 001a 20C4     		.short	-15328
 3911 001c 01C5     		.short	-15103
 3912 001e 20C6     		.short	-14816
 3913              		.section	.bss.intr_asic2_sync_sem,"aw",%nobits
 3914              		.align	2
 3915              		.set	.LANCHOR8,. + 0
 3918              	intr_asic2_sync_sem:
 3919 0000 00000000 		.space	4
 3920              		.section	.rodata.__FUNCTION__.9136,"a",%progbits
 3921              		.set	.LANCHOR11,. + 0
 3924              	__FUNCTION__.9136:
 3925 0000 6C696768 		.ascii	"light_system_init\000"
 3925      745F7379 
 3925      7374656D 
 3925      5F696E69 
 3925      7400
 3926              		.section	.bss.intr_semaphore,"aw",%nobits
 3927              		.align	2
 3928              		.set	.LANCHOR4,. + 0
 3931              	intr_semaphore:
 3932 0000 00000000 		.space	4
 3933              		.section	.rodata.str1.1,"aMS",%progbits,1
 3934              	.LC0:
 3935 0000 4661696C 		.ascii	"Failed to create mutex\000"
 3935      65642074 
 3935      6F206372 
 3935      65617465 
 3935      206D7574 
 3936              	.LC1:
 3937 0017 312E3000 		.ascii	"1.0\000"
 3938              	.LC2:
 3939 001b 43616E6E 		.ascii	"Cannot find this module\000"
 3939      6F742066 
 3939      696E6420 
 3939      74686973 
 3939      206D6F64 
 3940              	.LC3:
 3941 0033 4F6E6C79 		.ascii	"Only capture on ASIC1 \000"
 3941      20636170 
 3941      74757265 
 3941      206F6E20 
 3941      41534943 
 3942              	.LC4:
 3943 004a 496E7465 		.ascii	"Interrupt signal from ASIC2 is busy\000"
 3943      72727570 
 3943      74207369 
 3943      676E616C 
 3943      2066726F 
 3944              	.LC5:
 3945 006e 496E7465 		.ascii	"Interrupt signal from ASIC3 is busy\000"
 3945      72727570 
 3945      74207369 
 3945      676E616C 
 3945      2066726F 
 3946              	.LC6:
 3947 0092 496E7661 		.ascii	"Invalid param %f\000"
 3947      6C696420 
 3947      70617261 
 3947      6D202566 
 3947      00
 3948              	.LC7:
 3949 00a3 57726974 		.ascii	"Write EEPROM POT DONE\000"
 3949      65204545 
 3949      50524F4D 
 3949      20504F54 
 3949      20444F4E 
 3950              	.LC8:
 3951 00b9 57726974 		.ascii	"Write POT DONE\000"
 3951      6520504F 
 3951      5420444F 
 3951      4E4500
 3952              	.LC9:
 3953 00c8 57726974 		.ascii	"Write I2C failed\000"
 3953      65204932 
 3953      43206661 
 3953      696C6564 
 3953      00
 3954              	.LC10:
 3955 00d9 41504F54 		.ascii	"APOT1: reading timed out\000"
 3955      313A2072 
 3955      65616469 
 3955      6E672074 
 3955      696D6564 
 3956              	.LC11:
 3957 00f2 43414D2D 		.ascii	"CAM-%X : VCM is moving\000"
 3957      2558203A 
 3957      2056434D 
 3957      20697320 
 3957      6D6F7669 
 3958              	.LC12:
 3959 0109 43414D2D 		.ascii	"CAM-%X : Lens is moving\000"
 3959      2558203A 
 3959      204C656E 
 3959      73206973 
 3959      206D6F76 
 3960              	.LC13:
 3961 0121 43414D2D 		.ascii	"CAM-%X : Mirror is moving\000"
 3961      2558203A 
 3961      204D6972 
 3961      726F7220 
 3961      6973206D 
 3962              	.LC14:
 3963 013b 696E7472 		.ascii	"intr_src_queue full\015\012\000"
 3963      5F737263 
 3963      5F717565 
 3963      75652066 
 3963      756C6C0D 
 3964              	.LC15:
 3965 0151 696E7472 		.ascii	"intr_src_queue empty\000"
 3965      5F737263 
 3965      5F717565 
 3965      75652065 
 3965      6D707479 
 3966              	.LC16:
 3967 0166 52657365 		.ascii	"Reset intr_src_queue\000"
 3967      7420696E 
 3967      74725F73 
 3967      72635F71 
 3967      75657565 
 3968              		.section	.rodata.__FUNCTION__.9101,"a",%progbits
 3969              		.set	.LANCHOR2,. + 0
 3972              	__FUNCTION__.9101:
 3973 0000 6C696768 		.ascii	"light_camera_init\000"
 3973      745F6361 
 3973      6D657261 
 3973      5F696E69 
 3973      7400
 3974              		.section	.rodata.modules_tbl,"a",%progbits
 3975              		.set	.LANCHOR7,. + 0
 3978              	modules_tbl:
 3979 0000 00       		.byte	0
 3980 0001 A1       		.byte	-95
 3981 0002 A2       		.byte	-94
 3982 0003 A3       		.byte	-93
 3983 0004 A4       		.byte	-92
 3984 0005 A5       		.byte	-91
 3985 0006 B1       		.byte	-79
 3986 0007 B2       		.byte	-78
 3987 0008 B3       		.byte	-77
 3988 0009 B4       		.byte	-76
 3989 000a B5       		.byte	-75
 3990 000b C1       		.byte	-63
 3991 000c C2       		.byte	-62
 3992 000d C3       		.byte	-61
 3993 000e C4       		.byte	-60
 3994 000f C5       		.byte	-59
 3995 0010 C6       		.byte	-58
 3996              		.section	.bss.intr_src_queue,"aw",%nobits
 3997              		.align	2
 3998              		.set	.LANCHOR5,. + 0
 4001              	intr_src_queue:
 4002 0000 00000000 		.space	4
 4003              		.section	.bss.intr_sync_event,"aw",%nobits
 4004              		.align	2
 4005              		.set	.LANCHOR1,. + 0
 4008              	intr_sync_event:
 4009 0000 00000000 		.space	4
 4010              		.section	.rodata.light_system,"a",%progbits
 4011              		.align	2
 4014              	light_system:
 4015 0000 00000000 		.word	light_sys
 4016              		.section	.bss.intr,"aw",%nobits
 4017              		.set	.LANCHOR3,. + 0
 4020              	intr:
 4021 0000 000000   		.space	3
 4022              		.section	.bss.light_sys,"aw",%nobits
 4023              		.align	3
 4024              		.set	.LANCHOR0,. + 0
 4027              	light_sys:
 4028 0000 00000000 		.space	664
 4028      00000000 
 4028      00000000 
 4028      00000000 
 4028      00000000 
 4029              		.section	.bss.intr_asic3_sync_sem,"aw",%nobits
 4030              		.align	2
 4031              		.set	.LANCHOR9,. + 0
 4034              	intr_asic3_sync_sem:
 4035 0000 00000000 		.space	4
 4036              		.section	.rodata.modules_tlb_size,"a",%progbits
 4039              	modules_tlb_size:
 4040 0000 11       		.byte	17
 4041              		.text
 4042              	.Letext0:
 4043              		.file 2 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/machine/_default_types
 4044              		.file 3 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/stdint.h"
 4045              		.file 4 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/portable/GCC/cortex-r4/portmacro
 4046              		.file 5 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/task.h"
 4047              		.file 6 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/queue.h"
 4048              		.file 7 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/semphr.h"
 4049              		.file 8 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/event_groups.h"
 4050              		.file 9 "/home/tienluong/workspace/atlantis_fw/platform/common/os.h"
 4051              		.file 10 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_syncio.h"
 4052              		.file 11 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_pwm.h"
 4053              		.file 12 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_gpio.h"
 4054              		.file 13 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_i2c.h"
 4055              		.file 14 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_qspi.h"
 4056              		.file 15 "/home/tienluong/workspace/atlantis_fw/platform/common/lcc_system.h"
 4057              		.file 16 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/tof.h"
 4058              		.file 17 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/gyro.h"
 4059              		.file 18 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/img_sensor.h"
 4060              		.file 19 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/lcc_cmd_log.h"
 4061              		.file 20 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/lcc_cmd.h"
 4062              		.file 21 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/vcm.h"
 4063              		.file 22 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/optical.h"
 4064              		.file 23 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/pwr_ctrl.h"
 4065              		.file 24 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/i2cm.h"
 4066              		.file 25 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/eeprom.h"
 4067              		.file 26 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/task_af_ctrl.h"
 4068              		.file 27 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/light_system.h"
 4069              		.file 28 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/hall.h"
 4070              		.file 29 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/actuator.h"
DEFINED SYMBOLS
                            *ABS*:00000000 light_system.c
     /tmp/ccBL80xh.s:19     .text.asic2_intr_handler:00000000 $t
     /tmp/ccBL80xh.s:24     .text.asic2_intr_handler:00000000 asic2_intr_handler
     /tmp/ccBL80xh.s:73     .text.asic2_intr_handler:0000003c $d
     /tmp/ccBL80xh.s:82     .text.asic3_intr_handler:00000000 $t
     /tmp/ccBL80xh.s:87     .text.asic3_intr_handler:00000000 asic3_intr_handler
     /tmp/ccBL80xh.s:135    .text.asic3_intr_handler:0000003c $d
     /tmp/ccBL80xh.s:144    .text.light_camera_init:00000000 $t
     /tmp/ccBL80xh.s:149    .text.light_camera_init:00000000 light_camera_init
     /tmp/ccBL80xh.s:537    .text.light_camera_init:0000021c $d
     /tmp/ccBL80xh.s:546    .text.light_camera_init:00000238 $t
     /tmp/ccBL80xh.s:900    .text.light_camera_init:000003f8 $d
     /tmp/ccBL80xh.s:919    .text.light_camera_task_create:00000000 $t
     /tmp/ccBL80xh.s:924    .text.light_camera_task_create:00000000 light_camera_task_create
     /tmp/ccBL80xh.s:1011   .text.light_camera_task_create:00000064 $d
     /tmp/ccBL80xh.s:1022   .text.object_to_cam_bitmask:00000000 $t
     /tmp/ccBL80xh.s:1027   .text.object_to_cam_bitmask:00000000 object_to_cam_bitmask
     /tmp/ccBL80xh.s:1077   .text.module_to_idx:00000000 $t
     /tmp/ccBL80xh.s:1082   .text.module_to_idx:00000000 module_to_idx
     /tmp/ccBL80xh.s:1114   .text.module_to_idx:00000018 $d
     /tmp/ccBL80xh.s:1119   .text.light_system_init:00000000 $t
     /tmp/ccBL80xh.s:1124   .text.light_system_init:00000000 light_system_init
     /tmp/ccBL80xh.s:1447   .text.light_system_init:000001b8 $d
     /tmp/ccBL80xh.s:1469   .text.light_main:00000000 $t
     /tmp/ccBL80xh.s:1474   .text.light_main:00000000 light_main
     /tmp/ccBL80xh.s:1509   .text.light_main:00000018 $d
     /tmp/ccBL80xh.s:1518   .text.idx_to_module:00000000 $t
     /tmp/ccBL80xh.s:1523   .text.idx_to_module:00000000 idx_to_module
     /tmp/ccBL80xh.s:1539   .text.idx_to_module:00000008 $d
     /tmp/ccBL80xh.s:1544   .text.idx_to_object:00000000 $t
     /tmp/ccBL80xh.s:1549   .text.idx_to_object:00000000 idx_to_object
     /tmp/ccBL80xh.s:1608   .text.idx_to_object:0000003c $d
     /tmp/ccBL80xh.s:1616   .text.chan_to_object:00000000 $t
     /tmp/ccBL80xh.s:1621   .text.chan_to_object:00000000 chan_to_object
     /tmp/ccBL80xh.s:1680   .text.chan_to_object:0000003c $d
     /tmp/ccBL80xh.s:1687   .text.wait_intr_signal:00000000 $t
     /tmp/ccBL80xh.s:1692   .text.wait_intr_signal:00000000 wait_intr_signal
     /tmp/ccBL80xh.s:1870   .text.wait_intr_signal:000000d0 $d
     /tmp/ccBL80xh.s:1885   .text.send_intr_signal:00000000 $t
     /tmp/ccBL80xh.s:1890   .text.send_intr_signal:00000000 send_intr_signal
     /tmp/ccBL80xh.s:1925   .text.send_intr_signal:0000001c $d
     /tmp/ccBL80xh.s:1933   .text.intr_signal:00000000 $t
     /tmp/ccBL80xh.s:1938   .text.intr_signal:00000000 intr_signal
     /tmp/ccBL80xh.s:1988   .text.intr_signal:00000030 $d
     /tmp/ccBL80xh.s:2000   .text.set_intr_pin:00000000 $t
     /tmp/ccBL80xh.s:2005   .text.set_intr_pin:00000000 set_intr_pin
     /tmp/ccBL80xh.s:2039   .text.set_intr_pin:00000014 $d
     /tmp/ccBL80xh.s:2045   .text.disable_asic_sync_intr:00000000 $t
     /tmp/ccBL80xh.s:2050   .text.disable_asic_sync_intr:00000000 disable_asic_sync_intr
     /tmp/ccBL80xh.s:2063   .text.enable_asic_sync_intr:00000000 $t
     /tmp/ccBL80xh.s:2068   .text.enable_asic_sync_intr:00000000 enable_asic_sync_intr
     /tmp/ccBL80xh.s:2096   .text.pzt_voltage_config:00000000 $t
     /tmp/ccBL80xh.s:2101   .text.pzt_voltage_config:00000000 pzt_voltage_config
     /tmp/ccBL80xh.s:2383   .text.pzt_voltage_config:00000170 $d
     /tmp/ccBL80xh.s:2420   .text.cam_move_to_distance:00000000 $t
     /tmp/ccBL80xh.s:2425   .text.cam_move_to_distance:00000000 cam_move_to_distance
     /tmp/ccBL80xh.s:2648   .text.cam_move_to_distance:00000110 $d
     /tmp/ccBL80xh.s:2657   .text.cam_move_lens_to_position:00000000 $t
     /tmp/ccBL80xh.s:2662   .text.cam_move_lens_to_position:00000000 cam_move_lens_to_position
     /tmp/ccBL80xh.s:2898   .text.cam_move_lens_to_position:00000138 $d
     /tmp/ccBL80xh.s:2907   .text.cam_move_mirr_to_position:00000000 $t
     /tmp/ccBL80xh.s:2912   .text.cam_move_mirr_to_position:00000000 cam_move_mirr_to_position
     /tmp/ccBL80xh.s:3062   .text.cam_move_mirr_to_position:000000b0 $d
     /tmp/ccBL80xh.s:3070   .text.cam_nudge_lens:00000000 $t
     /tmp/ccBL80xh.s:3075   .text.cam_nudge_lens:00000000 cam_nudge_lens
     /tmp/ccBL80xh.s:3313   .text.cam_nudge_lens:0000012c $d
     /tmp/ccBL80xh.s:3322   .text.cam_nudge_mirr:00000000 $t
     /tmp/ccBL80xh.s:3327   .text.cam_nudge_mirr:00000000 cam_nudge_mirr
     /tmp/ccBL80xh.s:3485   .text.cam_nudge_mirr:000000c0 $d
     /tmp/ccBL80xh.s:3493   .text.intr_queue_push:00000000 $t
     /tmp/ccBL80xh.s:3498   .text.intr_queue_push:00000000 intr_queue_push
     /tmp/ccBL80xh.s:3576   .text.intr_queue_push:00000050 $d
     /tmp/ccBL80xh.s:3586   .text.intr_queue_pop:00000000 $t
     /tmp/ccBL80xh.s:3591   .text.intr_queue_pop:00000000 intr_queue_pop
     /tmp/ccBL80xh.s:3677   .text.intr_queue_pop:00000058 $d
     /tmp/ccBL80xh.s:3688   .text.intr_queue_reset:00000000 $t
     /tmp/ccBL80xh.s:3693   .text.intr_queue_reset:00000000 intr_queue_reset
     /tmp/ccBL80xh.s:3722   .text.intr_queue_reset:00000018 $d
     /tmp/ccBL80xh.s:3730   .text.send_hw_sync_trigger:00000000 $t
     /tmp/ccBL80xh.s:3735   .text.send_hw_sync_trigger:00000000 send_hw_sync_trigger
     /tmp/ccBL80xh.s:3771   .text.send_hw_sync_trigger:0000001c $d
     /tmp/ccBL80xh.s:3779   .text.get_calib_size:00000000 $t
     /tmp/ccBL80xh.s:3784   .text.get_calib_size:00000000 get_calib_size
     /tmp/ccBL80xh.s:3829   .text.get_calib_size:00000034 $d
     /tmp/ccBL80xh.s:3834   .text.copy_calib_data:00000000 $t
     /tmp/ccBL80xh.s:3839   .text.copy_calib_data:00000000 copy_calib_data
     /tmp/ccBL80xh.s:3870   .text.copy_calib_data:00000014 $d
     /tmp/ccBL80xh.s:3889   .bss.asic_sync_queue:00000000 asic_sync_queue
     /tmp/ccBL80xh.s:4014   .rodata.light_system:00000000 light_system
     /tmp/ccBL80xh.s:4039   .rodata.modules_tlb_size:00000000 modules_tlb_size
     /tmp/ccBL80xh.s:3978   .rodata.modules_tbl:00000000 modules_tbl
     /tmp/ccBL80xh.s:3896   .rodata.lookup_tbl:00000000 lookup_tbl
     /tmp/ccBL80xh.s:3883   .rodata.__FUNCTION__.9120:00000000 __FUNCTION__.9120
     /tmp/ccBL80xh.s:3886   .bss.asic_sync_queue:00000000 $d
     /tmp/ccBL80xh.s:3892   .rodata.lookup_tbl:00000000 $d
     /tmp/ccBL80xh.s:3914   .bss.intr_asic2_sync_sem:00000000 $d
     /tmp/ccBL80xh.s:3918   .bss.intr_asic2_sync_sem:00000000 intr_asic2_sync_sem
     /tmp/ccBL80xh.s:3924   .rodata.__FUNCTION__.9136:00000000 __FUNCTION__.9136
     /tmp/ccBL80xh.s:3927   .bss.intr_semaphore:00000000 $d
     /tmp/ccBL80xh.s:3931   .bss.intr_semaphore:00000000 intr_semaphore
     /tmp/ccBL80xh.s:3972   .rodata.__FUNCTION__.9101:00000000 __FUNCTION__.9101
     /tmp/ccBL80xh.s:3997   .bss.intr_src_queue:00000000 $d
     /tmp/ccBL80xh.s:4001   .bss.intr_src_queue:00000000 intr_src_queue
     /tmp/ccBL80xh.s:4004   .bss.intr_sync_event:00000000 $d
     /tmp/ccBL80xh.s:4008   .bss.intr_sync_event:00000000 intr_sync_event
     /tmp/ccBL80xh.s:4011   .rodata.light_system:00000000 $d
     /tmp/ccBL80xh.s:4027   .bss.light_sys:00000000 light_sys
     /tmp/ccBL80xh.s:4020   .bss.intr:00000000 intr
     /tmp/ccBL80xh.s:4021   .bss.intr:00000000 $d
     /tmp/ccBL80xh.s:4023   .bss.light_sys:00000000 $d
     /tmp/ccBL80xh.s:4030   .bss.intr_asic3_sync_sem:00000000 $d
     /tmp/ccBL80xh.s:4034   .bss.intr_asic3_sync_sem:00000000 intr_asic3_sync_sem
                     .debug_frame:00000010 $d
     /tmp/ccBL80xh.s:2419   .text.pzt_voltage_config:000001f4 $t

UNDEFINED SYMBOLS
xEventGroupSetBitsFromISR
flash_init
pvPortMalloc1
malloc_failed
xQueueCreateMutex
assert_failed
xEventGroupCreate
xQueueGenericCreate
hal_gpio_init
hal_gpio_set_high
hal_pwm_set_high
slogf
task_list
task_handler
task_cam_create
task_actuator_create
xTaskGenericCreate
strcpy
task_af_create
hal_gpio_enable_exti
lcc_cmd_init
vTaskStartScheduler
xQueueGenericReceive
xEventGroupWaitBits
xQueueGenericSend
vTaskSuspendAll
hal_pwm_set_low
xTaskResumeAll
hal_gpio_set_low
__aeabi_fcmpgt
__aeabi_fcmplt
__aeabi_f2d
__aeabi_dsub
__aeabi_ddiv
__aeabi_d2uiz
__aeabi_ui2f
__aeabi_dmul
__aeabi_i2d
__aeabi_dadd
__aeabi_d2f
__aeabi_fdiv
__aeabi_fmul
__aeabi_fadd
__aeabi_f2uiz
i2cm
memset
lcc_cmd_log_pull
lcc_cmd_log_delete_tid
xQueueGenericReset
flash_read
