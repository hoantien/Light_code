   1              		.syntax unified
   2              		.cpu cortex-r4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"light_system.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.light_camera_init,"ax",%progbits
  19              		.align	1
  20              		.global	light_camera_init
  21              		.thumb
  22              		.thumb_func
  24              	light_camera_init:
  25              	.LFB2:
  26              		.file 1 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c"
   1:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /*******************************************************************************
   2:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Copyright (c) 2016, The LightCo
   3:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * All rights reserved.
   4:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Redistribution and use in source and binary forms, with or without
   5:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * modification, are strictly prohibited without prior permission
   6:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * of The LightCo.
   7:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *
   8:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @file    light_system.c
   9:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @author  The LightCo
  10:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @version V1.0.0
  11:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @date    Juk-16-2016
  12:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief   This file contains expand for Light system object
  13:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *
  14:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  ******************************************************************************/
  15:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Includes ------------------------------------------------------------------*/
  16:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "std_type.h"
  17:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "assert.h"
  18:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "log.h"
  19:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "os.h"
  20:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "board_config.h"
  21:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "lcc_system.h"
  22:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "lcc_cmd.h"
  23:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "optical.h"
  24:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "task_cam_ctrl.h"
  25:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "task_ccb_ctrl.h"
  26:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "task_af_ctrl.h"
  27:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "light_system.h"
  28:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "actuator.h"
  29:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "flash.h"
  30:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #include "lcc_cmd.h"
  31:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
  32:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private define-------------------------------------------------------------*/
  33:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define SLOGF_ID				SLOG_ID_LIGHT_SYSTEM
  34:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CAM_A_QUANTITY			5
  35:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CAM_B_QUANTITY			5
  36:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CAM_C_QUANTITY			6
  37:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CALIB_DATA_OFFSET           (0x110000)
  38:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define CALIB_DATA_SIZE_OFFSET		(0x140000)
  39:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private typedef -----------------------------------------------------------*/
  40:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private macro -------------------------------------------------------------*/
  41:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private variables----------------------------------------------------------*/
  42:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* The camera lookup table with CAMERA_TBL was predefined in lookup_tbl.mk.
  43:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This table can edit depend on platform or design
  44:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
  45:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** const uint16_t lookup_tbl[] = CAMERA_TBL;
  46:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** const uint8_t modules_tbl[] =
  47:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						{	0x00,								/* Global */
  48:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							0xA1, 0xA2, 0xA3, 0xA4, 0xA5,		/* Group A */
  49:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							0xB1, 0xB2, 0xB3, 0xB4, 0xB5,		/* Group B */
  50:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							0xC1, 0xC2, 0xC3, 0xC4, 0xC5, 0xC6	/* Group C */
  51:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						};
  52:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** const uint8_t modules_tlb_size = ARRAY_SIZE(modules_tbl);
  53:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /*
  54:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Light System
  55:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
  56:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static light_ccb_t light_sys;
  57:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
  58:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static hal_gpio_t intr;
  59:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static EventGroupHandle_t intr_sync_event;
  60:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static xSemaphoreHandle intr_asic2_sync_sem;
  61:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static xSemaphoreHandle intr_asic3_sync_sem;
  62:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
  63:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static QueueHandle_t intr_src_queue = NULL;
  64:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static SemaphoreHandle_t intr_semaphore = NULL;
  65:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Exported Global variables--------------------------------------------------*/
  66:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Light System #light_system */
  67:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** light_ccb_t * const light_system = &light_sys;
  68:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
  69:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* sync queue to hold the messages from asic forward to asic2 and asic 3*/
  70:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** asic_sync_t *asic_sync_queue = NULL;
  71:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
  72:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Private function-----------------------------------------------------------*/
  73:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void intr_queue_init(uint8_t queue_size);
  74:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void intr_init(void);
  75:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void set_orientation(cam_typedef_t *pcam)
  76:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	switch(pcam->info.module)
  78:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
  79:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
  80:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B4:
  81:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B3:
  82:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B2:
  83:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C2:
  84:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C4:
  85:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C5:
  86:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C6:
  87:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_VERTICAL;
  88:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
  89:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B5:
  90:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_B1:
  91:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C1:
  92:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_C3:
  93:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_HORIZONTAL;
  94:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
  95:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	case CAM_A5:
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_VERTICAL | FLIP_HORIZONTAL;
  97:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
  98:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	default:
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->flip = FLIP_NONE;
 100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /* Exported functions --------------------------------------------------------*/
 104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_camera_init(void)
 105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
  27              		.loc 1 105 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 36
  34              		.cfi_offset 4, -36
  35              		.cfi_offset 5, -32
  36              		.cfi_offset 6, -28
  37              		.cfi_offset 7, -24
  38              		.cfi_offset 8, -20
  39              		.cfi_offset 9, -16
  40              		.cfi_offset 10, -12
  41              		.cfi_offset 11, -8
  42              		.cfi_offset 14, -4
 106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t *p_focal_length;
 108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t i, j, ch;
 109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	flash_init();
  43              		.loc 1 109 0
  44 0004 854B     		ldr	r3, .L75
 105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
  45              		.loc 1 105 0
  46 0006 85B0     		sub	sp, sp, #20
  47              	.LCFI1:
  48              		.cfi_def_cfa_offset 56
  49              		.loc 1 109 0
  50 0008 9847     		blx	r3
  51              	.LVL0:
 110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < light_system->cam_tbl_size; i++)
  52              		.loc 1 110 0
  53 000a 4FF0000B 		mov	fp, #0
  54              	.LVL1:
  55              	.L2:
  56              		.loc 1 110 0 is_stmt 0 discriminator 1
  57 000e 5FFA8BF3 		uxtb	r3, fp
  58 0012 834A     		ldr	r2, .L75+4
  59 0014 92F82A10 		ldrb	r1, [r2, #42]	@ zero_extendqisi2
  60 0018 9942     		cmp	r1, r3
  61 001a 40F29E81 		bls	.L74
 111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam = &light_system->cam_tbl[i];
  62              		.loc 1 112 0 is_stmt 1
  63 001e 3825     		movs	r5, #56
  64 0020 D2F800A0 		ldr	r10, [r2]
 113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Image sensor memory allocate */
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image = assert_malloc(pcam->image, sizeof(img_sensor_t));
  65              		.loc 1 114 0
  66 0024 4C20     		movs	r0, #76
  67 0026 7F49     		ldr	r1, .L75+8
  68 0028 7222     		movs	r2, #114
  69 002a 7F4E     		ldr	r6, .L75+12
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Image sensor memory allocate */
  70              		.loc 1 112 0
  71 002c 5D43     		muls	r5, r3, r5
  72              		.loc 1 114 0
  73 002e B047     		blx	r6
  74              	.LVL2:
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Image sensor memory allocate */
  75              		.loc 1 112 0
  76 0030 0AEB0504 		add	r4, r10, r5
  77              	.LVL3:
  78              		.loc 1 114 0
  79 0034 4AF80500 		str	r0, [r10, r5]
  80 0038 18B9     		cbnz	r0, .L3
  81              		.loc 1 114 0 is_stmt 0 discriminator 2
  82 003a 7A48     		ldr	r0, .L75+8
  83 003c 7221     		movs	r1, #114
  84 003e 7B4B     		ldr	r3, .L75+16
  85 0040 9847     		blx	r3
  86              	.LVL4:
  87              	.L3:
  88              		.loc 1 114 0 discriminator 4
  89 0042 4AF80500 		str	r0, [r10, r5]
 115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Lens optical system memory allocate */
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical = assert_malloc(pcam->optical, sizeof(optical_t));
  90              		.loc 1 116 0 is_stmt 1 discriminator 4
  91 0046 7422     		movs	r2, #116
  92 0048 1020     		movs	r0, #16
  93 004a 7649     		ldr	r1, .L75+8
  94 004c B047     		blx	r6
  95              	.LVL5:
  96 004e 6060     		str	r0, [r4, #4]
  97 0050 18B9     		cbnz	r0, .L4
  98              		.loc 1 116 0 is_stmt 0 discriminator 2
  99 0052 7448     		ldr	r0, .L75+8
 100 0054 7421     		movs	r1, #116
 101 0056 754B     		ldr	r3, .L75+16
 102 0058 9847     		blx	r3
 103              	.LVL6:
 104              	.L4:
 105              		.loc 1 116 0 discriminator 4
 106 005a 6060     		str	r0, [r4, #4]
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->settings = assert_malloc(pcam->settings, sizeof(cam_data_t));
 107              		.loc 1 118 0 is_stmt 1 discriminator 4
 108 005c 7622     		movs	r2, #118
 109 005e 2120     		movs	r0, #33
 110 0060 7049     		ldr	r1, .L75+8
 111 0062 B047     		blx	r6
 112              	.LVL7:
 113 0064 A060     		str	r0, [r4, #8]
 114 0066 18B9     		cbnz	r0, .L5
 115              		.loc 1 118 0 is_stmt 0 discriminator 2
 116 0068 6E48     		ldr	r0, .L75+8
 117 006a 7621     		movs	r1, #118
 118 006c 6F4B     		ldr	r3, .L75+16
 119 006e 9847     		blx	r3
 120              	.LVL8:
 121              	.L5:
 122              		.loc 1 118 0 discriminator 4
 123 0070 A060     		str	r0, [r4, #8]
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->settings = assert_malloc(pcam->optical->settings,
 124              		.loc 1 119 0 is_stmt 1 discriminator 4
 125 0072 7822     		movs	r2, #120
 126 0074 1220     		movs	r0, #18
 127 0076 6B49     		ldr	r1, .L75+8
 128 0078 6768     		ldr	r7, [r4, #4]
 129 007a B047     		blx	r6
 130              	.LVL9:
 131 007c B860     		str	r0, [r7, #8]
 132 007e 10B1     		cbz	r0, .L6
 133              		.loc 1 119 0 is_stmt 0 discriminator 1
 134 0080 6768     		ldr	r7, [r4, #4]
 135 0082 B868     		ldr	r0, [r7, #8]
 136 0084 03E0     		b	.L7
 137              	.L6:
 138              		.loc 1 119 0 discriminator 2
 139 0086 6748     		ldr	r0, .L75+8
 140 0088 7821     		movs	r1, #120
 141 008a 684B     		ldr	r3, .L75+16
 142 008c 9847     		blx	r3
 143              	.LVL10:
 144              	.L7:
 120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(opt_data_t));
 121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		p_focal_length = (uint16_t *)pcam->optical->settings->focal_length;
 145              		.loc 1 121 0 is_stmt 1 discriminator 4
 146 008e 6368     		ldr	r3, [r4, #4]
 147 0090 4FF00008 		mov	r8, #0
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->settings = assert_malloc(pcam->optical->settings,
 148              		.loc 1 119 0 discriminator 4
 149 0094 B860     		str	r0, [r7, #8]
 150              		.loc 1 121 0 discriminator 4
 151 0096 9B68     		ldr	r3, [r3, #8]
 152 0098 0093     		str	r3, [sp]
 153              	.LVL11:
 154              	.L10:
 122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Allocate camera data cache for each of UCID */
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		for (j = 0; j < UC_MAX; j++)
 125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->image->settings[j] =
 127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_malloc(pcam->image->settings[j], sizeof(img_data_t));
 155              		.loc 1 127 0
 156 009a 1620     		movs	r0, #22
 157 009c 6149     		ldr	r1, .L75+8
 158 009e 7F22     		movs	r2, #127
 159 00a0 D4F80090 		ldr	r9, [r4]
 160 00a4 B047     		blx	r6
 161              	.LVL12:
 162 00a6 4FEA8807 		lsl	r7, r8, #2
 163 00aa 09EB0703 		add	r3, r9, r7
 164 00ae 5860     		str	r0, [r3, #4]
 165 00b0 28B1     		cbz	r0, .L8
 166              		.loc 1 127 0 is_stmt 0 discriminator 1
 167 00b2 D4F80090 		ldr	r9, [r4]
 168 00b6 09EB0703 		add	r3, r9, r7
 169 00ba 5868     		ldr	r0, [r3, #4]
 170 00bc 03E0     		b	.L9
 171              	.L8:
 172              		.loc 1 127 0 discriminator 2
 173 00be 5948     		ldr	r0, .L75+8
 174 00c0 7F21     		movs	r1, #127
 175 00c2 5A4B     		ldr	r3, .L75+16
 176 00c4 9847     		blx	r3
 177              	.LVL13:
 178              	.L9:
 179 00c6 08F10108 		add	r8, r8, #1
 180              	.LVL14:
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_malloc(pcam->image->settings[j], sizeof(img_data_t));
 181              		.loc 1 126 0 is_stmt 1 discriminator 2
 182 00ca 4F44     		add	r7, r7, r9
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 183              		.loc 1 124 0 discriminator 2
 184 00cc B8F10B0F 		cmp	r8, #11
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_malloc(pcam->image->settings[j], sizeof(img_data_t));
 185              		.loc 1 126 0 discriminator 2
 186 00d0 7860     		str	r0, [r7, #4]
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 187              		.loc 1 124 0 discriminator 2
 188 00d2 E2D1     		bne	.L10
 189              	.LVL15:
 190              	.LBB11:
 191              	.LBB12:
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 192              		.loc 1 77 0
 193 00d4 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 194 00d8 B52B     		cmp	r3, #181
 195 00da 5AF80520 		ldr	r2, [r10, r5]
 196 00de 13D0     		beq	.L12
 197 00e0 06D8     		bhi	.L13
 198 00e2 B12B     		cmp	r3, #177
 199 00e4 10D0     		beq	.L12
 200 00e6 0DD8     		bhi	.L14
 201 00e8 A52B     		cmp	r3, #165
 202 00ea 0FD1     		bne	.L11
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 203              		.loc 1 96 0
 204 00ec 0323     		movs	r3, #3
 205 00ee 0EE0     		b	.L71
 206              	.L13:
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 207              		.loc 1 77 0
 208 00f0 C32B     		cmp	r3, #195
 209 00f2 09D0     		beq	.L12
 210 00f4 04D8     		bhi	.L16
 211 00f6 C12B     		cmp	r3, #193
 212 00f8 06D0     		beq	.L12
 213 00fa C22B     		cmp	r3, #194
 214 00fc 02D0     		beq	.L14
 215 00fe 05E0     		b	.L11
 216              	.L16:
 217 0100 C62B     		cmp	r3, #198
 218 0102 03D8     		bhi	.L11
 219              	.L14:
  87:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 220              		.loc 1 87 0
 221 0104 0223     		movs	r3, #2
 222 0106 02E0     		b	.L71
 223              	.L12:
  93:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 224              		.loc 1 93 0
 225 0108 0123     		movs	r3, #1
 226 010a 00E0     		b	.L71
 227              	.L11:
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		break;
 228              		.loc 1 99 0
 229 010c 0023     		movs	r3, #0
 230              	.L71:
 231 010e 82F84430 		strb	r3, [r2, #68]
 232              	.LBE12:
 233              	.LBE11:
 128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Configure the Orientation */
 131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		set_orientation(pcam);
 132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Create the semaphore to access settings */
 134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->semaphore = xSemaphoreCreateMutex();
 234              		.loc 1 134 0
 235 0112 0120     		movs	r0, #1
 236 0114 464F     		ldr	r7, .L75+20
 237 0116 B847     		blx	r7
 238              	.LVL16:
 135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->semaphore = xSemaphoreCreateMutex();
 239              		.loc 1 135 0
 240 0118 5AF80580 		ldr	r8, [r10, r5]
 134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->image->semaphore = xSemaphoreCreateMutex();
 241              		.loc 1 134 0
 242 011c 2063     		str	r0, [r4, #48]
 243              		.loc 1 135 0
 244 011e 0120     		movs	r0, #1
 245 0120 B847     		blx	r7
 246              	.LVL17:
 247 0122 C8F83C00 		str	r0, [r8, #60]
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->semaphore = xSemaphoreCreateMutex();
 248              		.loc 1 136 0
 249 0126 0120     		movs	r0, #1
 250 0128 D4F80480 		ldr	r8, [r4, #4]
 251 012c B847     		blx	r7
 252              	.LVL18:
 137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->semaphore);
 253              		.loc 1 137 0
 254 012e 236B     		ldr	r3, [r4, #48]
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam->optical->semaphore = xSemaphoreCreateMutex();
 255              		.loc 1 136 0
 256 0130 C8F80C00 		str	r0, [r8, #12]
 257 0134 B846     		mov	r8, r7
 258              		.loc 1 137 0
 259 0136 1BB9     		cbnz	r3, .L18
 260              		.loc 1 137 0 is_stmt 0 discriminator 1
 261 0138 3A48     		ldr	r0, .L75+8
 262 013a 8921     		movs	r1, #137
 263 013c 3D4B     		ldr	r3, .L75+24
 264 013e 9847     		blx	r3
 265              	.LVL19:
 266              	.L18:
 138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->image->semaphore);
 267              		.loc 1 138 0 is_stmt 1
 268 0140 5AF80530 		ldr	r3, [r10, r5]
 269 0144 DB6B     		ldr	r3, [r3, #60]
 270 0146 1BB9     		cbnz	r3, .L19
 271              		.loc 1 138 0 is_stmt 0 discriminator 1
 272 0148 3648     		ldr	r0, .L75+8
 273 014a 8A21     		movs	r1, #138
 274 014c 394B     		ldr	r3, .L75+24
 275 014e 9847     		blx	r3
 276              	.LVL20:
 277              	.L19:
 139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pcam->optical->semaphore);
 278              		.loc 1 139 0 is_stmt 1
 279 0150 6368     		ldr	r3, [r4, #4]
 280 0152 DB68     		ldr	r3, [r3, #12]
 281 0154 1BB9     		cbnz	r3, .L20
 282              		.loc 1 139 0 is_stmt 0 discriminator 1
 283 0156 3348     		ldr	r0, .L75+8
 284 0158 8B21     		movs	r1, #139
 285 015a 364B     		ldr	r3, .L75+24
 286 015c 9847     		blx	r3
 287              	.LVL21:
 288              	.L20:
 140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Identify image sensor interface, just only for camera module manage
 142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		 * by this ASIC */
 143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (0 < pcam->info.ch)
 289              		.loc 1 143 0 is_stmt 1
 290 015e 94F82830 		ldrb	r3, [r4, #40]	@ zero_extendqisi2
 291 0162 C3F30303 		ubfx	r3, r3, #0, #4
 292 0166 5FFA83F9 		uxtb	r9, r3
 293 016a B9F1000F 		cmp	r9, #0
 294 016e 00F0F180 		beq	.L21
 144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			ch = pcam->info.ch - 1;
 295              		.loc 1 145 0
 296 0172 09F1FF37 		add	r7, r9, #-1
 146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign I2C channel for Sensor Image, EEPROM  */
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->image->i2c_dev = I2C_CH0 + ch;
 148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign GPIO Control for CAM_STANDBY_L, CAM_PCLK, pins */
 150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->image->standby = GPIO_PORT_PIN(GPIO_PORTB, GPIO_PIN_1 + ch);
 297              		.loc 1 150 0
 298 0176 43F01003 		orr	r3, r3, #16
 145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign I2C channel for Sensor Image, EEPROM  */
 299              		.loc 1 145 0
 300 017a FFB2     		uxtb	r7, r7
 301              	.LVL22:
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 302              		.loc 1 147 0
 303 017c 5AF80520 		ldr	r2, [r10, r5]
 304              		.loc 1 150 0
 305 0180 5370     		strb	r3, [r2, #1]
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 306              		.loc 1 147 0
 307 0182 1770     		strb	r7, [r2]
 151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if(pcam->info.grp == GRP_A)
 308              		.loc 1 151 0
 309 0184 94F82950 		ldrb	r5, [r4, #41]	@ zero_extendqisi2
 310 0188 05F0F005 		and	r5, r5, #240
 311 018c A02D     		cmp	r5, #160
 312 018e A368     		ldr	r3, [r4, #8]
 313 0190 29D1     		bne	.L22
 314              	.LBB13:
 152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Initialize cam module type value for CAM 28MM */
 154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->settings->type = CAM_TYPE_28MM;
 315              		.loc 1 154 0
 316 0192 0122     		movs	r2, #1
 155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign value of focal length */
 156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				*p_focal_length = CAM_28MM;
 317              		.loc 1 156 0
 318 0194 1C20     		movs	r0, #28
 154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign value of focal length */
 319              		.loc 1 154 0
 320 0196 83F82020 		strb	r2, [r3, #32]
 157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Allocate system memory for optical VCM */
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->lens = assert_malloc(pcam->optical->lens,
 321              		.loc 1 159 0
 322 019a 2A46     		mov	r2, r5
 156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 323              		.loc 1 156 0
 324 019c 009B     		ldr	r3, [sp]
 325 019e 1880     		strh	r0, [r3]	@ movhi
 326              		.loc 1 159 0
 327 01a0 2049     		ldr	r1, .L75+8
 328 01a2 D4F80490 		ldr	r9, [r4, #4]
 329 01a6 B047     		blx	r6
 330              	.LVL23:
 331 01a8 C9F80000 		str	r0, [r9]
 332 01ac 20B1     		cbz	r0, .L23
 333              		.loc 1 159 0 is_stmt 0 discriminator 1
 334 01ae D4F80490 		ldr	r9, [r4, #4]
 335 01b2 D9F80000 		ldr	r0, [r9]
 336 01b6 03E0     		b	.L24
 337              	.L23:
 338              		.loc 1 159 0 discriminator 2
 339 01b8 1A48     		ldr	r0, .L75+8
 340 01ba 2946     		mov	r1, r5
 341 01bc 1B4B     		ldr	r3, .L75+16
 342 01be 9847     		blx	r3
 343              	.LVL24:
 344              	.L24:
 160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm_t *plens = (vcm_t *)pcam->optical->lens;
 345              		.loc 1 161 0 is_stmt 1 discriminator 4
 346 01c0 6368     		ldr	r3, [r4, #4]
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 													sizeof(vcm_t));
 347              		.loc 1 159 0 discriminator 4
 348 01c2 C9F80000 		str	r0, [r9]
 162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* VCM share I2C channel with Sensor Image, epprom */
 164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->i2c = I2C_CH0 + ch;
 165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Some default settings */
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_data = NULL;
 167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_calib = NULL;
 168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->semaphore = xSemaphoreCreateMutex();
 349              		.loc 1 169 0 discriminator 4
 350 01c6 0120     		movs	r0, #1
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 351              		.loc 1 161 0 discriminator 4
 352 01c8 1D68     		ldr	r5, [r3]
 353              	.LVL25:
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_calib = NULL;
 354              		.loc 1 166 0 discriminator 4
 355 01ca 0023     		movs	r3, #0
 164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Some default settings */
 356              		.loc 1 164 0 discriminator 4
 357 01cc 2F70     		strb	r7, [r5]
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->af_calib = NULL;
 358              		.loc 1 166 0 discriminator 4
 359 01ce AB60     		str	r3, [r5, #8]
 167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 360              		.loc 1 167 0 discriminator 4
 361 01d0 6B60     		str	r3, [r5, #4]
 362              		.loc 1 169 0 discriminator 4
 363 01d2 C047     		blx	r8
 364              	.LVL26:
 365 01d4 E860     		str	r0, [r5, #12]
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->semaphore);
 366              		.loc 1 170 0 discriminator 4
 367 01d6 0028     		cmp	r0, #0
 368 01d8 40F0BA80 		bne	.L25
 369              		.loc 1 170 0 is_stmt 0 discriminator 1
 370 01dc 1148     		ldr	r0, .L75+8
 371 01de AA21     		movs	r1, #170
 372 01e0 144B     		ldr	r3, .L75+24
 373 01e2 9847     		blx	r3
 374              	.LVL27:
 375 01e4 B4E0     		b	.L25
 376              	.LVL28:
 377              	.L22:
 378              	.LBE13:
 379              	.LBB14:
 171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else /* GRP_B and GRP_C */
 173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Initialize cam module type value for CAM 70MM / CAM 150MM */
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->settings->type = (pcam->info.grp == GRP_B) ?
 380              		.loc 1 175 0 is_stmt 1
 381 01e6 B02D     		cmp	r5, #176
 382 01e8 0CBF     		ite	eq
 383 01ea 0222     		moveq	r2, #2
 384 01ec 0322     		movne	r2, #3
 176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_TYPE_70MM : CAM_TYPE_150MM;
 177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign value of focal length */
 178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				*p_focal_length = (pcam->info.grp == GRP_B) ?
 179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_70MM : CAM_150MM;
 180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Allocate system memory for optical lens */
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->lens = assert_malloc(pcam->optical->lens,
 385              		.loc 1 182 0
 386 01ee 4820     		movs	r0, #72
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_TYPE_70MM : CAM_TYPE_150MM;
 387              		.loc 1 175 0
 388 01f0 83F82020 		strb	r2, [r3, #32]
 178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 										CAM_70MM : CAM_150MM;
 389              		.loc 1 178 0
 390 01f4 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 391 01f8 03F0F003 		and	r3, r3, #240
 392 01fc B02B     		cmp	r3, #176
 393 01fe 0CBF     		ite	eq
 394 0200 4623     		moveq	r3, #70
 395 0202 9623     		movne	r3, #150
 396 0204 009A     		ldr	r2, [sp]
 397 0206 1380     		strh	r3, [r2]	@ movhi
 398              		.loc 1 182 0
 399 0208 B722     		movs	r2, #183
 400 020a 0649     		ldr	r1, .L75+8
 401 020c 6568     		ldr	r5, [r4, #4]
 402 020e B047     		blx	r6
 403              	.LVL29:
 404 0210 2860     		str	r0, [r5]
 405 0212 88B1     		cbz	r0, .L28
 406              		.loc 1 182 0 is_stmt 0 discriminator 1
 407 0214 6568     		ldr	r5, [r4, #4]
 408 0216 2868     		ldr	r0, [r5]
 409 0218 12E0     		b	.L29
 410              	.L76:
 411 021a 00BF     		.align	2
 412              	.L75:
 413 021c 00000000 		.word	flash_init
 414 0220 00000000 		.word	.LANCHOR0
 415 0224 00000000 		.word	.LANCHOR1
 416 0228 00000000 		.word	pvPortMalloc1
 417 022c 00000000 		.word	malloc_failed
 418 0230 00000000 		.word	xQueueCreateMutex
 419 0234 00000000 		.word	assert_failed
 420              	.L28:
 421              		.loc 1 182 0 discriminator 2
 422 0238 6948     		ldr	r0, .L77
 423 023a B721     		movs	r1, #183
 424 023c 694B     		ldr	r3, .L77+4
 425 023e 9847     		blx	r3
 426              	.LVL30:
 427              	.L29:
 183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				actuator_t *plens = (actuator_t *)pcam->optical->lens;
 428              		.loc 1 184 0 is_stmt 1 discriminator 4
 429 0240 6368     		ldr	r3, [r4, #4]
 185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 186:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign parameters for lens */
 187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cam_info = pcam->info;
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->type = ACTUATOR_LENS;
 189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->hall_i2c = I2C_CH6 + ch;
 430              		.loc 1 189 0 discriminator 4
 431 0242 09F1050A 		add	r10, r9, #5
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														sizeof(actuator_t));
 432              		.loc 1 182 0 discriminator 4
 433 0246 2860     		str	r0, [r5]
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 434              		.loc 1 184 0 discriminator 4
 435 0248 1D68     		ldr	r5, [r3]
 436              	.LVL31:
 187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->type = ACTUATOR_LENS;
 437              		.loc 1 187 0 discriminator 4
 438 024a 238D     		ldrh	r3, [r4, #40]
 439 024c 2B80     		strh	r3, [r5]	@ movhi
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->hall_i2c = I2C_CH6 + ch;
 440              		.loc 1 188 0 discriminator 4
 441 024e 0023     		movs	r3, #0
 442              		.loc 1 189 0 discriminator 4
 443 0250 85F803A0 		strb	r10, [r5, #3]
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->hall_i2c = I2C_CH6 + ch;
 444              		.loc 1 188 0 discriminator 4
 445 0254 AB70     		strb	r3, [r5, #2]
 190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->eeprom_i2c = I2C_CH0 + ch;
 446              		.loc 1 190 0 discriminator 4
 447 0256 2F71     		strb	r7, [r5, #4]
 191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm = PWM0_CH1 + ch;
 192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Attempt to create the event group. */
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->event = xEventGroupCreate();
 448              		.loc 1 194 0 discriminator 4
 449 0258 634B     		ldr	r3, .L77+8
 191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm = PWM0_CH1 + ch;
 450              		.loc 1 191 0 discriminator 4
 451 025a 6F71     		strb	r7, [r5, #5]
 452              		.loc 1 194 0 discriminator 4
 453 025c 0093     		str	r3, [sp]
 454              	.LVL32:
 455 025e 9847     		blx	r3
 456              	.LVL33:
 457 0260 A860     		str	r0, [r5, #8]
 195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->event);
 458              		.loc 1 195 0 discriminator 4
 459 0262 18B9     		cbnz	r0, .L30
 460              		.loc 1 195 0 is_stmt 0 discriminator 1
 461 0264 5E48     		ldr	r0, .L77
 462 0266 C321     		movs	r1, #195
 463 0268 604B     		ldr	r3, .L77+12
 464 026a 9847     		blx	r3
 465              	.LVL34:
 466              	.L30:
 196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->semaphore = xSemaphoreCreateMutex();
 467              		.loc 1 197 0 is_stmt 1
 468 026c 0120     		movs	r0, #1
 469 026e C047     		blx	r8
 470              	.LVL35:
 471 0270 E860     		str	r0, [r5, #12]
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->semaphore);
 472              		.loc 1 198 0
 473 0272 18B9     		cbnz	r0, .L31
 474              		.loc 1 198 0 is_stmt 0 discriminator 1
 475 0274 5A48     		ldr	r0, .L77
 476 0276 C621     		movs	r1, #198
 477 0278 5C4B     		ldr	r3, .L77+12
 478 027a 9847     		blx	r3
 479              	.LVL36:
 480              	.L31:
 199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->pwm_semaphore = xSemaphoreCreateBinary();
 481              		.loc 1 199 0 is_stmt 1
 482 027c 5C4B     		ldr	r3, .L77+16
 483 027e 0120     		movs	r0, #1
 484 0280 0021     		movs	r1, #0
 485 0282 0322     		movs	r2, #3
 486 0284 0193     		str	r3, [sp, #4]
 487 0286 9847     		blx	r3
 488              	.LVL37:
 489 0288 E862     		str	r0, [r5, #44]
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(plens->pwm_semaphore);
 490              		.loc 1 200 0
 491 028a 18B9     		cbnz	r0, .L32
 492              		.loc 1 200 0 is_stmt 0 discriminator 1
 493 028c 5448     		ldr	r0, .L77
 494 028e C821     		movs	r1, #200
 495 0290 564B     		ldr	r3, .L77+12
 496 0292 9847     		blx	r3
 497              	.LVL38:
 498              	.L32:
 201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Reset status of lens */
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_initialized = FALSE;
 499              		.loc 1 203 0 is_stmt 1
 500 0294 0023     		movs	r3, #0
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_calibrated = FALSE;
 205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Initializes AF control pin */
 207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_t af_enable;
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				af_enable.port = GPIO_PORTC;
 209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(pcam->info.module == CAM_B2)
 210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					af_enable.pin = GPIO_PIN_4 + 3;
 211:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				else
 212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					af_enable.pin = GPIO_PIN_4 + ch;
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				af_enable.direction = GPIO_DIR_OUT;
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_init(&af_enable);
 501              		.loc 1 214 0
 502 0296 03A8     		add	r0, sp, #12
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_calibrated = FALSE;
 503              		.loc 1 203 0
 504 0298 85F82830 		strb	r3, [r5, #40]
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->is_calibrated = FALSE;
 505              		.loc 1 204 0
 506 029c 85F82930 		strb	r3, [r5, #41]
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(pcam->info.module == CAM_B2)
 507              		.loc 1 208 0
 508 02a0 0223     		movs	r3, #2
 509 02a2 8DF80C30 		strb	r3, [sp, #12]
 209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					af_enable.pin = GPIO_PIN_4 + 3;
 510              		.loc 1 209 0
 511 02a6 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 512 02aa B22B     		cmp	r3, #178
 210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				else
 513              		.loc 1 210 0
 514 02ac 0CBF     		ite	eq
 515 02ae 0723     		moveq	r3, #7
 212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				af_enable.direction = GPIO_DIR_OUT;
 516              		.loc 1 212 0
 517 02b0 09F10303 		addne	r3, r9, #3
 518 02b4 8DF80D30 		strb	r3, [sp, #13]
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_init(&af_enable);
 519              		.loc 1 213 0
 520 02b8 0123     		movs	r3, #1
 521 02ba 8DF80E30 		strb	r3, [sp, #14]
 522              		.loc 1 214 0
 523 02be 4D4B     		ldr	r3, .L77+20
 524 02c0 9847     		blx	r3
 525              	.LVL39:
 215:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				hal_gpio_set_high(&af_enable);
 526              		.loc 1 215 0
 527 02c2 4D4B     		ldr	r3, .L77+24
 528 02c4 03A8     		add	r0, sp, #12
 529 02c6 9847     		blx	r3
 530              	.LVL40:
 216:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 217:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(( pcam->info.module == CAM_B4) ||
 531              		.loc 1 217 0
 532 02c8 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 533 02cc B42B     		cmp	r3, #180
 534 02ce 41D0     		beq	.L21
 535              		.loc 1 217 0 is_stmt 0 discriminator 1
 536 02d0 3B33     		adds	r3, r3, #59
 537 02d2 DBB2     		uxtb	r3, r3
 538 02d4 012B     		cmp	r3, #1
 539 02d6 3DD9     		bls	.L21
 218:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					(pcam->info.module == CAM_C5) ||
 219:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					(pcam->info.module == CAM_C6))
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					continue;
 221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Allocate system memory for optical mirror */
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->mirr = assert_malloc(pcam->optical->mirr,
 540              		.loc 1 222 0 is_stmt 1
 541 02d8 4820     		movs	r0, #72
 542 02da 4149     		ldr	r1, .L77
 543 02dc DF22     		movs	r2, #223
 544 02de 6568     		ldr	r5, [r4, #4]
 545              	.LVL41:
 546 02e0 B047     		blx	r6
 547              	.LVL42:
 548 02e2 6860     		str	r0, [r5, #4]
 549 02e4 10B1     		cbz	r0, .L37
 550              		.loc 1 222 0 is_stmt 0 discriminator 1
 551 02e6 6568     		ldr	r5, [r4, #4]
 552 02e8 6868     		ldr	r0, [r5, #4]
 553 02ea 03E0     		b	.L38
 554              	.L37:
 555              		.loc 1 222 0 discriminator 2
 556 02ec 3C48     		ldr	r0, .L77
 557 02ee DF21     		movs	r1, #223
 558 02f0 3C4B     		ldr	r3, .L77+4
 559 02f2 9847     		blx	r3
 560              	.LVL43:
 561              	.L38:
 223:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(actuator_t));
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				actuator_t *mirr = (actuator_t *)pcam->optical->mirr;
 562              		.loc 1 224 0 is_stmt 1 discriminator 4
 563 02f4 6368     		ldr	r3, [r4, #4]
 225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Assign parameters for mirror */
 227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->cam_info = pcam->info;
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->type = ACTUATOR_MIRROR;
 229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->hall_i2c = I2C_CH12 + ch;
 564              		.loc 1 229 0 discriminator 4
 565 02f6 09F10B09 		add	r9, r9, #11
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 															sizeof(actuator_t));
 566              		.loc 1 222 0 discriminator 4
 567 02fa 6860     		str	r0, [r5, #4]
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 568              		.loc 1 224 0 discriminator 4
 569 02fc 5D68     		ldr	r5, [r3, #4]
 570              	.LVL44:
 227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->type = ACTUATOR_MIRROR;
 571              		.loc 1 227 0 discriminator 4
 572 02fe 238D     		ldrh	r3, [r4, #40]
 573 0300 2B80     		strh	r3, [r5]	@ movhi
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->hall_i2c = I2C_CH12 + ch;
 574              		.loc 1 228 0 discriminator 4
 575 0302 0123     		movs	r3, #1
 576              		.loc 1 229 0 discriminator 4
 577 0304 85F80390 		strb	r9, [r5, #3]
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->hall_i2c = I2C_CH12 + ch;
 578              		.loc 1 228 0 discriminator 4
 579 0308 AB70     		strb	r3, [r5, #2]
 230:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->eeprom_i2c = I2C_CH0 + ch;
 580              		.loc 1 230 0 discriminator 4
 581 030a 2F71     		strb	r7, [r5, #4]
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->pwm = PWM1_CH1 + ch;
 582              		.loc 1 231 0 discriminator 4
 583 030c 85F805A0 		strb	r10, [r5, #5]
 232:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Attempt to create the event group. */
 234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->event = xEventGroupCreate();
 584              		.loc 1 234 0 discriminator 4
 585 0310 009B     		ldr	r3, [sp]
 586 0312 9847     		blx	r3
 587              	.LVL45:
 588 0314 A860     		str	r0, [r5, #8]
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->event);
 589              		.loc 1 235 0 discriminator 4
 590 0316 18B9     		cbnz	r0, .L39
 591              		.loc 1 235 0 is_stmt 0 discriminator 1
 592 0318 3148     		ldr	r0, .L77
 593 031a EB21     		movs	r1, #235
 594 031c 334B     		ldr	r3, .L77+12
 595 031e 9847     		blx	r3
 596              	.LVL46:
 597              	.L39:
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Create the semaphore to access settings */
 237:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->semaphore = xSemaphoreCreateMutex();
 598              		.loc 1 237 0 is_stmt 1
 599 0320 0120     		movs	r0, #1
 600 0322 C047     		blx	r8
 601              	.LVL47:
 602 0324 E860     		str	r0, [r5, #12]
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->semaphore);
 603              		.loc 1 238 0
 604 0326 18B9     		cbnz	r0, .L40
 605              		.loc 1 238 0 is_stmt 0 discriminator 1
 606 0328 2D48     		ldr	r0, .L77
 607 032a EE21     		movs	r1, #238
 608 032c 2F4B     		ldr	r3, .L77+12
 609 032e 9847     		blx	r3
 610              	.LVL48:
 611              	.L40:
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->pwm_semaphore = xSemaphoreCreateBinary();
 612              		.loc 1 239 0 is_stmt 1
 613 0330 0120     		movs	r0, #1
 614 0332 0021     		movs	r1, #0
 615 0334 0322     		movs	r2, #3
 616 0336 019B     		ldr	r3, [sp, #4]
 617 0338 9847     		blx	r3
 618              	.LVL49:
 619 033a E862     		str	r0, [r5, #44]
 240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				assert_param(mirr->pwm_semaphore);
 620              		.loc 1 240 0
 621 033c 18B9     		cbnz	r0, .L41
 622              		.loc 1 240 0 is_stmt 0 discriminator 1
 623 033e 2848     		ldr	r0, .L77
 624 0340 F021     		movs	r1, #240
 625 0342 2A4B     		ldr	r3, .L77+12
 626 0344 9847     		blx	r3
 627              	.LVL50:
 628              	.L41:
 241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 242:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 243:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* Reset status of mirror */
 244:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->is_initialized = FALSE;
 629              		.loc 1 244 0 is_stmt 1
 630 0346 0023     		movs	r3, #0
 631 0348 85F82830 		strb	r3, [r5, #40]
 245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				mirr->is_calibrated = FALSE;
 632              		.loc 1 245 0
 633 034c 85F82930 		strb	r3, [r5, #41]
 634              	.LVL51:
 635              	.L25:
 636              	.LBE14:
 246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 247:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Assign SyncIO channel */
 249:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pcam->sync = SG_CHANNEL_0 + ch;
 637              		.loc 1 249 0
 638 0350 84F82A70 		strb	r7, [r4, #42]
 639              	.LVL52:
 640              	.L21:
 641 0354 0BF1010B 		add	fp, fp, #1
 642              	.LVL53:
 643 0358 59E6     		b	.L2
 644              	.LVL54:
 645              	.L74:
 250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 251:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 252:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 253:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Initialize all camera power */
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_t power_en_gpio;
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.pin = GPIO_PIN(light_system->cam_power_en);
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.port = GPIO_PORT(light_system->cam_power_en);
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.direction = GPIO_DIR_OUT;
 646              		.loc 1 257 0
 647 035a 0124     		movs	r4, #1
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.port = GPIO_PORT(light_system->cam_power_en);
 648              		.loc 1 255 0
 649 035c 92F82D30 		ldrb	r3, [r2, #45]	@ zero_extendqisi2
 650 0360 03F00F02 		and	r2, r3, #15
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.direction = GPIO_DIR_OUT;
 651              		.loc 1 256 0
 652 0364 1B09     		lsrs	r3, r3, #4
 258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&power_en_gpio);
 653              		.loc 1 258 0
 654 0366 234E     		ldr	r6, .L77+20
 655 0368 02A8     		add	r0, sp, #8
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.port = GPIO_PORT(light_system->cam_power_en);
 656              		.loc 1 255 0
 657 036a 8DF80920 		strb	r2, [sp, #9]
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&power_en_gpio);
 260:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable power for actuators */
 262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	*((__IO uint32_t *)0x020000A8) |= 0x00000600;
 264:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 265:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_t af_enable;
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.port = GPIO_PORTC;
 658              		.loc 1 266 0
 659 036e 0227     		movs	r7, #2
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&power_en_gpio);
 660              		.loc 1 259 0
 661 0370 214D     		ldr	r5, .L77+24
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	power_en_gpio.direction = GPIO_DIR_OUT;
 662              		.loc 1 256 0
 663 0372 8DF80830 		strb	r3, [sp, #8]
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&power_en_gpio);
 664              		.loc 1 257 0
 665 0376 8DF80A40 		strb	r4, [sp, #10]
 258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&power_en_gpio);
 666              		.loc 1 258 0
 667 037a B047     		blx	r6
 668              	.LVL55:
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 669              		.loc 1 259 0
 670 037c 02A8     		add	r0, sp, #8
 671 037e A847     		blx	r5
 672              	.LVL56:
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.direction = GPIO_DIR_OUT;
 268:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable piezo power regulator 1*/
 269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.pin = GPIO_PIN_12;
 673              		.loc 1 269 0
 674 0380 0C23     		movs	r3, #12
 270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 675              		.loc 1 270 0
 676 0382 0DEB0300 		add	r0, sp, r3
 269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 677              		.loc 1 269 0
 678 0386 8DF80D30 		strb	r3, [sp, #13]
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.direction = GPIO_DIR_OUT;
 679              		.loc 1 266 0
 680 038a 8DF80C70 		strb	r7, [sp, #12]
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable piezo power regulator 1*/
 681              		.loc 1 267 0
 682 038e 8DF80E40 		strb	r4, [sp, #14]
 683              		.loc 1 270 0
 684 0392 B047     		blx	r6
 685              	.LVL57:
 271:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 686              		.loc 1 271 0
 687 0394 03A8     		add	r0, sp, #12
 688 0396 A847     		blx	r5
 689              	.LVL58:
 272:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Enable piezo power regulator 2*/
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	af_enable.pin = GPIO_PIN_13;
 690              		.loc 1 273 0
 691 0398 0D23     		movs	r3, #13
 274:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 692              		.loc 1 274 0
 693 039a 03A8     		add	r0, sp, #12
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&af_enable);
 694              		.loc 1 273 0
 695 039c 8DF80D30 		strb	r3, [sp, #13]
 696              		.loc 1 274 0
 697 03a0 B047     		blx	r6
 698              	.LVL59:
 275:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_set_high(&af_enable);
 699              		.loc 1 275 0
 700 03a2 03A8     		add	r0, sp, #12
 701 03a4 A847     		blx	r5
 702              	.LVL60:
 276:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM0_CH5, PWM_PIN_POS);
 703              		.loc 1 277 0
 704 03a6 0420     		movs	r0, #4
 705 03a8 0021     		movs	r1, #0
 706 03aa 144D     		ldr	r5, .L77+28
 707 03ac A847     		blx	r5
 708              	.LVL61:
 278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM0_CH5, PWM_PIN_NEG);
 709              		.loc 1 278 0
 710 03ae 0420     		movs	r0, #4
 711 03b0 2146     		mov	r1, r4
 712 03b2 A847     		blx	r5
 713              	.LVL62:
 714              	.LBB15:
 715              	.LBB16:
 279:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init interrupt */
 280:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_init();
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 283:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_camera_task_create(void)
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	BaseType_t ret = pdTRUE;
 286:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Add task to os kernel */
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (uint8_t i = 0; i < TASK_NUM; i++)
 289:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 290:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].idx = i;
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].state = TASK_INITIALIZE;
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].time_sleep = task_list[i].time_sleep;
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret &= xTaskCreate(
 294:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].task,		/* task function */
 295:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].name,		/* task name */
 296:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].stacksize,	/* stack size */
 297:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							&task_handler[i],		/* passing parameters */
 298:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].prio,		/* task priority */
 299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							&task_handler[i].handle	/* handle */
 300:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							);
 301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Assert the creation task return to make sure all of
 302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			camera task was created */
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		assert_param(pdPASS == ret);
 304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 306:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Camera task creation */
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	task_cam_create();
 308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Actuator task creation for LENS & MIRROR piezo control */
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	task_actuator_create();
 310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 311:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 312:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_system_init(void)
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_t info;
 316:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t i, j, idx;
 317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Scan module table to detect Camera module self manage and sub ASIC's
 318:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	 * camera module, the camera table size depend on ASIC */
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cam_tbl_size = 0;
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_bitmask_all = 0;
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter = 0;
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic1 = 0;
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic2 = 0;
 324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     light_system->asic1_read_event = xEventGroupCreate();
 326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic2_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_6);
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic3_intr = GPIO_PORT_PIN(GPIO_PORTA, GPIO_PIN_7);
 328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cb_asic2_intr = asic2_intr_handler;
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cb_asic3_intr = asic3_intr_handler;
 330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init input interrupt signal for ASIC2 & ASIC3 */
 331:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_t intr;
 332:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_exti_t gpio_intr;
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.int_type = GPIO_EXTI_RISING_EDGE;
 334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.direction = GPIO_DIR_IN;
 335:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.port = GPIO_PORTA;
 336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* To be trigged from asic 2*/
 337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.pin = light_system->asic2_intr;
 338:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.pin = light_system->asic2_intr;
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.irq_handler = light_system->cb_asic2_intr;
 340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* To be trigged from asic 3*/
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.pin = light_system->asic3_intr;
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.pin = light_system->asic3_intr;
 345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	gpio_intr.irq_handler = light_system->cb_asic3_intr;
 346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 347:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_enable_exti(&gpio_intr);
 348:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Create event group for interrupt signal*/
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_sync_event = xEventGroupCreate();
 350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic2_sync_sem = xSemaphoreCreateMutex();
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_asic3_sync_sem = xSemaphoreCreateMutex();
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 353:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Get camera module table size */
 354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < CAMERA_MAX(); i++)
 355:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (lookup_tbl[i] != 0x0000)
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->cam_tbl_size++;
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 360:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Allocate memory for Light camera object */
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cam_tbl = assert_malloc(light_system->cam_tbl,
 362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	j = 0;
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < CAMERA_MAX(); i++)
 365:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		info.ident = lookup_tbl[i];
 367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (info.ident != 0x0000)
 368:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->cam_tbl[j++].info.ident = info.ident;
 370:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 371:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Update camera module bit-mask */
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			idx = module_to_idx(info.module);
 373:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->m_bitmask_all |= (1 << idx);
 375:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 376:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (info.sub_asic == 0)
 378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter |= (1 << idx);
 379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC1 */
 380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else if (info.sub_asic == 1)
 381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic1 |= (1 << idx);
 382:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC2 */
 383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else if (info.sub_asic == 2)
 384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic2 |= (1 << idx);
 385:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 386:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Allocate memory for Light settings object */
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings = assert_malloc(light_system->settings,
 390:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 392:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init the log ctrl value */
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->log_ctrl = LOG_VERBOSE_DEFAULT;
 394:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 395:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init value of ASIC Light Protocol */
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[0] = ASIC_FW_VERSION_MAJOR;
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[1] = ASIC_FW_VERSION_MINOR;
 398:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 399:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init value of Firmware Version */
 400:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* uint32_t tmp[2] = {ASIC_FW_VERSION_MAJOR, ASIC_FW_VERSION_MINOR}; */
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	strcpy((char *)light_system->settings->fw_version, ASIC_FW_VERSION);
 402:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 403:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Init value of Calib Version */
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[0] = ASIC_CALIB_VERSION_MAJOR;
 405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[1] = ASIC_CALIB_VERSION_MINOR;
 406:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->cam_power_en = GPIO_PORT_PIN(GPIO_PORTB, GPIO_PIN_0);
 408:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 409:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     /* Init values for auto-focus */
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->zoom_factor = 1.0f;
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->af_ctrl = assert_malloc(light_system->af_ctrl, sizeof(af_ctrl_t));
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 413:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 414:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 415:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /*
 416:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * Light main program
 417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void light_main(void)
 419:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 420:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Light camera control board initialization */
 421:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system_init();
 422:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Camera initialization */
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_camera_init();
 424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_camera_task_create();
 425:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Initialize command processing */
 426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     lcc_cmd_init();
 427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     /* Start the scheduler so our tasks start executing. */
 428:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskStartScheduler();
 429:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 430:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 431:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint32_t object_to_cam_bitmask(cam_typedef_t *pcam)
 432:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint32_t cam_bitmask = 0;
 434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(pcam != NULL)
 435:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		switch(pcam->info.grp)
 437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 438:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			case 0x0A:
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				cam_bitmask = 1 << (pcam->info.idx + 0);
 440:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 441:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			case 0x0B:
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				cam_bitmask = 1 << (pcam->info.idx + CAM_A_QUANTITY);
 443:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			case 0x0C:
 445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				cam_bitmask = 1 << (pcam->info.idx + CAM_A_QUANTITY +
 446:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                                     CAM_B_QUANTITY);
 447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 448:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 450:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return cam_bitmask;
 451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 452:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 453:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint8_t module_to_idx(uint8_t module)
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 455:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t idx = ARRAY_SIZE(modules_tbl);
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while ((--idx > 0) && (module != modules_tbl[idx]));
 457:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return idx;
 458:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 459:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 460:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint8_t idx_to_module(uint8_t idx)
 461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 462:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return modules_tbl[idx];
 463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 464:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 465:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_typedef_t *idx_to_object(uint8_t idx)
 466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 467:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 468:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (uint8_t i = 0; i < light_system->cam_tbl_size; i++)
 470:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		pcam = &light_system->cam_tbl[i];
 472:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pcam->info.module == modules_tbl[idx])
 473:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return pcam;
 474:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	SLOGF(SLOG_ERROR, "Cannot find this module");
 476:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return NULL;
 477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 478:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 479:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_typedef_t *chan_to_object(uint8_t ch)
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     cam_typedef_t *pcam;
 482:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     for (uint8_t i = 0; i < light_system->cam_tbl_size; i++)
 484:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     {
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         pcam = &light_system->cam_tbl[i];
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         if (pcam->info.ch == ch)
 487:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****             return pcam;
 488:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     }
 489:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     SLOGF(SLOG_ERROR, "Cannot find this module");
 490:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     return NULL;
 491:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 492:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 493:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
 494:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void asic2_intr_handler(void)
 495:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(light_system->wait_intr_stream & ASIC_2)
 497:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 498:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->wait_intr_stream &= ~ASIC_2;
 499:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(intr_sync_event,
 500:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								ASIC_2,
 501:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								NULL);
 502:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 503:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 504:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 505:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->asic_intr_queue_num.asic2_intr_num++;
 506:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(light_system->asic1_read_event,
 507:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							ASIC_READ_ASIC_2, NULL);
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 509:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 510:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 511:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 512:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void asic3_intr_handler(void)
 513:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 514:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(light_system->wait_intr_stream & ASIC_3)
 515:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->wait_intr_stream &= ~ASIC_3;
 517:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(intr_sync_event,
 518:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							ASIC_3,
 519:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							NULL);
 520:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 521:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 522:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 523:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		light_system->asic_intr_queue_num.asic3_intr_num++;
 524:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xEventGroupSetBitsFromISR(light_system->asic1_read_event,
 525:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							ASIC_READ_ASIC_3, NULL);
 526:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 528:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 529:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** EventBits_t wait_intr_signal(asic_id_t asic_id_msk, uint32_t timeout, uint8_t waitall)
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 531:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic2_is_used = FALSE;
 532:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t asic3_is_used = FALSE;
 533:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	EventBits_t ux_bits;
 534:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Reset interrupt mask */
 535:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->asic_intr_mask = 0;
 536:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk == 0)
 537:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 538:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_INFO, "Only capture on ASIC1 ");
 539:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return asic_id_msk;
 540:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 541:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_2)
 542:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 543:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Waiting for interrupt signal semaphore of aisc2 is released in 1s*/
 544:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(xSemaphoreTake(intr_asic2_sync_sem, 1000) != pdPASS)
 545:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 546:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Interrupt signal from ASIC2 is busy");
 547:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			asic2_is_used = TRUE;
 548:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 549:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 550:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Waiting for interrupt signal semaphore of aisc3 is released in 1s*/
 551:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_3)
 552:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(xSemaphoreTake(intr_asic3_sync_sem, 1000) != pdPASS)
 554:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 555:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Interrupt signal from ASIC3 is busy");
 556:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			asic3_is_used = TRUE;
 557:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 558:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(waitall && (asic2_is_used || asic3_is_used))
 560:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 561:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return FALSE;
 562:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 563:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Waiting for the interrupt Flags are updated in timeout ms*/
 564:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	ux_bits = xEventGroupWaitBits(
 565:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								intr_sync_event,
 566:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								asic_id_msk,
 567:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								pdTRUE,
 568:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								waitall ? pdTRUE : pdFALSE,
 569:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								timeout);
 570:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Release interrupt signal semaphore of asic2*/
 571:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_2)
 572:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_asic2_sync_sem);
 573:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Release interrupt signal semaphore of asic3*/
 574:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_id_msk & ASIC_3)
 575:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_asic3_sync_sem);
 576:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return ux_bits;
 577:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 578:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 579:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 580:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void send_intr_signal(void)
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 582:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskSuspendAll();
 583:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	unsigned int i = 533;
 584:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 585:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while(i)
 586:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i--;
 587:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_low(PWM0_CH4, PWM_PIN_POS);
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xTaskResumeAll();
 589:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 590:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 591:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void intr_init(void)
 592:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 593:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
 594:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.port = GPIO_PORTA;
 595:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.direction = GPIO_DIR_OUT;
 596:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr.pin = GPIO_PIN_8;
 597:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_gpio_init(&intr);
 598:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 599:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Create mutex to protect shared resource */
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_semaphore = xSemaphoreCreateMutex();
 716              		.loc 1 600 0
 717 03b4 124B     		ldr	r3, .L77+32
 718 03b6 2046     		mov	r0, r4
 719 03b8 9847     		blx	r3
 720              	.LVL63:
 721 03ba 124B     		ldr	r3, .L77+36
 722 03bc 1860     		str	r0, [r3]
 601:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 602:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if( intr_semaphore == NULL )
 723              		.loc 1 602 0
 724 03be 20B9     		cbnz	r0, .L43
 603:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 604:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "Failed to create mutex");
 725              		.loc 1 604 0
 726 03c0 1E20     		movs	r0, #30
 727 03c2 3946     		mov	r1, r7
 728 03c4 104A     		ldr	r2, .L77+40
 729 03c6 114B     		ldr	r3, .L77+44
 730 03c8 9847     		blx	r3
 731              	.LVL64:
 732              	.L43:
 733              	.LBB17:
 734              	.LBB18:
 605:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 606:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 607:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_queue_init(INTR_QUEUE_SIZE);
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 609:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 610:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void intr_signal(void)
 611:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (xSemaphoreTake(intr_semaphore, (TickType_t)10) == pdTRUE)
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 614:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t i = 5;
 615:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if(ASIC_NUM == ASIC1)
 616:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_gpio_set_high(&intr);
 617:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		while(i)
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			i--;
 619:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_gpio_set_low(&intr);
 620:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #else /* ASIC2 - 3 */
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* PWM_A_LENS[4]*/
 622:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 623:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		while(i)
 624:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			i--;
 625:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_low(PWM0_CH4, PWM_PIN_POS);
 626:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 627:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Release resource */
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreGive(intr_semaphore);
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 630:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 632:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void set_intr_pin(uint8_t data)
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(data)
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 636:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_low(PWM0_CH4, PWM_PIN_POS);
 638:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 639:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 640:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void disable_asic_sync_intr(uint8_t asic_mask)
 641:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 642:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 643:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 645:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 646:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_3)
 647:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 648:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 649:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 650:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 651:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void enable_asic_sync_intr(uint8_t asic_mask)
 652:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 653:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 654:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 655:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 656:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 657:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_3)
 658:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 659:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 660:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 661:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 662:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 663:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define POT_FULL_SCALE		10000
 664:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #define POT_SCALE_STEP		128
 665:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** typedef union
 666:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 667:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t data;
 668:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	struct
 669:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 670:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t res_low : 3;
 671:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t res_high : 4;
 672:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint8_t sign : 1;
 673:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	};
 674:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** } res_tolerance_t;
 675:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 676:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief pzt_voltage_config
 677:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will config the piezo suply voltage
 678:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @param
 679:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * 	pzt: Selct POT for PZT1 or PZT2
 680:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *	vol: voltage need to config
 681:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  *	write_eeprom: Select option to write the configuration to eeprom
 682:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @return: 0-fail / 1-success
 683:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 684:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint8_t pzt_voltage_config(pzt_pot_sel_t pzt, float vol, uint8_t write_eeprom)
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 686:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t reg = 0;
 688:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t r2_val = 0;
 689:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t actual_res = 0;
 690:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t i2c_addr;
 691:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	i2cm.init(I2C_CH10);
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "Invalid param %f", vol);
 696:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return ret;
 697:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 698:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(pzt == PZT_POT_1)
 699:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i2c_addr = 0x5F >> 1;
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i2c_addr = 0x59 >> 1;
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Calculate R2 */
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	r2_val = ((1.299 * 133000) / (vol - 1.299)) - 5900;
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (I2CM_ERROR_TRANSCEIVED == i2cm.read(I2C_CH10, BYTE_ADDR16, i2c_addr,
 705:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		0x0601, (uint8_t *)&reg))
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 707:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Calculate the actual full scale resistor */
 708:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		res_tolerance_t res_tol;
 709:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		res_tol.data = reg;
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actual_res = POT_FULL_SCALE + ((reg & 0x80 ? 1 : -1) *
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 712:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 713:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Write config value */
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		reg = (uint8_t)((POT_SCALE_STEP * r2_val) / actual_res);
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 716:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 717:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if(write_eeprom)
 719:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				reg = 0x00;
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8,
 722:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 723:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				{
 724:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					ret = 1;
 725:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					SLOGF(SLOG_INFO, "Write EEPROM POT DONE");
 726:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				}
 727:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 728:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 729:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				ret = 1;
 730:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_INFO, "Write POT DONE");
 731:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 732:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 733:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 734:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			ret = 0;
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Write I2C failed");
 736:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 737:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 738:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 739:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 740:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret = 0;
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "APOT1: reading timed out");
 742:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 743:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return ret;
 744:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 745:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 746:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 747:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_move_to_distance
 748:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will move a lens/VCM to a distance
 749:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 750:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_move_to_distance(cam_typedef_t *pcam, uint32_t distance,
 751:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 753:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 755:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 756:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (pcam == NULL)
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 758:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 759:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 761:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			vcm_t *vcm = pcam->optical->lens;
 763:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(vcm->semaphore, portMAX_DELAY);
 765:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 766:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 767:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->moving = TRUE;
 769:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 771:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 772:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 774:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 775:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 777:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 778:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_func = cb_func;
 779:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_DISTANCE;
 781:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 782:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 783:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 784:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 786:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 788:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 789:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 790:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 791:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 792:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 793:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			actuator_t *plens = (actuator_t *)pcam->optical->lens;
 794:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 795:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(plens->semaphore, portMAX_DELAY);
 796:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 797:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 798:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->moving = TRUE;
 800:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 802:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 803:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 805:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 806:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 808:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 809:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_func = cb_func;
 810:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 811:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = OPT_EVENT_FOCUS_DISTANCE;
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 814:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 815:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 816:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 817:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 819:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 820:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 821:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 822:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 823:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 824:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
 825:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 826:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 827:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 828:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 829:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_move_lens_to_position
 830:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will move a lens/VCM to a position
 831:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 832:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_move_lens_to_position(cam_typedef_t *pcam, uint16_t position,
 833:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                     uint16_t tolerance,
 834:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 836:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 838:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (pcam == NULL)
 840:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 841:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 842:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 844:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			vcm_t *vcm = pcam->optical->lens;
 846:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(vcm->semaphore, portMAX_DELAY);
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 849:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 850:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->moving = TRUE;
 852:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 857:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 858:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				pcam->optical->settings->lens_position_tolerance = tolerance;
 859:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 861:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 862:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_func = cb_func;
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_POSITION;
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 866:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 867:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 868:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 869:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 870:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 871:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 872:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 873:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 874:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 875:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 876:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 877:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			actuator_t *plens = (actuator_t *)pcam->optical->lens;
 878:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 879:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(plens->semaphore, portMAX_DELAY);
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 881:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 882:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->moving = TRUE;
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 886:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 889:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 890:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                 pcam->optical->settings->lens_position_tolerance = tolerance;
 891:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 893:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_func = cb_func;
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 896:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = OPT_EVENT_LENS_POSITION;
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(plens->queue, &p_cmd, (TickType_t)10);
 899:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 900:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 902:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 907:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 908:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 909:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
 910:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 911:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 912:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 913:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 914:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_move_mirr_to_position
 915:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will move a mirror to a position
 916:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 917:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_move_mirr_to_position(cam_typedef_t *pcam, uint16_t position,
 918:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 920:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 922:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if ((pcam == NULL) || (pcam->info.grp == GRP_A))
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 925:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 926:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
 928:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreTake(pmirr->semaphore, portMAX_DELAY);
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 931:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 932:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* set moving status */
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->moving = TRUE;
 934:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
 936:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 937:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_position,
 939:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					&position, sizeof(uint16_t));
 940:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after writing data */
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pcam->optical->semaphore);
 942:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 943:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_func = cb_func;
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
 945:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			p_cmd.event = OPT_EVENT_MIRROR_POSITION;
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pmirr->queue, &p_cmd, (TickType_t)10);
 948:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 949:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
 950:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 951:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 952:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
 953:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
 954:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
 955:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 956:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 957:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
 958:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 959:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 960:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 961:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
 962:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_nudge_lens
 963:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will nudges a lens/VCM in the desired direction
 964:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
 965:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_nudge_lens(cam_typedef_t *pcam, cam_dir_t direction,
 966:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint16_t multiplier, void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 968:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 969:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
 970:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if ((pcam == NULL) ||
 972:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 973:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		(direction != CAM_DIR_EXTEND_WIDE)))
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 975:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 976:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint32_t lens_nudge = (multiplier << 8) | direction;
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 979:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 980:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			vcm_t *vcm = pcam->optical->lens;
 981:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(vcm->semaphore, portMAX_DELAY);
 983:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 984:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 985:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->moving = TRUE;
 987:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
 989:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 990:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
 991:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
 992:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 993:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
 994:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 995:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_func = cb_func;
 996:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_NUDGE;
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 999:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1000:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
1001:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
1002:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
1003:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(vcm->semaphore);
1004:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
1005:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1007:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1008:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
1009:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1010:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			actuator_t *plens = (actuator_t *)pcam->optical->lens;
1011:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(plens->semaphore, portMAX_DELAY);
1013:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
1014:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
1015:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* set moving status */
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->moving = TRUE;
1017:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
1019:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
1020:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
1021:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
1022:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
1023:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(pcam->optical->semaphore);
1024:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_func = cb_func;
1026:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
1027:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = OPT_EVENT_LENS_NUDGE;
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
1030:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1031:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			else
1032:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
1033:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
1034:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xSemaphoreGive(plens->semaphore);
1035:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
1036:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
1037:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
1038:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1039:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1040:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
1041:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1042:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1043:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1044:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** /**
1045:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * @brief cam_nudge_mirr
1046:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  * This API will nudges a mirror in the desired direction
1047:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****  */
1048:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** cam_return_t cam_nudge_mirr(cam_typedef_t *pcam, cam_dir_t direction,
1049:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint16_t multiplier, void (*cb_func)(void *), void *cb_param, uint16_t cmd_tid)
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
1051:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
1052:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_cmd.cmd_tid = cmd_tid;
1053:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if ((pcam == NULL) || (pcam->info.grp == GRP_A) ||
1055:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
1056:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		(direction != CAM_DIR_EXTEND_WIDE)))
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
1058:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
1059:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		uint32_t mirr_nudge = (multiplier << 8) | direction;
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xSemaphoreTake(pmirr->semaphore, portMAX_DELAY);
1064:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
1065:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1066:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* set moving status */
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->moving = TRUE;
1068:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
1070:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
1071:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreTake(pcam->optical->semaphore, portMAX_DELAY);
1072:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_nudge, &mirr_nudge, 3);
1073:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after writing data */
1074:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pcam->optical->semaphore);
1075:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1076:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_func = cb_func;
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			p_cmd.event = OPT_EVENT_MIRROR_NUDGE;
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
1080:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1081:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		else
1082:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1083:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
1084:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xSemaphoreGive(pmirr->semaphore);
1085:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
1086:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
1087:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1088:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1089:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_OK;
1090:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1091:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1092:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1093:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** static void intr_queue_init(uint8_t queue_size)
1094:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
1095:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Create a queue to store intr_src information */
1096:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_queue = xQueueCreate(queue_size, sizeof(intr_src_t));
 735              		.loc 1 1096 0
 736 03ca 0421     		movs	r1, #4
 737 03cc 0022     		movs	r2, #0
 738 03ce 084B     		ldr	r3, .L77+16
 739 03d0 1420     		movs	r0, #20
 740 03d2 9847     		blx	r3
 741              	.LVL65:
 742 03d4 0E4B     		ldr	r3, .L77+48
 743 03d6 1860     		str	r0, [r3]
 744              	.LBE18:
 745              	.LBE17:
 746              	.LBE16:
 747              	.LBE15:
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 748              		.loc 1 281 0
 749 03d8 05B0     		add	sp, sp, #20
 750              	.LCFI2:
 751              		.cfi_def_cfa_offset 36
 752              		@ sp needed
 753 03da BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 754              	.LVL66:
 755              	.L78:
 756 03de 00BF     		.align	2
 757              	.L77:
 758 03e0 00000000 		.word	.LANCHOR1
 759 03e4 00000000 		.word	malloc_failed
 760 03e8 00000000 		.word	xEventGroupCreate
 761 03ec 00000000 		.word	assert_failed
 762 03f0 00000000 		.word	xQueueGenericCreate
 763 03f4 00000000 		.word	hal_gpio_init
 764 03f8 00000000 		.word	hal_gpio_set_high
 765 03fc 00000000 		.word	hal_pwm_set_high
 766 0400 00000000 		.word	xQueueCreateMutex
 767 0404 00000000 		.word	.LANCHOR2
 768 0408 00000000 		.word	.LC0
 769 040c 00000000 		.word	slogf
 770 0410 00000000 		.word	.LANCHOR3
 771              		.cfi_endproc
 772              	.LFE2:
 774              		.section	.text.light_camera_task_create,"ax",%progbits
 775              		.align	1
 776              		.global	light_camera_task_create
 777              		.thumb
 778              		.thumb_func
 780              	light_camera_task_create:
 781              	.LFB3:
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	BaseType_t ret = pdTRUE;
 782              		.loc 1 284 0
 783              		.cfi_startproc
 784              		@ args = 0, pretend = 0, frame = 0
 785              		@ frame_needed = 0, uses_anonymous_args = 0
 786              	.LVL67:
 787 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 788              	.LCFI3:
 789              		.cfi_def_cfa_offset 20
 790              		.cfi_offset 4, -20
 791              		.cfi_offset 5, -16
 792              		.cfi_offset 6, -12
 793              		.cfi_offset 7, -8
 794              		.cfi_offset 14, -4
 795 0002 184D     		ldr	r5, .L86
 796 0004 85B0     		sub	sp, sp, #20
 797              	.LCFI4:
 798              		.cfi_def_cfa_offset 40
 799 0006 184C     		ldr	r4, .L86+4
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	BaseType_t ret = pdTRUE;
 800              		.loc 1 284 0
 801 0008 0026     		movs	r6, #0
 285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 802              		.loc 1 285 0
 803 000a 0127     		movs	r7, #1
 804              	.LVL68:
 805              	.L81:
 806              	.LBB19:
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].time_sleep = task_list[i].time_sleep;
 807              		.loc 1 291 0
 808 000c 0023     		movs	r3, #0
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret &= xTaskCreate(
 809              		.loc 1 292 0
 810 000e 2A88     		ldrh	r2, [r5]
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].task,		/* task function */
 811              		.loc 1 293 0
 812 0010 15F8021C 		ldrb	r1, [r5, #-2]	@ zero_extendqisi2
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		ret &= xTaskCreate(
 813              		.loc 1 292 0
 814 0014 A280     		strh	r2, [r4, #4]	@ movhi
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		task_handler[i].time_sleep = task_list[i].time_sleep;
 815              		.loc 1 291 0
 816 0016 04F8043C 		strb	r3, [r4, #-4]
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							task_list[i].task,		/* task function */
 817              		.loc 1 293 0
 818 001a 35F8042C 		ldrh	r2, [r5, #-4]
 819 001e 8DE81200 		stmia	sp, {r1, r4}
 820 0022 0293     		str	r3, [sp, #8]
 821 0024 0393     		str	r3, [sp, #12]
 822 0026 231F     		subs	r3, r4, #4
 823 0028 55F80C0C 		ldr	r0, [r5, #-12]
 824 002c 55F8081C 		ldr	r1, [r5, #-8]
 825 0030 DFF848C0 		ldr	ip, .L86+24
 826 0034 04F8036C 		strb	r6, [r4, #-3]
 827 0038 E047     		blx	ip
 828              	.LVL69:
 829 003a 0740     		ands	r7, r7, r0
 830              	.LVL70:
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 831              		.loc 1 303 0
 832 003c 012F     		cmp	r7, #1
 833 003e 04D0     		beq	.L80
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 834              		.loc 1 303 0 is_stmt 0 discriminator 1
 835 0040 0A48     		ldr	r0, .L86+8
 836 0042 40F22F11 		movw	r1, #303
 837 0046 0A4B     		ldr	r3, .L86+12
 838 0048 9847     		blx	r3
 839              	.LVL71:
 840              	.L80:
 841 004a 0136     		adds	r6, r6, #1
 842              	.LVL72:
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 843              		.loc 1 288 0 is_stmt 1 discriminator 2
 844 004c 052E     		cmp	r6, #5
 845 004e 05F11005 		add	r5, r5, #16
 846 0052 04F10C04 		add	r4, r4, #12
 847 0056 D9D1     		bne	.L81
 848              	.LBE19:
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Actuator task creation for LENS & MIRROR piezo control */
 849              		.loc 1 307 0
 850 0058 064B     		ldr	r3, .L86+16
 851 005a 9847     		blx	r3
 852              	.LVL73:
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 853              		.loc 1 309 0
 854 005c 064B     		ldr	r3, .L86+20
 855 005e 9847     		blx	r3
 856              	.LVL74:
 311:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 857              		.loc 1 311 0
 858 0060 05B0     		add	sp, sp, #20
 859              	.LCFI5:
 860              		.cfi_def_cfa_offset 20
 861              		@ sp needed
 862 0062 F0BD     		pop	{r4, r5, r6, r7, pc}
 863              	.LVL75:
 864              	.L87:
 865              		.align	2
 866              	.L86:
 867 0064 0C000000 		.word	task_list+12
 868 0068 04000000 		.word	task_handler+4
 869 006c 00000000 		.word	.LANCHOR4
 870 0070 00000000 		.word	assert_failed
 871 0074 00000000 		.word	task_cam_create
 872 0078 00000000 		.word	task_actuator_create
 873 007c 00000000 		.word	xTaskGenericCreate
 874              		.cfi_endproc
 875              	.LFE3:
 877              		.section	.text.object_to_cam_bitmask,"ax",%progbits
 878              		.align	1
 879              		.global	object_to_cam_bitmask
 880              		.thumb
 881              		.thumb_func
 883              	object_to_cam_bitmask:
 884              	.LFB6:
 432:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint32_t cam_bitmask = 0;
 885              		.loc 1 432 0
 886              		.cfi_startproc
 887              		@ args = 0, pretend = 0, frame = 0
 888              		@ frame_needed = 0, uses_anonymous_args = 0
 889              		@ link register save eliminated.
 890              	.LVL76:
 434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 891              		.loc 1 434 0
 892 0000 B0B1     		cbz	r0, .L89
 436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 893              		.loc 1 436 0
 894 0002 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 895 0006 1A09     		lsrs	r2, r3, #4
 896 0008 0B2A     		cmp	r2, #11
 897 000a 06D0     		beq	.L90
 898 000c 0C2A     		cmp	r2, #12
 899 000e 08D0     		beq	.L91
 900 0010 0A2A     		cmp	r2, #10
 901 0012 0CD1     		bne	.L95
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 902              		.loc 1 439 0
 903 0014 03F00F03 		and	r3, r3, #15
 904 0018 06E0     		b	.L96
 905              	.L90:
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				break;
 906              		.loc 1 442 0
 907 001a 03F00F03 		and	r3, r3, #15
 908 001e 0533     		adds	r3, r3, #5
 909 0020 02E0     		b	.L96
 910              	.L91:
 445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****                                     CAM_B_QUANTITY);
 911              		.loc 1 445 0
 912 0022 03F00F03 		and	r3, r3, #15
 913 0026 0A33     		adds	r3, r3, #10
 914              	.L96:
 915 0028 0120     		movs	r0, #1
 916              	.LVL77:
 917 002a 9840     		lsls	r0, r0, r3
 918              	.LVL78:
 447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 919              		.loc 1 447 0
 920 002c 7047     		bx	lr
 921              	.LVL79:
 922              	.L95:
 433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(pcam != NULL)
 923              		.loc 1 433 0
 924 002e 0020     		movs	r0, #0
 925              	.LVL80:
 926              	.L89:
 451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 927              		.loc 1 451 0
 928 0030 7047     		bx	lr
 929              		.cfi_endproc
 930              	.LFE6:
 932              		.section	.text.module_to_idx,"ax",%progbits
 933              		.align	1
 934              		.global	module_to_idx
 935              		.thumb
 936              		.thumb_func
 938              	module_to_idx:
 939              	.LFB7:
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t idx = ARRAY_SIZE(modules_tbl);
 940              		.loc 1 454 0
 941              		.cfi_startproc
 942              		@ args = 0, pretend = 0, frame = 0
 943              		@ frame_needed = 0, uses_anonymous_args = 0
 944              		@ link register save eliminated.
 945              	.LVL81:
 946 0000 054A     		ldr	r2, .L105
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t idx = ARRAY_SIZE(modules_tbl);
 947              		.loc 1 454 0
 948 0002 0146     		mov	r1, r0
 455:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while ((--idx > 0) && (module != modules_tbl[idx]));
 949              		.loc 1 455 0
 950 0004 1120     		movs	r0, #17
 951              	.LVL82:
 952              	.L99:
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return idx;
 953              		.loc 1 456 0 discriminator 2
 954 0006 431E     		subs	r3, r0, #1
 955              	.LVL83:
 956 0008 13F0FF00 		ands	r0, r3, #255
 957 000c 03D0     		beq	.L98
 958              	.LVL84:
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return idx;
 959              		.loc 1 456 0 is_stmt 0 discriminator 1
 960 000e 12F8013D 		ldrb	r3, [r2, #-1]!	@ zero_extendqisi2
 961 0012 8B42     		cmp	r3, r1
 962 0014 F7D1     		bne	.L99
 963              	.LVL85:
 964              	.L98:
 458:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 965              		.loc 1 458 0 is_stmt 1
 966 0016 7047     		bx	lr
 967              	.L106:
 968              		.align	2
 969              	.L105:
 970 0018 11000000 		.word	.LANCHOR5+17
 971              		.cfi_endproc
 972              	.LFE7:
 974              		.section	.text.light_system_init,"ax",%progbits
 975              		.align	1
 976              		.global	light_system_init
 977              		.thumb
 978              		.thumb_func
 980              	light_system_init:
 981              	.LFB4:
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_t info;
 982              		.loc 1 314 0
 983              		.cfi_startproc
 984              		@ args = 0, pretend = 0, frame = 16
 985              		@ frame_needed = 0, uses_anonymous_args = 0
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_bitmask_all = 0;
 986              		.loc 1 319 0
 987 0000 0020     		movs	r0, #0
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_t info;
 988              		.loc 1 314 0
 989 0002 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 990              	.LCFI6:
 991              		.cfi_def_cfa_offset 36
 992              		.cfi_offset 4, -36
 993              		.cfi_offset 5, -32
 994              		.cfi_offset 6, -28
 995              		.cfi_offset 7, -24
 996              		.cfi_offset 8, -20
 997              		.cfi_offset 9, -16
 998              		.cfi_offset 10, -12
 999              		.cfi_offset 11, -8
 1000              		.cfi_offset 14, -4
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
 1001              		.loc 1 323 0
 1002 0006 0346     		mov	r3, r0
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_t info;
 1003              		.loc 1 314 0
 1004 0008 85B0     		sub	sp, sp, #20
 1005              	.LCFI7:
 1006              		.cfi_def_cfa_offset 56
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_bitmask_all = 0;
 1007              		.loc 1 319 0
 1008 000a 494C     		ldr	r4, .L127
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter = 0;
 1009              		.loc 1 320 0
 1010 000c 6061     		str	r0, [r4, #20]
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic1 = 0;
 1011              		.loc 1 321 0
 1012 000e A061     		str	r0, [r4, #24]
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->m_filter_asic2 = 0;
 1013              		.loc 1 322 0
 1014 0010 E061     		str	r0, [r4, #28]
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
 1015              		.loc 1 323 0
 1016 0012 2062     		str	r0, [r4, #32]
 1017              	.LVL86:
 1018              	.L109:
 356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			light_system->cam_tbl_size++;
 1019              		.loc 1 356 0
 1020 0014 474F     		ldr	r7, .L127+4
 1021 0016 37F81320 		ldrh	r2, [r7, r3, lsl #1]
 1022 001a 0197     		str	r7, [sp, #4]
 1023 001c 0AB1     		cbz	r2, .L108
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1024              		.loc 1 357 0
 1025 001e 0130     		adds	r0, r0, #1
 1026 0020 C0B2     		uxtb	r0, r0
 1027              	.L108:
 1028              	.LVL87:
 1029 0022 0133     		adds	r3, r3, #1
 1030              	.LVL88:
 354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1031              		.loc 1 354 0 discriminator 2
 1032 0024 102B     		cmp	r3, #16
 1033 0026 F5D1     		bne	.L109
 1034 0028 84F82A00 		strb	r0, [r4, #42]
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1035              		.loc 1 361 0
 1036 002c C0EBC000 		rsb	r0, r0, r0, lsl #3
 1037 0030 414D     		ldr	r5, .L127+8
 1038 0032 4FF4B572 		mov	r2, #362
 1039 0036 C000     		lsls	r0, r0, #3
 1040 0038 4049     		ldr	r1, .L127+12
 1041 003a A846     		mov	r8, r5
 1042 003c A847     		blx	r5
 1043              	.LVL89:
 1044 003e 2060     		str	r0, [r4]
 1045 0040 20B9     		cbnz	r0, .L117
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1046              		.loc 1 361 0 is_stmt 0 discriminator 2
 1047 0042 3E48     		ldr	r0, .L127+12
 1048 0044 4FF4B571 		mov	r1, #362
 1049 0048 3D4B     		ldr	r3, .L127+16
 1050 004a 9847     		blx	r3
 1051              	.LVL90:
 1052              	.L117:
 1053 004c 04F11801 		add	r1, r4, #24
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1054              		.loc 1 361 0
 1055 0050 4FF00009 		mov	r9, #0
 1056 0054 6769     		ldr	r7, [r4, #20]
 1057 0056 0646     		mov	r6, r0
 1058 0058 91E80608 		ldmia	r1, {r1, r2, fp}
 363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for (i = 0; i < CAMERA_MAX(); i++)
 1059              		.loc 1 363 0 is_stmt 1
 1060 005c 4B46     		mov	r3, r9
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 							sizeof(cam_typedef_t)*light_system->cam_tbl_size);
 1061              		.loc 1 361 0
 1062 005e 2060     		str	r0, [r4]
 1063              	.LVL91:
 1064              	.L114:
 366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (info.ident != 0x0000)
 1065              		.loc 1 366 0
 1066 0060 0198     		ldr	r0, [sp, #4]
 1067 0062 30F81950 		ldrh	r5, [r0, r9, lsl #1]
 367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 1068              		.loc 1 367 0
 1069 0066 1DB3     		cbz	r5, .L118
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1070              		.loc 1 369 0
 1071 0068 03F1010A 		add	r10, r3, #1
 1072 006c 1BB2     		sxth	r3, r3
 1073              	.LVL92:
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 1074              		.loc 1 372 0
 1075 006e 280A     		lsrs	r0, r5, #8
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1076              		.loc 1 369 0
 1077 0070 C3EBC303 		rsb	r3, r3, r3, lsl #3
 1078 0074 0391     		str	r1, [sp, #12]
 1079 0076 5FFA8AFA 		uxtb	r10, r10
 1080              	.LVL93:
 1081 007a 06EBC303 		add	r3, r6, r3, lsl #3
 1082 007e 0292     		str	r2, [sp, #8]
 1083 0080 1D85     		strh	r5, [r3, #40]	@ movhi
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by this ASIC */
 1084              		.loc 1 372 0
 1085 0082 304B     		ldr	r3, .L127+20
 1086 0084 9847     		blx	r3
 1087              	.LVL94:
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1088              		.loc 1 374 0
 1089 0086 0123     		movs	r3, #1
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter |= (1 << idx);
 1090              		.loc 1 377 0
 1091 0088 15F0F005 		ands	r5, r5, #240
 1092 008c 029A     		ldr	r2, [sp, #8]
 1093 008e 0399     		ldr	r1, [sp, #12]
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1094              		.loc 1 374 0
 1095 0090 03FA00F3 		lsl	r3, r3, r0
 1096 0094 47EA0307 		orr	r7, r7, r3
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter |= (1 << idx);
 1097              		.loc 1 377 0
 1098 0098 01D1     		bne	.L112
 378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC1 */
 1099              		.loc 1 378 0
 1100 009a 1943     		orrs	r1, r1, r3
 1101 009c 09E0     		b	.L111
 1102              	.L112:
 380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic1 |= (1 << idx);
 1103              		.loc 1 380 0
 1104 009e 102D     		cmp	r5, #16
 1105 00a0 01D1     		bne	.L113
 381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* Bitmask for all camera manage by sub ASIC2 */
 1106              		.loc 1 381 0
 1107 00a2 1A43     		orrs	r2, r2, r3
 1108 00a4 05E0     		b	.L111
 1109              	.L113:
 383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				light_system->m_filter_asic2 |= (1 << idx);
 1110              		.loc 1 383 0
 1111 00a6 202D     		cmp	r5, #32
 1112 00a8 03D1     		bne	.L111
 384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 1113              		.loc 1 384 0
 1114 00aa 4BEA030B 		orr	fp, fp, r3
 1115 00ae 00E0     		b	.L111
 1116              	.LVL95:
 1117              	.L118:
 1118 00b0 9A46     		mov	r10, r3
 1119              	.LVL96:
 1120              	.L111:
 1121 00b2 09F10109 		add	r9, r9, #1
 1122              	.LVL97:
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1123              		.loc 1 364 0 discriminator 2
 1124 00b6 B9F1100F 		cmp	r9, #16
 1125 00ba 01D0     		beq	.L126
 1126 00bc 5346     		mov	r3, r10
 1127 00be CFE7     		b	.L114
 1128              	.L126:
 1129 00c0 A161     		str	r1, [r4, #24]
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 1130              		.loc 1 389 0
 1131 00c2 A820     		movs	r0, #168
 1132 00c4 E261     		str	r2, [r4, #28]
 1133 00c6 4FF4C372 		mov	r2, #390
 1134 00ca 1C49     		ldr	r1, .L127+12
 1135 00cc 6761     		str	r7, [r4, #20]
 1136 00ce C4F820B0 		str	fp, [r4, #32]
 1137 00d2 C047     		blx	r8
 1138              	.LVL98:
 1139 00d4 A060     		str	r0, [r4, #8]
 1140 00d6 20B9     		cbnz	r0, .L115
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 1141              		.loc 1 389 0 is_stmt 0 discriminator 2
 1142 00d8 1848     		ldr	r0, .L127+12
 1143 00da 4FF4C371 		mov	r1, #390
 1144 00de 184B     		ldr	r3, .L127+16
 1145 00e0 9847     		blx	r3
 1146              	.LVL99:
 1147              	.L115:
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1148              		.loc 1 393 0 is_stmt 1 discriminator 4
 1149 00e2 1F23     		movs	r3, #31
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[1] = ASIC_FW_VERSION_MINOR;
 1150              		.loc 1 396 0 discriminator 4
 1151 00e4 0126     		movs	r6, #1
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1152              		.loc 1 397 0 discriminator 4
 1153 00e6 0025     		movs	r5, #0
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 								sizeof(ccb_data_t));
 1154              		.loc 1 389 0 discriminator 4
 1155 00e8 A060     		str	r0, [r4, #8]
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1156              		.loc 1 393 0 discriminator 4
 1157 00ea 8376     		strb	r3, [r0, #26]
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1158              		.loc 1 401 0 discriminator 4
 1159 00ec 1649     		ldr	r1, .L127+24
 1160 00ee 174B     		ldr	r3, .L127+28
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_protocol_version[1] = ASIC_FW_VERSION_MINOR;
 1161              		.loc 1 396 0 discriminator 4
 1162 00f0 0672     		strb	r6, [r0, #8]
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1163              		.loc 1 397 0 discriminator 4
 1164 00f2 4572     		strb	r5, [r0, #9]
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1165              		.loc 1 401 0 discriminator 4
 1166 00f4 9847     		blx	r3
 1167              	.LVL100:
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1168              		.loc 1 407 0 discriminator 4
 1169 00f6 1022     		movs	r2, #16
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[1] = ASIC_CALIB_VERSION_MINOR;
 1170              		.loc 1 404 0 discriminator 4
 1171 00f8 A368     		ldr	r3, [r4, #8]
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1172              		.loc 1 411 0 discriminator 4
 1173 00fa 0420     		movs	r0, #4
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->settings->light_calib_version[1] = ASIC_CALIB_VERSION_MINOR;
 1174              		.loc 1 404 0 discriminator 4
 1175 00fc 9E72     		strb	r6, [r3, #10]
 405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1176              		.loc 1 405 0 discriminator 4
 1177 00fe DD72     		strb	r5, [r3, #11]
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1178              		.loc 1 407 0 discriminator 4
 1179 0100 84F82D20 		strb	r2, [r4, #45]
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->af_ctrl = assert_malloc(light_system->af_ctrl, sizeof(af_ctrl_t));
 1180              		.loc 1 410 0 discriminator 4
 1181 0104 4FF07E52 		mov	r2, #1065353216
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1182              		.loc 1 411 0 discriminator 4
 1183 0108 0C49     		ldr	r1, .L127+12
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_system->af_ctrl = assert_malloc(light_system->af_ctrl, sizeof(af_ctrl_t));
 1184              		.loc 1 410 0 discriminator 4
 1185 010a C3F8A020 		str	r2, [r3, #160]	@ float
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1186              		.loc 1 411 0 discriminator 4
 1187 010e 40F29B12 		movw	r2, #411
 1188 0112 C047     		blx	r8
 1189              	.LVL101:
 1190 0114 6060     		str	r0, [r4, #4]
 1191 0116 20B9     		cbnz	r0, .L116
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1192              		.loc 1 411 0 is_stmt 0 discriminator 2
 1193 0118 0848     		ldr	r0, .L127+12
 1194 011a 40F29B11 		movw	r1, #411
 1195 011e 084B     		ldr	r3, .L127+16
 1196 0120 9847     		blx	r3
 1197              	.LVL102:
 1198              	.L116:
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1199              		.loc 1 412 0 is_stmt 1 discriminator 4
 1200 0122 0B4B     		ldr	r3, .L127+32
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     task_af_create();
 1201              		.loc 1 411 0 discriminator 4
 1202 0124 6060     		str	r0, [r4, #4]
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1203              		.loc 1 412 0 discriminator 4
 1204 0126 9847     		blx	r3
 1205              	.LVL103:
 413:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1206              		.loc 1 413 0 discriminator 4
 1207 0128 05B0     		add	sp, sp, #20
 1208              	.LCFI8:
 1209              		.cfi_def_cfa_offset 36
 1210              		@ sp needed
 1211 012a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1212              	.LVL104:
 1213              	.L128:
 1214 012e 00BF     		.align	2
 1215              	.L127:
 1216 0130 00000000 		.word	.LANCHOR0
 1217 0134 00000000 		.word	.LANCHOR6
 1218 0138 00000000 		.word	pvPortMalloc1
 1219 013c 00000000 		.word	.LANCHOR7
 1220 0140 00000000 		.word	malloc_failed
 1221 0144 00000000 		.word	module_to_idx
 1222 0148 17000000 		.word	.LC1
 1223 014c 00000000 		.word	strcpy
 1224 0150 00000000 		.word	task_af_create
 1225              		.cfi_endproc
 1226              	.LFE4:
 1228              		.section	.text.light_main,"ax",%progbits
 1229              		.align	1
 1230              		.global	light_main
 1231              		.thumb
 1232              		.thumb_func
 1234              	light_main:
 1235              	.LFB5:
 419:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Light camera control board initialization */
 1236              		.loc 1 419 0
 1237              		.cfi_startproc
 1238              		@ args = 0, pretend = 0, frame = 0
 1239              		@ frame_needed = 0, uses_anonymous_args = 0
 1240 0000 08B5     		push	{r3, lr}
 1241              	.LCFI9:
 1242              		.cfi_def_cfa_offset 8
 1243              		.cfi_offset 3, -8
 1244              		.cfi_offset 14, -4
 421:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Camera initialization */
 1245              		.loc 1 421 0
 1246 0002 054B     		ldr	r3, .L130
 1247 0004 9847     		blx	r3
 1248              	.LVL105:
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	light_camera_task_create();
 1249              		.loc 1 423 0
 1250 0006 054B     		ldr	r3, .L130+4
 1251 0008 9847     		blx	r3
 1252              	.LVL106:
 424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Initialize command processing */
 1253              		.loc 1 424 0
 1254 000a 054B     		ldr	r3, .L130+8
 1255 000c 9847     		blx	r3
 1256              	.LVL107:
 426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     /* Start the scheduler so our tasks start executing. */
 1257              		.loc 1 426 0
 1258 000e 054B     		ldr	r3, .L130+12
 1259 0010 9847     		blx	r3
 1260              	.LVL108:
 428:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1261              		.loc 1 428 0
 1262 0012 054B     		ldr	r3, .L130+16
 1263 0014 9847     		blx	r3
 1264              	.LVL109:
 1265 0016 08BD     		pop	{r3, pc}
 1266              	.L131:
 1267              		.align	2
 1268              	.L130:
 1269 0018 00000000 		.word	light_system_init
 1270 001c 00000000 		.word	light_camera_init
 1271 0020 00000000 		.word	light_camera_task_create
 1272 0024 00000000 		.word	lcc_cmd_init
 1273 0028 00000000 		.word	vTaskStartScheduler
 1274              		.cfi_endproc
 1275              	.LFE5:
 1277              		.section	.text.idx_to_module,"ax",%progbits
 1278              		.align	1
 1279              		.global	idx_to_module
 1280              		.thumb
 1281              		.thumb_func
 1283              	idx_to_module:
 1284              	.LFB8:
 461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return modules_tbl[idx];
 1285              		.loc 1 461 0
 1286              		.cfi_startproc
 1287              		@ args = 0, pretend = 0, frame = 0
 1288              		@ frame_needed = 0, uses_anonymous_args = 0
 1289              		@ link register save eliminated.
 1290              	.LVL110:
 463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1291              		.loc 1 463 0
 1292 0000 014B     		ldr	r3, .L133
 1293 0002 185C     		ldrb	r0, [r3, r0]	@ zero_extendqisi2
 1294              	.LVL111:
 1295 0004 7047     		bx	lr
 1296              	.L134:
 1297 0006 00BF     		.align	2
 1298              	.L133:
 1299 0008 00000000 		.word	.LANCHOR5
 1300              		.cfi_endproc
 1301              	.LFE8:
 1303              		.section	.text.idx_to_object,"ax",%progbits
 1304              		.align	1
 1305              		.global	idx_to_object
 1306              		.thumb
 1307              		.thumb_func
 1309              	idx_to_object:
 1310              	.LFB9:
 466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	cam_typedef_t *pcam;
 1311              		.loc 1 466 0
 1312              		.cfi_startproc
 1313              		@ args = 0, pretend = 0, frame = 0
 1314              		@ frame_needed = 0, uses_anonymous_args = 0
 1315              	.LVL112:
 1316 0000 38B5     		push	{r3, r4, r5, lr}
 1317              	.LCFI10:
 1318              		.cfi_def_cfa_offset 16
 1319              		.cfi_offset 3, -16
 1320              		.cfi_offset 4, -12
 1321              		.cfi_offset 5, -8
 1322              		.cfi_offset 14, -4
 1323              	.LBB20:
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1324              		.loc 1 469 0
 1325 0002 0E4B     		ldr	r3, .L141
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pcam->info.module == modules_tbl[idx])
 1326              		.loc 1 471 0
 1327 0004 1968     		ldr	r1, [r3]
 1328 0006 93F82A30 		ldrb	r3, [r3, #42]	@ zero_extendqisi2
 1329 000a C3EBC303 		rsb	r3, r3, r3, lsl #3
 1330 000e 01EBC303 		add	r3, r1, r3, lsl #3
 1331              	.LVL113:
 1332              	.L136:
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1333              		.loc 1 469 0 discriminator 1
 1334 0012 9942     		cmp	r1, r3
 1335 0014 0AD0     		beq	.L140
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pcam->info.module == modules_tbl[idx])
 1336              		.loc 1 471 0
 1337 0016 0A46     		mov	r2, r1
 1338              	.LVL114:
 472:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return pcam;
 1339              		.loc 1 472 0
 1340 0018 92F82950 		ldrb	r5, [r2, #41]	@ zero_extendqisi2
 1341 001c 084C     		ldr	r4, .L141+4
 1342 001e 245C     		ldrb	r4, [r4, r0]	@ zero_extendqisi2
 1343 0020 A542     		cmp	r5, r4
 1344 0022 01F13801 		add	r1, r1, #56
 1345              	.LVL115:
 1346 0026 F4D1     		bne	.L136
 1347 0028 1046     		mov	r0, r2
 1348              	.LVL116:
 1349              	.LBE20:
 477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1350              		.loc 1 477 0
 1351 002a 38BD     		pop	{r3, r4, r5, pc}
 1352              	.LVL117:
 1353              	.L140:
 475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return NULL;
 1354              		.loc 1 475 0
 1355 002c 1E20     		movs	r0, #30
 1356              	.LVL118:
 1357 002e 0221     		movs	r1, #2
 1358 0030 044A     		ldr	r2, .L141+8
 1359 0032 054B     		ldr	r3, .L141+12
 1360 0034 9847     		blx	r3
 1361              	.LVL119:
 476:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1362              		.loc 1 476 0
 1363 0036 0020     		movs	r0, #0
 1364 0038 38BD     		pop	{r3, r4, r5, pc}
 1365              	.L142:
 1366 003a 00BF     		.align	2
 1367              	.L141:
 1368 003c 00000000 		.word	.LANCHOR0
 1369 0040 00000000 		.word	.LANCHOR5
 1370 0044 1B000000 		.word	.LC2
 1371 0048 00000000 		.word	slogf
 1372              		.cfi_endproc
 1373              	.LFE9:
 1375              		.section	.text.chan_to_object,"ax",%progbits
 1376              		.align	1
 1377              		.global	chan_to_object
 1378              		.thumb
 1379              		.thumb_func
 1381              	chan_to_object:
 1382              	.LFB10:
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     cam_typedef_t *pcam;
 1383              		.loc 1 480 0
 1384              		.cfi_startproc
 1385              		@ args = 0, pretend = 0, frame = 0
 1386              		@ frame_needed = 0, uses_anonymous_args = 0
 1387              	.LVL120:
 1388              	.LBB21:
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     {
 1389              		.loc 1 483 0
 1390 0000 0E4B     		ldr	r3, .L149
 1391              	.LBE21:
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     cam_typedef_t *pcam;
 1392              		.loc 1 480 0
 1393 0002 10B5     		push	{r4, lr}
 1394              	.LCFI11:
 1395              		.cfi_def_cfa_offset 8
 1396              		.cfi_offset 4, -8
 1397              		.cfi_offset 14, -4
 1398              	.LBB22:
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         if (pcam->info.ch == ch)
 1399              		.loc 1 485 0
 1400 0004 1968     		ldr	r1, [r3]
 1401 0006 93F82A30 		ldrb	r3, [r3, #42]	@ zero_extendqisi2
 1402 000a C3EBC303 		rsb	r3, r3, r3, lsl #3
 1403 000e 01EBC303 		add	r3, r1, r3, lsl #3
 1404              	.LVL121:
 1405              	.L144:
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     {
 1406              		.loc 1 483 0 discriminator 1
 1407 0012 9942     		cmp	r1, r3
 1408 0014 0AD0     		beq	.L148
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****         if (pcam->info.ch == ch)
 1409              		.loc 1 485 0
 1410 0016 0A46     		mov	r2, r1
 1411              	.LVL122:
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****             return pcam;
 1412              		.loc 1 486 0
 1413 0018 92F82840 		ldrb	r4, [r2, #40]	@ zero_extendqisi2
 1414 001c 04F00F04 		and	r4, r4, #15
 1415 0020 8442     		cmp	r4, r0
 1416 0022 01F13801 		add	r1, r1, #56
 1417              	.LVL123:
 1418 0026 F4D1     		bne	.L144
 1419 0028 1046     		mov	r0, r2
 1420              	.LVL124:
 1421              	.LBE22:
 491:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1422              		.loc 1 491 0
 1423 002a 10BD     		pop	{r4, pc}
 1424              	.LVL125:
 1425              	.L148:
 489:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c ****     return NULL;
 1426              		.loc 1 489 0
 1427 002c 1E20     		movs	r0, #30
 1428              	.LVL126:
 1429 002e 0221     		movs	r1, #2
 1430 0030 034A     		ldr	r2, .L149+4
 1431 0032 044B     		ldr	r3, .L149+8
 1432 0034 9847     		blx	r3
 1433              	.LVL127:
 490:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1434              		.loc 1 490 0
 1435 0036 0020     		movs	r0, #0
 1436 0038 10BD     		pop	{r4, pc}
 1437              	.L150:
 1438 003a 00BF     		.align	2
 1439              	.L149:
 1440 003c 00000000 		.word	.LANCHOR0
 1441 0040 1B000000 		.word	.LC2
 1442 0044 00000000 		.word	slogf
 1443              		.cfi_endproc
 1444              	.LFE10:
 1446              		.section	.text.send_intr_signal,"ax",%progbits
 1447              		.align	1
 1448              		.global	send_intr_signal
 1449              		.thumb
 1450              		.thumb_func
 1452              	send_intr_signal:
 1453              	.LFB11:
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskSuspendAll();
 1454              		.loc 1 581 0
 1455              		.cfi_startproc
 1456              		@ args = 0, pretend = 0, frame = 0
 1457              		@ frame_needed = 0, uses_anonymous_args = 0
 1458 0000 08B5     		push	{r3, lr}
 1459              	.LCFI12:
 1460              		.cfi_def_cfa_offset 8
 1461              		.cfi_offset 3, -8
 1462              		.cfi_offset 14, -4
 582:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	unsigned int i = 533;
 1463              		.loc 1 582 0
 1464 0002 064B     		ldr	r3, .L152
 1465 0004 9847     		blx	r3
 1466              	.LVL128:
 584:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while(i)
 1467              		.loc 1 584 0
 1468 0006 0320     		movs	r0, #3
 1469 0008 0021     		movs	r1, #0
 1470 000a 054B     		ldr	r3, .L152+4
 1471 000c 9847     		blx	r3
 1472              	.LVL129:
 587:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xTaskResumeAll();
 1473              		.loc 1 587 0
 1474 000e 0021     		movs	r1, #0
 1475 0010 044B     		ldr	r3, .L152+8
 1476 0012 0320     		movs	r0, #3
 1477 0014 9847     		blx	r3
 1478              	.LVL130:
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1479              		.loc 1 588 0
 1480 0016 044B     		ldr	r3, .L152+12
 1481 0018 9847     		blx	r3
 1482              	.LVL131:
 1483 001a 08BD     		pop	{r3, pc}
 1484              	.L153:
 1485              		.align	2
 1486              	.L152:
 1487 001c 00000000 		.word	vTaskSuspendAll
 1488 0020 00000000 		.word	hal_pwm_set_high
 1489 0024 00000000 		.word	hal_pwm_set_low
 1490 0028 00000000 		.word	xTaskResumeAll
 1491              		.cfi_endproc
 1492              	.LFE11:
 1494              		.section	.text.intr_signal,"ax",%progbits
 1495              		.align	1
 1496              		.global	intr_signal
 1497              		.thumb
 1498              		.thumb_func
 1500              	intr_signal:
 1501              	.LFB13:
 611:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (xSemaphoreTake(intr_semaphore, (TickType_t)10) == pdTRUE)
 1502              		.loc 1 611 0
 1503              		.cfi_startproc
 1504              		@ args = 0, pretend = 0, frame = 0
 1505              		@ frame_needed = 0, uses_anonymous_args = 0
 1506 0000 38B5     		push	{r3, r4, r5, lr}
 1507              	.LCFI13:
 1508              		.cfi_def_cfa_offset 16
 1509              		.cfi_offset 3, -16
 1510              		.cfi_offset 4, -12
 1511              		.cfi_offset 5, -8
 1512              		.cfi_offset 14, -4
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1513              		.loc 1 612 0
 1514 0002 0C4C     		ldr	r4, .L156
 1515 0004 0021     		movs	r1, #0
 1516 0006 0A22     		movs	r2, #10
 1517 0008 0B46     		mov	r3, r1
 1518 000a 2068     		ldr	r0, [r4]
 1519 000c 0A4D     		ldr	r5, .L156+4
 1520 000e A847     		blx	r5
 1521              	.LVL132:
 1522 0010 0128     		cmp	r0, #1
 1523 0012 0DD1     		bne	.L154
 1524              	.LVL133:
 1525              	.LBB26:
 1526              	.LBB27:
 622:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		while(i)
 1527              		.loc 1 622 0
 1528 0014 0320     		movs	r0, #3
 1529 0016 0021     		movs	r1, #0
 1530 0018 084B     		ldr	r3, .L156+8
 1531 001a 9847     		blx	r3
 1532              	.LVL134:
 625:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
 1533              		.loc 1 625 0
 1534 001c 0320     		movs	r0, #3
 1535 001e 0021     		movs	r1, #0
 1536 0020 074B     		ldr	r3, .L156+12
 1537 0022 9847     		blx	r3
 1538              	.LVL135:
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1539              		.loc 1 628 0
 1540 0024 0021     		movs	r1, #0
 1541 0026 2068     		ldr	r0, [r4]
 1542 0028 0A46     		mov	r2, r1
 1543 002a 0B46     		mov	r3, r1
 1544 002c 054C     		ldr	r4, .L156+16
 1545 002e A047     		blx	r4
 1546              	.LVL136:
 1547              	.L154:
 1548 0030 38BD     		pop	{r3, r4, r5, pc}
 1549              	.L157:
 1550 0032 00BF     		.align	2
 1551              	.L156:
 1552 0034 00000000 		.word	.LANCHOR2
 1553 0038 00000000 		.word	xQueueGenericReceive
 1554 003c 00000000 		.word	hal_pwm_set_high
 1555 0040 00000000 		.word	hal_pwm_set_low
 1556 0044 00000000 		.word	xQueueGenericSend
 1557              	.LBE27:
 1558              	.LBE26:
 1559              		.cfi_endproc
 1560              	.LFE13:
 1562              		.section	.text.set_intr_pin,"ax",%progbits
 1563              		.align	1
 1564              		.global	set_intr_pin
 1565              		.thumb
 1566              		.thumb_func
 1568              	set_intr_pin:
 1569              	.LFB14:
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(data)
 1570              		.loc 1 633 0
 1571              		.cfi_startproc
 1572              		@ args = 0, pretend = 0, frame = 0
 1573              		@ frame_needed = 0, uses_anonymous_args = 0
 1574              	.LVL137:
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 1575              		.loc 1 634 0
 1576 0000 0146     		mov	r1, r0
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 1577              		.loc 1 635 0
 1578 0002 0320     		movs	r0, #3
 1579              	.LVL138:
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(data)
 1580              		.loc 1 633 0
 1581 0004 08B5     		push	{r3, lr}
 1582              	.LCFI14:
 1583              		.cfi_def_cfa_offset 8
 1584              		.cfi_offset 3, -8
 1585              		.cfi_offset 14, -4
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		hal_pwm_set_high(PWM0_CH4, PWM_PIN_POS);
 1586              		.loc 1 634 0
 1587 0006 11B1     		cbz	r1, .L159
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 1588              		.loc 1 635 0
 1589 0008 0021     		movs	r1, #0
 1590 000a 024B     		ldr	r3, .L162
 1591 000c 00E0     		b	.L161
 1592              	.L159:
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 1593              		.loc 1 637 0
 1594 000e 024B     		ldr	r3, .L162+4
 1595              	.L161:
 1596 0010 9847     		blx	r3
 1597              	.LVL139:
 1598 0012 08BD     		pop	{r3, pc}
 1599              	.L163:
 1600              		.align	2
 1601              	.L162:
 1602 0014 00000000 		.word	hal_pwm_set_high
 1603 0018 00000000 		.word	hal_pwm_set_low
 1604              		.cfi_endproc
 1605              	.LFE14:
 1607              		.section	.text.disable_asic_sync_intr,"ax",%progbits
 1608              		.align	1
 1609              		.global	disable_asic_sync_intr
 1610              		.thumb
 1611              		.thumb_func
 1613              	disable_asic_sync_intr:
 1614              	.LFB15:
 641:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 1615              		.loc 1 641 0
 1616              		.cfi_startproc
 1617              		@ args = 0, pretend = 0, frame = 0
 1618              		@ frame_needed = 0, uses_anonymous_args = 0
 1619              		@ link register save eliminated.
 1620              	.LVL140:
 1621 0000 7047     		bx	lr
 1622              		.cfi_endproc
 1623              	.LFE15:
 1625              		.section	.text.enable_asic_sync_intr,"ax",%progbits
 1626              		.align	1
 1627              		.global	enable_asic_sync_intr
 1628              		.thumb
 1629              		.thumb_func
 1631              	enable_asic_sync_intr:
 1632              	.LFB16:
 652:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(asic_mask & ASIC_2)
 1633              		.loc 1 652 0
 1634              		.cfi_startproc
 1635              		@ args = 0, pretend = 0, frame = 0
 1636              		@ frame_needed = 0, uses_anonymous_args = 0
 1637              		@ link register save eliminated.
 1638              	.LVL141:
 1639 0000 7047     		bx	lr
 1640              		.cfi_endproc
 1641              	.LFE16:
 1643              		.global	__aeabi_fcmpgt
 1644              		.global	__aeabi_fcmplt
 1645              		.global	__aeabi_f2d
 1646              		.global	__aeabi_dsub
 1647              		.global	__aeabi_ddiv
 1648              		.global	__aeabi_d2uiz
 1649              		.global	__aeabi_ui2f
 1650              		.global	__aeabi_dmul
 1651              		.global	__aeabi_i2d
 1652              		.global	__aeabi_dadd
 1653              		.global	__aeabi_d2f
 1654              		.global	__aeabi_fdiv
 1655              		.global	__aeabi_fmul
 1656              		.global	__aeabi_fadd
 1657              		.global	__aeabi_f2uiz
 1658              		.section	.text.pzt_voltage_config,"ax",%progbits
 1659              		.align	1
 1660              		.global	pzt_voltage_config
 1661              		.thumb
 1662              		.thumb_func
 1664              	pzt_voltage_config:
 1665              	.LFB17:
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 1666              		.loc 1 685 0
 1667              		.cfi_startproc
 1668              		@ args = 0, pretend = 0, frame = 16
 1669              		@ frame_needed = 0, uses_anonymous_args = 0
 1670              	.LVL142:
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 1671              		.loc 1 685 0
 1672 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1673              	.LCFI15:
 1674              		.cfi_def_cfa_offset 36
 1675              		.cfi_offset 4, -36
 1676              		.cfi_offset 5, -32
 1677              		.cfi_offset 6, -28
 1678              		.cfi_offset 7, -24
 1679              		.cfi_offset 8, -20
 1680              		.cfi_offset 9, -16
 1681              		.cfi_offset 10, -12
 1682              		.cfi_offset 11, -8
 1683              		.cfi_offset 14, -4
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 1684              		.loc 1 692 0
 1685 0004 604D     		ldr	r5, .L184+24
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 1686              		.loc 1 685 0
 1687 0006 87B0     		sub	sp, sp, #28
 1688              	.LCFI16:
 1689              		.cfi_def_cfa_offset 64
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t r2_val = 0;
 1690              		.loc 1 687 0
 1691 0008 0023     		movs	r3, #0
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 1692              		.loc 1 685 0
 1693 000a 8846     		mov	r8, r1
 1694 000c 0646     		mov	r6, r0
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint16_t r2_val = 0;
 1695              		.loc 1 687 0
 1696 000e 8DF81730 		strb	r3, [sp, #23]
 1697              	.LVL143:
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 1698              		.loc 1 692 0
 1699 0012 0A20     		movs	r0, #10
 1700              	.LVL144:
 1701 0014 2B68     		ldr	r3, [r5]
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t ret = 0;
 1702              		.loc 1 685 0
 1703 0016 0392     		str	r2, [sp, #12]
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(vol > 30 || vol < 12)
 1704              		.loc 1 692 0
 1705 0018 9847     		blx	r3
 1706              	.LVL145:
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1707              		.loc 1 693 0
 1708 001a 4046     		mov	r0, r8
 1709 001c 5B49     		ldr	r1, .L184+28
 1710 001e 5C4B     		ldr	r3, .L184+32
 1711 0020 9847     		blx	r3
 1712              	.LVL146:
 1713 0022 5C4C     		ldr	r4, .L184+36
 1714 0024 28B9     		cbnz	r0, .L167
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
 1715              		.loc 1 693 0 is_stmt 0 discriminator 1
 1716 0026 4046     		mov	r0, r8
 1717 0028 5B49     		ldr	r1, .L184+40
 1718 002a 5C4B     		ldr	r3, .L184+44
 1719 002c 9847     		blx	r3
 1720              	.LVL147:
 1721 002e 8146     		mov	r9, r0
 1722 0030 48B1     		cbz	r0, .L181
 1723              	.L167:
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return ret;
 1724              		.loc 1 695 0 is_stmt 1
 1725 0032 4046     		mov	r0, r8
 1726 0034 5A4B     		ldr	r3, .L184+48
 1727 0036 9847     		blx	r3
 1728              	.LVL148:
 1729 0038 5A4A     		ldr	r2, .L184+52
 1730 003a CDE90001 		strd	r0, [sp]
 1731 003e 1E20     		movs	r0, #30
 1732 0040 0221     		movs	r1, #2
 1733 0042 A047     		blx	r4
 1734              	.LVL149:
 1735 0044 89E0     		b	.L183
 1736              	.L181:
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Calculate R2 */
 1737              		.loc 1 701 0
 1738 0046 002E     		cmp	r6, #0
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		0x0601, (uint8_t *)&reg))
 1739              		.loc 1 704 0
 1740 0048 0DF1170A 		add	r10, sp, #23
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Calculate R2 */
 1741              		.loc 1 701 0
 1742 004c 0CBF     		ite	eq
 1743 004e 2F26     		moveq	r6, #47
 1744 0050 2C26     		movne	r6, #44
 1745              	.LVL150:
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		0x0601, (uint8_t *)&reg))
 1746              		.loc 1 704 0
 1747 0052 CDF800A0 		str	r10, [sp]
 1748 0056 0A20     		movs	r0, #10
 1749 0058 0121     		movs	r1, #1
 1750 005a 3246     		mov	r2, r6
 1751 005c 40F20163 		movw	r3, #1537
 1752 0060 EF68     		ldr	r7, [r5, #12]
 1753 0062 B847     		blx	r7
 1754              	.LVL151:
 1755 0064 0728     		cmp	r0, #7
 1756 0066 7AD1     		bne	.L172
 1757              	.LBB28:
 709:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actual_res = POT_FULL_SCALE + ((reg & 0x80 ? 1 : -1) *
 1758              		.loc 1 709 0
 1759 0068 9DF817B0 		ldrb	fp, [sp, #23]	@ zero_extendqisi2
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 1760              		.loc 1 710 0
 1761 006c 1BF0800F 		tst	fp, #128
 1762 0070 18BF     		it	ne
 1763 0072 4FF07E53 		movne	r3, #1065353216
 1764              	.LBE28:
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (I2CM_ERROR_TRANSCEIVED == i2cm.read(I2C_CH10, BYTE_ADDR16, i2c_addr,
 1765              		.loc 1 703 0
 1766 0076 DFF82891 		ldr	r9, .L184+48
 1767 007a 4046     		mov	r0, r8
 1768              	.LBB29:
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 1769              		.loc 1 710 0
 1770 007c 08BF     		it	eq
 1771 007e 4A4B     		ldreq	r3, .L184+56
 1772 0080 0293     		str	r3, [sp, #8]	@ float
 1773              	.LVL152:
 1774              	.LBE29:
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if (I2CM_ERROR_TRANSCEIVED == i2cm.read(I2C_CH10, BYTE_ADDR16, i2c_addr,
 1775              		.loc 1 703 0
 1776 0082 C847     		blx	r9
 1777              	.LVL153:
 1778 0084 494F     		ldr	r7, .L184+60
 1779 0086 3AA3     		adr	r3, .L184
 1780 0088 D3E90023 		ldrd	r2, [r3]
 1781 008c B847     		blx	r7
 1782              	.LVL154:
 1783 008e DFF85481 		ldr	r8, .L184+116
 1784              	.LVL155:
 1785 0092 0246     		mov	r2, r0
 1786 0094 0B46     		mov	r3, r1
 1787 0096 38A1     		adr	r1, .L184+8
 1788 0098 D1E90001 		ldrd	r0, [r1]
 1789 009c C047     		blx	r8
 1790              	.LVL156:
 1791 009e 38A3     		adr	r3, .L184+16
 1792 00a0 D3E90023 		ldrd	r2, [r3]
 1793 00a4 B847     		blx	r7
 1794              	.LVL157:
 1795 00a6 424B     		ldr	r3, .L184+64
 1796 00a8 9847     		blx	r3
 1797              	.LVL158:
 1798              	.LBB30:
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 1799              		.loc 1 711 0
 1800 00aa 424B     		ldr	r3, .L184+68
 1801 00ac DFF83881 		ldr	r8, .L184+120
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 1802              		.loc 1 714 0
 1803 00b0 80B2     		uxth	r0, r0
 1804 00b2 C701     		lsls	r7, r0, #7
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 1805              		.loc 1 711 0
 1806 00b4 0BF00700 		and	r0, fp, #7
 1807 00b8 9847     		blx	r3
 1808              	.LVL159:
 1809 00ba C847     		blx	r9
 1810              	.LVL160:
 1811 00bc 0022     		movs	r2, #0
 1812 00be 4FF07F53 		mov	r3, #1069547520
 1813 00c2 C047     		blx	r8
 1814              	.LVL161:
 1815 00c4 3C4B     		ldr	r3, .L184+72
 1816 00c6 8046     		mov	r8, r0
 1817 00c8 CBF3C300 		ubfx	r0, fp, #3, #4
 1818 00cc 8946     		mov	r9, r1
 1819 00ce 9847     		blx	r3
 1820              	.LVL162:
 1821 00d0 DFF818C1 		ldr	ip, .L184+124
 1822 00d4 0246     		mov	r2, r0
 1823 00d6 0B46     		mov	r3, r1
 1824 00d8 4046     		mov	r0, r8
 1825 00da 4946     		mov	r1, r9
 1826 00dc E047     		blx	ip
 1827              	.LVL163:
 1828 00de 374B     		ldr	r3, .L184+76
 1829 00e0 9847     		blx	r3
 1830              	.LVL164:
 712:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Write config value */
 1831              		.loc 1 712 0
 1832 00e2 374B     		ldr	r3, .L184+80
 1833 00e4 3749     		ldr	r1, .L184+84
 1834 00e6 9847     		blx	r3
 1835              	.LVL165:
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			res_tol.res_high) / 100)));
 1836              		.loc 1 711 0
 1837 00e8 DFF80481 		ldr	r8, .L184+128
 1838 00ec 3649     		ldr	r1, .L184+88
 1839 00ee C047     		blx	r8
 1840              	.LVL166:
 1841 00f0 0146     		mov	r1, r0
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			(POT_FULL_SCALE * ((float)(((float)res_tol.res_low * 0.125) +
 1842              		.loc 1 710 0
 1843 00f2 0298     		ldr	r0, [sp, #8]	@ float
 1844 00f4 C047     		blx	r8
 1845              	.LVL167:
 1846 00f6 3449     		ldr	r1, .L184+88
 1847 00f8 344B     		ldr	r3, .L184+92
 1848 00fa 9847     		blx	r3
 1849              	.LVL168:
 1850 00fc 344B     		ldr	r3, .L184+96
 1851 00fe 9847     		blx	r3
 1852              	.LVL169:
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 1853              		.loc 1 715 0
 1854 0100 CDF800A0 		str	r10, [sp]
 1855 0104 0021     		movs	r1, #0
 1856 0106 2D69     		ldr	r5, [r5, #16]
 1857 0108 3246     		mov	r2, r6
 1858 010a 0223     		movs	r3, #2
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 1859              		.loc 1 714 0
 1860 010c 80B2     		uxth	r0, r0
 1861 010e 97FBF0F7 		sdiv	r7, r7, r0
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 1862              		.loc 1 715 0
 1863 0112 0A20     		movs	r0, #10
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8, i2c_addr,
 1864              		.loc 1 714 0
 1865 0114 8DF81770 		strb	r7, [sp, #23]
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 														0x02, (uint8_t *)&reg))
 1866              		.loc 1 715 0
 1867 0118 A847     		blx	r5
 1868              	.LVL170:
 1869 011a 0528     		cmp	r0, #5
 1870 011c 19D1     		bne	.L174
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 1871              		.loc 1 718 0
 1872 011e 039B     		ldr	r3, [sp, #12]
 1873 0120 8BB1     		cbz	r3, .L179
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 1874              		.loc 1 721 0
 1875 0122 194B     		ldr	r3, .L184+24
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8,
 1876              		.loc 1 720 0
 1877 0124 0025     		movs	r5, #0
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 1878              		.loc 1 721 0
 1879 0126 CDF800A0 		str	r10, [sp]
 1880 012a 0A20     		movs	r0, #10
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				if(I2CM_ERROR_TRANSMITTED == i2cm.write(I2C_CH10, BYTE_ADDR8,
 1881              		.loc 1 720 0
 1882 012c 8DF81750 		strb	r5, [sp, #23]
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 											i2c_addr, 0x01, (uint8_t *)&reg))
 1883              		.loc 1 721 0
 1884 0130 2946     		mov	r1, r5
 1885 0132 1F69     		ldr	r7, [r3, #16]
 1886 0134 3246     		mov	r2, r6
 1887 0136 0123     		movs	r3, #1
 1888 0138 B847     		blx	r7
 1889              	.LVL171:
 1890 013a 0528     		cmp	r0, #5
 1891 013c 04D1     		bne	.L175
 1892              	.LVL172:
 725:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				}
 1893              		.loc 1 725 0
 1894 013e 1E20     		movs	r0, #30
 1895 0140 0821     		movs	r1, #8
 1896 0142 244A     		ldr	r2, .L184+100
 1897 0144 A047     		blx	r4
 1898              	.LVL173:
 1899              	.L179:
 729:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_INFO, "Write POT DONE");
 1900              		.loc 1 729 0
 1901 0146 0125     		movs	r5, #1
 1902              	.L175:
 1903              	.LVL174:
 730:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 1904              		.loc 1 730 0
 1905 0148 1E20     		movs	r0, #30
 1906 014a 0821     		movs	r1, #8
 1907 014c 224A     		ldr	r2, .L184+104
 1908 014e A047     		blx	r4
 1909              	.LVL175:
 1910 0150 0AE0     		b	.L170
 1911              	.LVL176:
 1912              	.L174:
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 1913              		.loc 1 735 0
 1914 0152 1E20     		movs	r0, #30
 1915 0154 0221     		movs	r1, #2
 1916 0156 214A     		ldr	r2, .L184+108
 1917 0158 A047     		blx	r4
 1918              	.LVL177:
 1919              	.L183:
 734:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "Write I2C failed");
 1920              		.loc 1 734 0
 1921 015a 0025     		movs	r5, #0
 1922 015c 04E0     		b	.L170
 1923              	.LVL178:
 1924              	.L172:
 1925              	.LBE30:
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1926              		.loc 1 741 0
 1927 015e 1E20     		movs	r0, #30
 1928 0160 0221     		movs	r1, #2
 1929 0162 1F4A     		ldr	r2, .L184+112
 740:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_ERROR, "APOT1: reading timed out");
 1930              		.loc 1 740 0
 1931 0164 4D46     		mov	r5, r9
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 1932              		.loc 1 741 0
 1933 0166 A047     		blx	r4
 1934              	.LVL179:
 1935              	.L170:
 744:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 1936              		.loc 1 744 0
 1937 0168 2846     		mov	r0, r5
 1938 016a 07B0     		add	sp, sp, #28
 1939              	.LCFI17:
 1940              		.cfi_def_cfa_offset 36
 1941              		@ sp needed
 1942 016c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1943              	.L185:
 1944              		.align	3
 1945              	.L184:
 1946 0170 62105839 		.word	962072674
 1947 0174 B4C8F43F 		.word	1073006772
 1948 0178 00000000 		.word	0
 1949 017c F8160541 		.word	1090852600
 1950 0180 00000000 		.word	0
 1951 0184 000CB740 		.word	1085737984
 1952 0188 00000000 		.word	i2cm
 1953 018c 0000F041 		.word	1106247680
 1954 0190 00000000 		.word	__aeabi_fcmpgt
 1955 0194 00000000 		.word	slogf
 1956 0198 00004041 		.word	1094713344
 1957 019c 00000000 		.word	__aeabi_fcmplt
 1958 01a0 00000000 		.word	__aeabi_f2d
 1959 01a4 33000000 		.word	.LC3
 1960 01a8 000080BF 		.word	-1082130432
 1961 01ac 00000000 		.word	__aeabi_dsub
 1962 01b0 00000000 		.word	__aeabi_d2uiz
 1963 01b4 00000000 		.word	__aeabi_ui2f
 1964 01b8 00000000 		.word	__aeabi_i2d
 1965 01bc 00000000 		.word	__aeabi_d2f
 1966 01c0 00000000 		.word	__aeabi_fdiv
 1967 01c4 0000C842 		.word	1120403456
 1968 01c8 00401C46 		.word	1176256512
 1969 01cc 00000000 		.word	__aeabi_fadd
 1970 01d0 00000000 		.word	__aeabi_f2uiz
 1971 01d4 44000000 		.word	.LC4
 1972 01d8 5A000000 		.word	.LC5
 1973 01dc 69000000 		.word	.LC6
 1974 01e0 7A000000 		.word	.LC7
 1975 01e4 00000000 		.word	__aeabi_ddiv
 1976 01e8 00000000 		.word	__aeabi_dmul
 1977 01ec 00000000 		.word	__aeabi_dadd
 1978 01f0 00000000 		.word	__aeabi_fmul
 1979              		.cfi_endproc
 1980              	.LFE17:
 1982 01f4 AFF30080 		.section	.text.cam_move_to_distance,"ax",%progbits
 1983              		.align	1
 1984              		.global	cam_move_to_distance
 1985              		.thumb
 1986              		.thumb_func
 1988              	cam_move_to_distance:
 1989              	.LFB18:
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 1990              		.loc 1 752 0
 1991              		.cfi_startproc
 1992              		@ args = 4, pretend = 0, frame = 16
 1993              		@ frame_needed = 0, uses_anonymous_args = 0
 1994              	.LVL180:
 1995 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1996              	.LCFI18:
 1997              		.cfi_def_cfa_offset 36
 1998              		.cfi_offset 4, -36
 1999              		.cfi_offset 5, -32
 2000              		.cfi_offset 6, -28
 2001              		.cfi_offset 7, -24
 2002              		.cfi_offset 8, -20
 2003              		.cfi_offset 9, -16
 2004              		.cfi_offset 10, -12
 2005              		.cfi_offset 11, -8
 2006              		.cfi_offset 14, -4
 2007 0004 85B0     		sub	sp, sp, #20
 2008              	.LCFI19:
 2009              		.cfi_def_cfa_offset 56
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2010              		.loc 1 752 0
 2011 0006 9946     		mov	r9, r3
 2012 0008 9246     		mov	r10, r2
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2013              		.loc 1 754 0
 2014 000a BDF83830 		ldrh	r3, [sp, #56]
 2015              	.LVL181:
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2016              		.loc 1 752 0
 2017 000e 0191     		str	r1, [sp, #4]
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2018              		.loc 1 754 0
 2019 0010 ADF80830 		strh	r3, [sp, #8]	@ movhi
 756:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2020              		.loc 1 756 0
 2021 0014 0546     		mov	r5, r0
 2022 0016 0028     		cmp	r0, #0
 2023 0018 75D0     		beq	.L191
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2024              		.loc 1 760 0
 2025 001a 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2026 001e 03F0F003 		and	r3, r3, #240
 2027 0022 A02B     		cmp	r3, #160
 2028 0024 4368     		ldr	r3, [r0, #4]
 2029              	.LBB31:
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2030              		.loc 1 764 0
 2031 0026 4FF00001 		mov	r1, #0
 2032              	.LVL182:
 2033 002a DFF8F480 		ldr	r8, .L194+16
 2034 002e 4FF0FF32 		mov	r2, #-1
 2035              	.LVL183:
 2036 0032 374E     		ldr	r6, .L194
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2037              		.loc 1 762 0
 2038 0034 1F68     		ldr	r7, [r3]
 2039              	.LVL184:
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2040              		.loc 1 764 0
 2041 0036 0B46     		mov	r3, r1
 2042 0038 F868     		ldr	r0, [r7, #12]
 2043              	.LVL185:
 2044              	.LBE31:
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2045              		.loc 1 760 0
 2046 003a 2BD1     		bne	.L188
 2047              	.LBB32:
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2048              		.loc 1 764 0
 2049 003c C047     		blx	r8
 2050              	.LVL186:
 765:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2051              		.loc 1 765 0
 2052 003e 3C7E     		ldrb	r4, [r7, #24]	@ zero_extendqisi2
 2053 0040 FCB9     		cbnz	r4, .L189
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2054              		.loc 1 768 0
 2055 0042 0123     		movs	r3, #1
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2056              		.loc 1 770 0
 2057 0044 2146     		mov	r1, r4
 2058 0046 2246     		mov	r2, r4
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2059              		.loc 1 768 0
 2060 0048 3B76     		strb	r3, [r7, #24]
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2061              		.loc 1 770 0
 2062 004a 2346     		mov	r3, r4
 2063 004c F868     		ldr	r0, [r7, #12]
 2064 004e B047     		blx	r6
 2065              	.LVL187:
 772:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 2066              		.loc 1 772 0
 2067 0050 6B68     		ldr	r3, [r5, #4]
 2068 0052 2146     		mov	r1, r4
 2069 0054 4FF0FF32 		mov	r2, #-1
 2070 0058 D868     		ldr	r0, [r3, #12]
 2071 005a 2346     		mov	r3, r4
 2072 005c C047     		blx	r8
 2073              	.LVL188:
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2074              		.loc 1 773 0
 2075 005e 6B68     		ldr	r3, [r5, #4]
 2076 0060 0198     		ldr	r0, [sp, #4]	@ unaligned
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2077              		.loc 1 776 0
 2078 0062 2146     		mov	r1, r4
 2079 0064 2246     		mov	r2, r4
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2080              		.loc 1 773 0
 2081 0066 9B68     		ldr	r3, [r3, #8]
 2082 0068 C3F80200 		str	r0, [r3, #2]	@ unaligned
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2083              		.loc 1 776 0
 2084 006c 6B68     		ldr	r3, [r5, #4]
 2085 006e D868     		ldr	r0, [r3, #12]
 2086 0070 2346     		mov	r3, r4
 2087 0072 B047     		blx	r6
 2088              	.LVL189:
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2089              		.loc 1 780 0
 2090 0074 8023     		movs	r3, #128
 778:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 2091              		.loc 1 778 0
 2092 0076 C7F810A0 		str	r10, [r7, #16]
 779:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_DISTANCE;
 2093              		.loc 1 779 0
 2094 007a C7F81490 		str	r9, [r7, #20]
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2095              		.loc 1 780 0
 2096 007e 0393     		str	r3, [sp, #12]
 2097 0080 2CE0     		b	.L192
 2098              	.L189:
 786:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 2099              		.loc 1 786 0
 2100 0082 0021     		movs	r1, #0
 2101 0084 0A46     		mov	r2, r1
 2102 0086 0B46     		mov	r3, r1
 2103 0088 F868     		ldr	r0, [r7, #12]
 2104 008a B047     		blx	r6
 2105              	.LVL190:
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2106              		.loc 1 787 0
 2107 008c 1E20     		movs	r0, #30
 2108 008e 0221     		movs	r1, #2
 2109 0090 204A     		ldr	r2, .L194+4
 2110 0092 32E0     		b	.L193
 2111              	.L188:
 2112              	.LBE32:
 2113              	.LBB33:
 795:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 2114              		.loc 1 795 0
 2115 0094 C047     		blx	r8
 2116              	.LVL191:
 796:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2117              		.loc 1 796 0
 2118 0096 3C7F     		ldrb	r4, [r7, #28]	@ zero_extendqisi2
 2119 0098 3CBB     		cbnz	r4, .L190
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2120              		.loc 1 799 0
 2121 009a 4FF0010B 		mov	fp, #1
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2122              		.loc 1 801 0
 2123 009e 2146     		mov	r1, r4
 2124 00a0 2246     		mov	r2, r4
 2125 00a2 2346     		mov	r3, r4
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2126              		.loc 1 799 0
 2127 00a4 87F81CB0 		strb	fp, [r7, #28]
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2128              		.loc 1 801 0
 2129 00a8 F868     		ldr	r0, [r7, #12]
 2130 00aa B047     		blx	r6
 2131              	.LVL192:
 803:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->focus_distance,
 2132              		.loc 1 803 0
 2133 00ac 6B68     		ldr	r3, [r5, #4]
 2134 00ae 2146     		mov	r1, r4
 2135 00b0 4FF0FF32 		mov	r2, #-1
 2136 00b4 D868     		ldr	r0, [r3, #12]
 2137 00b6 2346     		mov	r3, r4
 2138 00b8 C047     		blx	r8
 2139              	.LVL193:
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2140              		.loc 1 804 0
 2141 00ba 6B68     		ldr	r3, [r5, #4]
 2142 00bc 0198     		ldr	r0, [sp, #4]	@ unaligned
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2143              		.loc 1 807 0
 2144 00be 2146     		mov	r1, r4
 2145 00c0 2246     		mov	r2, r4
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&distance, sizeof(uint32_t));
 2146              		.loc 1 804 0
 2147 00c2 9B68     		ldr	r3, [r3, #8]
 2148 00c4 C3F80200 		str	r0, [r3, #2]	@ unaligned
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2149              		.loc 1 807 0
 2150 00c8 6B68     		ldr	r3, [r5, #4]
 2151 00ca D868     		ldr	r0, [r3, #12]
 2152 00cc 2346     		mov	r3, r4
 2153 00ce B047     		blx	r6
 2154              	.LVL194:
 809:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 2155              		.loc 1 809 0
 2156 00d0 C7F814A0 		str	r10, [r7, #20]
 810:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2157              		.loc 1 810 0
 2158 00d4 C7F81890 		str	r9, [r7, #24]
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2159              		.loc 1 812 0
 2160 00d8 CDF80CB0 		str	fp, [sp, #12]
 2161              	.L192:
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2162              		.loc 1 813 0
 2163 00dc 686B     		ldr	r0, [r5, #52]
 2164 00de 02A9     		add	r1, sp, #8
 2165 00e0 0A22     		movs	r2, #10
 2166 00e2 2346     		mov	r3, r4
 2167 00e4 B047     		blx	r6
 2168              	.LVL195:
 2169              	.LBE33:
 824:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2170              		.loc 1 824 0
 2171 00e6 2046     		mov	r0, r4
 2172              	.LBB34:
 2173 00e8 0EE0     		b	.L187
 2174              	.L190:
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 2175              		.loc 1 818 0
 2176 00ea 0021     		movs	r1, #0
 2177 00ec 0A46     		mov	r2, r1
 2178 00ee 0B46     		mov	r3, r1
 2179 00f0 F868     		ldr	r0, [r7, #12]
 2180 00f2 B047     		blx	r6
 2181              	.LVL196:
 819:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2182              		.loc 1 819 0
 2183 00f4 084A     		ldr	r2, .L194+8
 2184 00f6 1E20     		movs	r0, #30
 2185 00f8 0221     		movs	r1, #2
 2186              	.L193:
 2187 00fa 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 2188 00fe 074C     		ldr	r4, .L194+12
 2189 0100 A047     		blx	r4
 2190              	.LVL197:
 820:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2191              		.loc 1 820 0
 2192 0102 0220     		movs	r0, #2
 2193 0104 00E0     		b	.L187
 2194              	.LVL198:
 2195              	.L191:
 2196              	.LBE34:
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2197              		.loc 1 757 0
 2198 0106 0120     		movs	r0, #1
 2199              	.LVL199:
 2200              	.L187:
 826:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2201              		.loc 1 826 0
 2202 0108 05B0     		add	sp, sp, #20
 2203              	.LCFI20:
 2204              		.cfi_def_cfa_offset 36
 2205              		@ sp needed
 2206 010a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2207              	.LVL200:
 2208              	.L195:
 2209 010e 00BF     		.align	2
 2210              	.L194:
 2211 0110 00000000 		.word	xQueueGenericSend
 2212 0114 93000000 		.word	.LC8
 2213 0118 AA000000 		.word	.LC9
 2214 011c 00000000 		.word	slogf
 2215 0120 00000000 		.word	xQueueGenericReceive
 2216              		.cfi_endproc
 2217              	.LFE18:
 2219              		.section	.text.cam_move_lens_to_position,"ax",%progbits
 2220              		.align	1
 2221              		.global	cam_move_lens_to_position
 2222              		.thumb
 2223              		.thumb_func
 2225              	cam_move_lens_to_position:
 2226              	.LFB19:
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2227              		.loc 1 835 0
 2228              		.cfi_startproc
 2229              		@ args = 8, pretend = 0, frame = 16
 2230              		@ frame_needed = 0, uses_anonymous_args = 0
 2231              	.LVL201:
 2232 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2233              	.LCFI21:
 2234              		.cfi_def_cfa_offset 36
 2235              		.cfi_offset 4, -36
 2236              		.cfi_offset 5, -32
 2237              		.cfi_offset 6, -28
 2238              		.cfi_offset 7, -24
 2239              		.cfi_offset 8, -20
 2240              		.cfi_offset 9, -16
 2241              		.cfi_offset 10, -12
 2242              		.cfi_offset 11, -8
 2243              		.cfi_offset 14, -4
 2244 0004 85B0     		sub	sp, sp, #20
 2245              	.LCFI22:
 2246              		.cfi_def_cfa_offset 56
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2247              		.loc 1 835 0
 2248 0006 9946     		mov	r9, r3
 2249 0008 9246     		mov	r10, r2
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2250              		.loc 1 837 0
 2251 000a BDF83C30 		ldrh	r3, [sp, #60]
 2252              	.LVL202:
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2253              		.loc 1 835 0
 2254 000e ADF80610 		strh	r1, [sp, #6]	@ movhi
 2255 0012 DDF83880 		ldr	r8, [sp, #56]
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2256              		.loc 1 839 0
 2257 0016 0546     		mov	r5, r0
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2258              		.loc 1 837 0
 2259 0018 ADF80830 		strh	r3, [sp, #8]	@ movhi
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2260              		.loc 1 839 0
 2261 001c 0028     		cmp	r0, #0
 2262 001e 00F08680 		beq	.L201
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2263              		.loc 1 843 0
 2264 0022 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2265 0026 03F0F003 		and	r3, r3, #240
 2266 002a A02B     		cmp	r3, #160
 2267 002c 4368     		ldr	r3, [r0, #4]
 2268              	.LBB35:
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2269              		.loc 1 847 0
 2270 002e 4FF00001 		mov	r1, #0
 2271              	.LVL203:
 2272 0032 414F     		ldr	r7, .L204
 2273 0034 4FF0FF32 		mov	r2, #-1
 2274              	.LVL204:
 2275 0038 404E     		ldr	r6, .L204+4
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2276              		.loc 1 845 0
 2277 003a D3F800B0 		ldr	fp, [r3]
 2278              	.LVL205:
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2279              		.loc 1 847 0
 2280 003e 0B46     		mov	r3, r1
 2281 0040 DBF80C00 		ldr	r0, [fp, #12]
 2282              	.LVL206:
 2283              	.LBE35:
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2284              		.loc 1 843 0
 2285 0044 34D1     		bne	.L198
 2286              	.LBB36:
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2287              		.loc 1 847 0
 2288 0046 B847     		blx	r7
 2289              	.LVL207:
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2290              		.loc 1 848 0
 2291 0048 9BF81840 		ldrb	r4, [fp, #24]	@ zero_extendqisi2
 2292 004c 34BB     		cbnz	r4, .L199
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2293              		.loc 1 851 0
 2294 004e 0123     		movs	r3, #1
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2295              		.loc 1 853 0
 2296 0050 2146     		mov	r1, r4
 2297 0052 2246     		mov	r2, r4
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2298              		.loc 1 851 0
 2299 0054 8BF81830 		strb	r3, [fp, #24]
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2300              		.loc 1 853 0
 2301 0058 2346     		mov	r3, r4
 2302 005a DBF80C00 		ldr	r0, [fp, #12]
 2303 005e B047     		blx	r6
 2304              	.LVL208:
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 2305              		.loc 1 855 0
 2306 0060 6B68     		ldr	r3, [r5, #4]
 2307 0062 2146     		mov	r1, r4
 2308 0064 4FF0FF32 		mov	r2, #-1
 2309 0068 D868     		ldr	r0, [r3, #12]
 2310 006a 2346     		mov	r3, r4
 2311 006c B847     		blx	r7
 2312              	.LVL209:
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2313              		.loc 1 856 0
 2314 006e 6B68     		ldr	r3, [r5, #4]
 2315 0070 BDF80620 		ldrh	r2, [sp, #6]	@ unaligned
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2316              		.loc 1 860 0
 2317 0074 2146     		mov	r1, r4
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2318              		.loc 1 856 0
 2319 0076 9B68     		ldr	r3, [r3, #8]
 2320 0078 DA80     		strh	r2, [r3, #6]	@ unaligned
 858:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 2321              		.loc 1 858 0
 2322 007a 6B68     		ldr	r3, [r5, #4]
 2323 007c 9A68     		ldr	r2, [r3, #8]
 2324 007e A2F808A0 		strh	r10, [r2, #8]	@ movhi
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2325              		.loc 1 860 0
 2326 0082 2246     		mov	r2, r4
 2327 0084 D868     		ldr	r0, [r3, #12]
 2328 0086 2346     		mov	r3, r4
 2329 0088 B047     		blx	r6
 2330              	.LVL210:
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2331              		.loc 1 864 0
 2332 008a 4FF48073 		mov	r3, #256
 862:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 2333              		.loc 1 862 0
 2334 008e CBF81090 		str	r9, [fp, #16]
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_POSITION;
 2335              		.loc 1 863 0
 2336 0092 CBF81480 		str	r8, [fp, #20]
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2337              		.loc 1 864 0
 2338 0096 0393     		str	r3, [sp, #12]
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2339              		.loc 1 865 0
 2340 0098 686B     		ldr	r0, [r5, #52]
 2341 009a 33E0     		b	.L202
 2342              	.L199:
 870:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 2343              		.loc 1 870 0
 2344 009c 0021     		movs	r1, #0
 2345 009e 0A46     		mov	r2, r1
 2346 00a0 0B46     		mov	r3, r1
 2347 00a2 DBF80C00 		ldr	r0, [fp, #12]
 2348 00a6 B047     		blx	r6
 2349              	.LVL211:
 871:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2350              		.loc 1 871 0
 2351 00a8 1E20     		movs	r0, #30
 2352 00aa 0221     		movs	r1, #2
 2353 00ac 244A     		ldr	r2, .L204+8
 2354 00ae 38E0     		b	.L203
 2355              	.L198:
 2356              	.LBE36:
 2357              	.LBB37:
 879:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 2358              		.loc 1 879 0
 2359 00b0 B847     		blx	r7
 2360              	.LVL212:
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2361              		.loc 1 880 0
 2362 00b2 9BF81C40 		ldrb	r4, [fp, #28]	@ zero_extendqisi2
 2363 00b6 5CBB     		cbnz	r4, .L200
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2364              		.loc 1 883 0
 2365 00b8 0123     		movs	r3, #1
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2366              		.loc 1 885 0
 2367 00ba 2146     		mov	r1, r4
 2368 00bc 2246     		mov	r2, r4
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2369              		.loc 1 883 0
 2370 00be 8BF81C30 		strb	r3, [fp, #28]
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2371              		.loc 1 885 0
 2372 00c2 2346     		mov	r3, r4
 2373 00c4 DBF80C00 		ldr	r0, [fp, #12]
 2374 00c8 B047     		blx	r6
 2375              	.LVL213:
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_position,
 2376              		.loc 1 887 0
 2377 00ca 6B68     		ldr	r3, [r5, #4]
 2378 00cc 2146     		mov	r1, r4
 2379 00ce 4FF0FF32 		mov	r2, #-1
 2380 00d2 D868     		ldr	r0, [r3, #12]
 2381 00d4 2346     		mov	r3, r4
 2382 00d6 B847     		blx	r7
 2383              	.LVL214:
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2384              		.loc 1 888 0
 2385 00d8 6B68     		ldr	r3, [r5, #4]
 2386 00da BDF80620 		ldrh	r2, [sp, #6]	@ unaligned
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2387              		.loc 1 892 0
 2388 00de 2146     		mov	r1, r4
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 						&position, sizeof(uint16_t));
 2389              		.loc 1 888 0
 2390 00e0 9B68     		ldr	r3, [r3, #8]
 2391 00e2 DA80     		strh	r2, [r3, #6]	@ unaligned
 890:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 2392              		.loc 1 890 0
 2393 00e4 6B68     		ldr	r3, [r5, #4]
 2394 00e6 9A68     		ldr	r2, [r3, #8]
 2395 00e8 A2F808A0 		strh	r10, [r2, #8]	@ movhi
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2396              		.loc 1 892 0
 2397 00ec 2246     		mov	r2, r4
 2398 00ee D868     		ldr	r0, [r3, #12]
 2399 00f0 2346     		mov	r3, r4
 2400 00f2 B047     		blx	r6
 2401              	.LVL215:
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2402              		.loc 1 898 0
 2403 00f4 DBF81000 		ldr	r0, [fp, #16]
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(plens->queue, &p_cmd, (TickType_t)10);
 2404              		.loc 1 897 0
 2405 00f8 0223     		movs	r3, #2
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 2406              		.loc 1 894 0
 2407 00fa CBF81490 		str	r9, [fp, #20]
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2408              		.loc 1 895 0
 2409 00fe CBF81880 		str	r8, [fp, #24]
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(plens->queue, &p_cmd, (TickType_t)10);
 2410              		.loc 1 897 0
 2411 0102 0393     		str	r3, [sp, #12]
 2412              	.L202:
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2413              		.loc 1 898 0
 2414 0104 02A9     		add	r1, sp, #8
 2415 0106 0A22     		movs	r2, #10
 2416 0108 2346     		mov	r3, r4
 2417 010a B047     		blx	r6
 2418              	.LVL216:
 2419              	.LBE37:
 909:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2420              		.loc 1 909 0
 2421 010c 2046     		mov	r0, r4
 2422              	.LBB38:
 2423 010e 0FE0     		b	.L197
 2424              	.L200:
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 2425              		.loc 1 903 0
 2426 0110 0021     		movs	r1, #0
 2427 0112 0A46     		mov	r2, r1
 2428 0114 0B46     		mov	r3, r1
 2429 0116 DBF80C00 		ldr	r0, [fp, #12]
 2430 011a B047     		blx	r6
 2431              	.LVL217:
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2432              		.loc 1 904 0
 2433 011c 094A     		ldr	r2, .L204+12
 2434 011e 1E20     		movs	r0, #30
 2435 0120 0221     		movs	r1, #2
 2436              	.L203:
 2437 0122 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 2438 0126 084C     		ldr	r4, .L204+16
 2439 0128 A047     		blx	r4
 2440              	.LVL218:
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2441              		.loc 1 905 0
 2442 012a 0220     		movs	r0, #2
 2443 012c 00E0     		b	.L197
 2444              	.LVL219:
 2445              	.L201:
 2446              	.LBE38:
 840:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2447              		.loc 1 840 0
 2448 012e 0120     		movs	r0, #1
 2449              	.LVL220:
 2450              	.L197:
 911:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2451              		.loc 1 911 0
 2452 0130 05B0     		add	sp, sp, #20
 2453              	.LCFI23:
 2454              		.cfi_def_cfa_offset 36
 2455              		@ sp needed
 2456 0132 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2457              	.LVL221:
 2458              	.L205:
 2459 0136 00BF     		.align	2
 2460              	.L204:
 2461 0138 00000000 		.word	xQueueGenericReceive
 2462 013c 00000000 		.word	xQueueGenericSend
 2463 0140 93000000 		.word	.LC8
 2464 0144 AA000000 		.word	.LC9
 2465 0148 00000000 		.word	slogf
 2466              		.cfi_endproc
 2467              	.LFE19:
 2469              		.section	.text.cam_move_mirr_to_position,"ax",%progbits
 2470              		.align	1
 2471              		.global	cam_move_mirr_to_position
 2472              		.thumb
 2473              		.thumb_func
 2475              	cam_move_mirr_to_position:
 2476              	.LFB20:
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2477              		.loc 1 919 0
 2478              		.cfi_startproc
 2479              		@ args = 4, pretend = 0, frame = 16
 2480              		@ frame_needed = 0, uses_anonymous_args = 0
 2481              	.LVL222:
 2482 0000 2DE9FF47 		push	{r0, r1, r2, r3, r4, r5, r6, r7, r8, r9, r10, lr}
 2483              	.LCFI24:
 2484              		.cfi_def_cfa_offset 48
 2485              		.cfi_offset 4, -32
 2486              		.cfi_offset 5, -28
 2487              		.cfi_offset 6, -24
 2488              		.cfi_offset 7, -20
 2489              		.cfi_offset 8, -16
 2490              		.cfi_offset 9, -12
 2491              		.cfi_offset 10, -8
 2492              		.cfi_offset 14, -4
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2493              		.loc 1 919 0
 2494 0004 9846     		mov	r8, r3
 2495 0006 9146     		mov	r9, r2
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2496              		.loc 1 921 0
 2497 0008 BDF83030 		ldrh	r3, [sp, #48]
 2498              	.LVL223:
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2499              		.loc 1 919 0
 2500 000c ADF80610 		strh	r1, [sp, #6]	@ movhi
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2501              		.loc 1 921 0
 2502 0010 ADF80830 		strh	r3, [sp, #8]	@ movhi
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2503              		.loc 1 923 0
 2504 0014 0646     		mov	r6, r0
 2505 0016 0028     		cmp	r0, #0
 2506 0018 46D0     		beq	.L210
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return CAM_INVALID_ARG;
 2507              		.loc 1 923 0 is_stmt 0 discriminator 1
 2508 001a 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2509 001e 03F0F003 		and	r3, r3, #240
 2510 0022 A02B     		cmp	r3, #160
 2511 0024 40D0     		beq	.L210
 2512              	.LBB39:
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 2513              		.loc 1 927 0 is_stmt 1
 2514 0026 4368     		ldr	r3, [r0, #4]
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 2515              		.loc 1 929 0
 2516 0028 0021     		movs	r1, #0
 2517              	.LVL224:
 2518 002a 4FF0FF32 		mov	r2, #-1
 2519              	.LVL225:
 2520 002e DFF88CA0 		ldr	r10, .L211+12
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 2521              		.loc 1 927 0
 2522 0032 5D68     		ldr	r5, [r3, #4]
 2523              	.LVL226:
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 2524              		.loc 1 929 0
 2525 0034 0B46     		mov	r3, r1
 2526 0036 1E4F     		ldr	r7, .L211
 2527 0038 E868     		ldr	r0, [r5, #12]
 2528              	.LVL227:
 2529 003a D047     		blx	r10
 2530              	.LVL228:
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2531              		.loc 1 930 0
 2532 003c 2C7F     		ldrb	r4, [r5, #28]	@ zero_extendqisi2
 2533 003e 2CBB     		cbnz	r4, .L208
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 2534              		.loc 1 933 0
 2535 0040 0123     		movs	r3, #1
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2536              		.loc 1 935 0
 2537 0042 2146     		mov	r1, r4
 2538 0044 2246     		mov	r2, r4
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 2539              		.loc 1 933 0
 2540 0046 2B77     		strb	r3, [r5, #28]
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2541              		.loc 1 935 0
 2542 0048 2346     		mov	r3, r4
 2543 004a E868     		ldr	r0, [r5, #12]
 2544 004c B847     		blx	r7
 2545              	.LVL229:
 937:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_position,
 2546              		.loc 1 937 0
 2547 004e 7368     		ldr	r3, [r6, #4]
 2548 0050 2146     		mov	r1, r4
 2549 0052 4FF0FF32 		mov	r2, #-1
 2550 0056 D868     		ldr	r0, [r3, #12]
 2551 0058 2346     		mov	r3, r4
 2552 005a D047     		blx	r10
 2553              	.LVL230:
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					&position, sizeof(uint16_t));
 2554              		.loc 1 938 0
 2555 005c 7368     		ldr	r3, [r6, #4]
 2556 005e BDF80620 		ldrh	r2, [sp, #6]	@ unaligned
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2557              		.loc 1 941 0
 2558 0062 2146     		mov	r1, r4
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 					&position, sizeof(uint16_t));
 2559              		.loc 1 938 0
 2560 0064 9B68     		ldr	r3, [r3, #8]
 2561 0066 5A81     		strh	r2, [r3, #10]	@ unaligned
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2562              		.loc 1 941 0
 2563 0068 2246     		mov	r2, r4
 2564 006a 7368     		ldr	r3, [r6, #4]
 2565 006c D868     		ldr	r0, [r3, #12]
 2566 006e 2346     		mov	r3, r4
 2567 0070 B847     		blx	r7
 2568              	.LVL231:
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pmirr->queue, &p_cmd, (TickType_t)10);
 2569              		.loc 1 946 0
 2570 0072 0423     		movs	r3, #4
 943:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
 2571              		.loc 1 943 0
 2572 0074 C5F81490 		str	r9, [r5, #20]
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 2573              		.loc 1 947 0
 2574 0078 02A9     		add	r1, sp, #8
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pmirr->queue, &p_cmd, (TickType_t)10);
 2575              		.loc 1 946 0
 2576 007a 0393     		str	r3, [sp, #12]
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 2577              		.loc 1 947 0
 2578 007c 0A22     		movs	r2, #10
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2579              		.loc 1 944 0
 2580 007e C5F81880 		str	r8, [r5, #24]
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 2581              		.loc 1 947 0
 2582 0082 2346     		mov	r3, r4
 2583 0084 2869     		ldr	r0, [r5, #16]
 2584 0086 B847     		blx	r7
 2585              	.LVL232:
 957:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2586              		.loc 1 957 0
 2587 0088 2046     		mov	r0, r4
 2588 008a 0EE0     		b	.L207
 2589              	.L208:
 952:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
 2590              		.loc 1 952 0
 2591 008c 0021     		movs	r1, #0
 2592 008e 0A46     		mov	r2, r1
 2593 0090 0B46     		mov	r3, r1
 2594 0092 E868     		ldr	r0, [r5, #12]
 2595 0094 B847     		blx	r7
 2596              	.LVL233:
 953:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
 2597              		.loc 1 953 0
 2598 0096 074C     		ldr	r4, .L211+4
 2599 0098 1E20     		movs	r0, #30
 2600 009a 96F82930 		ldrb	r3, [r6, #41]	@ zero_extendqisi2
 2601 009e 0221     		movs	r1, #2
 2602 00a0 054A     		ldr	r2, .L211+8
 2603 00a2 A047     		blx	r4
 2604              	.LVL234:
 954:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 2605              		.loc 1 954 0
 2606 00a4 0220     		movs	r0, #2
 2607 00a6 00E0     		b	.L207
 2608              	.LVL235:
 2609              	.L210:
 2610              	.LBE39:
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2611              		.loc 1 924 0
 2612 00a8 0120     		movs	r0, #1
 2613              	.LVL236:
 2614              	.L207:
 959:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2615              		.loc 1 959 0
 2616 00aa 04B0     		add	sp, sp, #16
 2617              	.LCFI25:
 2618              		.cfi_def_cfa_offset 32
 2619              		@ sp needed
 2620 00ac BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2621              	.LVL237:
 2622              	.L212:
 2623              		.align	2
 2624              	.L211:
 2625 00b0 00000000 		.word	xQueueGenericSend
 2626 00b4 00000000 		.word	slogf
 2627 00b8 C2000000 		.word	.LC10
 2628 00bc 00000000 		.word	xQueueGenericReceive
 2629              		.cfi_endproc
 2630              	.LFE20:
 2632              		.section	.text.cam_nudge_lens,"ax",%progbits
 2633              		.align	1
 2634              		.global	cam_nudge_lens
 2635              		.thumb
 2636              		.thumb_func
 2638              	cam_nudge_lens:
 2639              	.LFB21:
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2640              		.loc 1 967 0
 2641              		.cfi_startproc
 2642              		@ args = 8, pretend = 0, frame = 16
 2643              		@ frame_needed = 0, uses_anonymous_args = 0
 2644              	.LVL238:
 2645 0000 2DE9FF47 		push	{r0, r1, r2, r3, r4, r5, r6, r7, r8, r9, r10, lr}
 2646              	.LCFI26:
 2647              		.cfi_def_cfa_offset 48
 2648              		.cfi_offset 4, -32
 2649              		.cfi_offset 5, -28
 2650              		.cfi_offset 6, -24
 2651              		.cfi_offset 7, -20
 2652              		.cfi_offset 8, -16
 2653              		.cfi_offset 9, -12
 2654              		.cfi_offset 10, -8
 2655              		.cfi_offset 14, -4
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2656              		.loc 1 967 0
 2657 0004 DDF83090 		ldr	r9, [sp, #48]
 2658 0008 9A46     		mov	r10, r3
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 2659              		.loc 1 971 0
 2660 000a 0546     		mov	r5, r0
 969:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2661              		.loc 1 969 0
 2662 000c BDF83430 		ldrh	r3, [sp, #52]
 2663              	.LVL239:
 2664 0010 ADF80830 		strh	r3, [sp, #8]	@ movhi
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 2665              		.loc 1 971 0
 2666 0014 0028     		cmp	r0, #0
 2667 0016 00F08480 		beq	.L220
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 2668              		.loc 1 971 0 is_stmt 0 discriminator 1
 2669 001a 0129     		cmp	r1, #1
 2670 001c 00F28180 		bhi	.L220
 2671              	.LBB40:
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2672              		.loc 1 978 0 is_stmt 1
 2673 0020 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2674 0024 03F0F003 		and	r3, r3, #240
 2675 0028 A02B     		cmp	r3, #160
 2676 002a 4368     		ldr	r3, [r0, #4]
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 2677              		.loc 1 977 0
 2678 002c 41EA0221 		orr	r1, r1, r2, lsl #8
 2679              	.LVL240:
 2680 0030 DFF80881 		ldr	r8, .L223+16
 2681              	.LBB41:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2682              		.loc 1 982 0
 2683 0034 4FF0FF32 		mov	r2, #-1
 2684              	.LVL241:
 2685              	.LBE41:
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if(pcam->info.grp == GRP_A)
 2686              		.loc 1 977 0
 2687 0038 0191     		str	r1, [sp, #4]
 2688              	.LBB42:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2689              		.loc 1 982 0
 2690 003a 4FF00001 		mov	r1, #0
 980:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2691              		.loc 1 980 0
 2692 003e 1F68     		ldr	r7, [r3]
 2693              	.LVL242:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2694              		.loc 1 982 0
 2695 0040 0B46     		mov	r3, r1
 2696 0042 3A4E     		ldr	r6, .L223
 2697 0044 F868     		ldr	r0, [r7, #12]
 2698              	.LVL243:
 2699              	.LBE42:
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2700              		.loc 1 978 0
 2701 0046 31D1     		bne	.L215
 2702              	.LBB43:
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (vcm->moving == FALSE)
 2703              		.loc 1 982 0
 2704 0048 C047     		blx	r8
 2705              	.LVL244:
 983:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2706              		.loc 1 983 0
 2707 004a 3C7E     		ldrb	r4, [r7, #24]	@ zero_extendqisi2
 2708 004c 2CBB     		cbnz	r4, .L216
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2709              		.loc 1 986 0
 2710 004e 0123     		movs	r3, #1
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2711              		.loc 1 988 0
 2712 0050 2146     		mov	r1, r4
 2713 0052 2246     		mov	r2, r4
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2714              		.loc 1 986 0
 2715 0054 3B76     		strb	r3, [r7, #24]
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2716              		.loc 1 988 0
 2717 0056 2346     		mov	r3, r4
 2718 0058 F868     		ldr	r0, [r7, #12]
 2719 005a B047     		blx	r6
 2720              	.LVL245:
 990:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
 2721              		.loc 1 990 0
 2722 005c 6B68     		ldr	r3, [r5, #4]
 2723 005e 2146     		mov	r1, r4
 2724 0060 4FF0FF32 		mov	r2, #-1
 2725 0064 D868     		ldr	r0, [r3, #12]
 2726 0066 2346     		mov	r3, r4
 2727 0068 C047     		blx	r8
 2728              	.LVL246:
 991:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 2729              		.loc 1 991 0
 2730 006a 6B68     		ldr	r3, [r5, #4]
 2731 006c 9A68     		ldr	r2, [r3, #8]
 2732 006e 04AB     		add	r3, sp, #16
 2733 0070 33F80C1D 		ldrh	r1, [r3, #-12]!	@ unaligned
 2734 0074 9181     		strh	r1, [r2, #12]	@ unaligned
 2735 0076 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2736 0078 9373     		strb	r3, [r2, #14]
 993:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2737              		.loc 1 993 0
 2738 007a 6B68     		ldr	r3, [r5, #4]
 2739 007c 2146     		mov	r1, r4
 2740 007e 2246     		mov	r2, r4
 2741 0080 D868     		ldr	r0, [r3, #12]
 2742 0082 2346     		mov	r3, r4
 2743 0084 B047     		blx	r6
 2744              	.LVL247:
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2745              		.loc 1 997 0
 2746 0086 4FF48063 		mov	r3, #1024
 995:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				vcm->cb_param = cb_param;
 2747              		.loc 1 995 0
 2748 008a C7F810A0 		str	r10, [r7, #16]
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2749              		.loc 1 998 0
 2750 008e 02A9     		add	r1, sp, #8
 996:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				p_cmd.event = IMG_EVENT_VCM_NUDGE;
 2751              		.loc 1 996 0
 2752 0090 C7F81490 		str	r9, [r7, #20]
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2753              		.loc 1 997 0
 2754 0094 0393     		str	r3, [sp, #12]
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2755              		.loc 1 998 0
 2756 0096 686B     		ldr	r0, [r5, #52]
 2757 0098 30E0     		b	.L222
 2758              	.L216:
1003:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : VCM is moving", pcam->info.module);
 2759              		.loc 1 1003 0
 2760 009a 0021     		movs	r1, #0
 2761 009c 0A46     		mov	r2, r1
 2762 009e 0B46     		mov	r3, r1
 2763 00a0 F868     		ldr	r0, [r7, #12]
 2764 00a2 B047     		blx	r6
 2765              	.LVL248:
1004:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2766              		.loc 1 1004 0
 2767 00a4 1E20     		movs	r0, #30
 2768 00a6 0221     		movs	r1, #2
 2769 00a8 214A     		ldr	r2, .L223+4
 2770 00aa 34E0     		b	.L221
 2771              	.L215:
 2772              	.LBE43:
 2773              	.LBB44:
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			if (plens->moving == FALSE)
 2774              		.loc 1 1012 0
 2775 00ac C047     		blx	r8
 2776              	.LVL249:
1013:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			{
 2777              		.loc 1 1013 0
 2778 00ae 3C7F     		ldrb	r4, [r7, #28]	@ zero_extendqisi2
 2779 00b0 4CBB     		cbnz	r4, .L218
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2780              		.loc 1 1016 0
 2781 00b2 0123     		movs	r3, #1
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2782              		.loc 1 1018 0
 2783 00b4 2146     		mov	r1, r4
 2784 00b6 2246     		mov	r2, r4
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after accessing data */
 2785              		.loc 1 1016 0
 2786 00b8 3B77     		strb	r3, [r7, #28]
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* take semaphore to access settings memory */
 2787              		.loc 1 1018 0
 2788 00ba 2346     		mov	r3, r4
 2789 00bc F868     		ldr	r0, [r7, #12]
 2790 00be B047     		blx	r6
 2791              	.LVL250:
1020:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				memcpy(pcam->optical->settings->lens_nudge, &lens_nudge, 3);
 2792              		.loc 1 1020 0
 2793 00c0 6B68     		ldr	r3, [r5, #4]
 2794 00c2 2146     		mov	r1, r4
 2795 00c4 4FF0FF32 		mov	r2, #-1
 2796 00c8 D868     		ldr	r0, [r3, #12]
 2797 00ca 2346     		mov	r3, r4
 2798 00cc C047     		blx	r8
 2799              	.LVL251:
1021:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				/* release semaphore after writing data */
 2800              		.loc 1 1021 0
 2801 00ce 6B68     		ldr	r3, [r5, #4]
 2802 00d0 9A68     		ldr	r2, [r3, #8]
 2803 00d2 04AB     		add	r3, sp, #16
 2804 00d4 33F80C1D 		ldrh	r1, [r3, #-12]!	@ unaligned
 2805 00d8 9181     		strh	r1, [r2, #12]	@ unaligned
 2806 00da 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2807 00dc 9373     		strb	r3, [r2, #14]
1023:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2808              		.loc 1 1023 0
 2809 00de 6B68     		ldr	r3, [r5, #4]
 2810 00e0 2146     		mov	r1, r4
 2811 00e2 2246     		mov	r2, r4
 2812 00e4 D868     		ldr	r0, [r3, #12]
 2813 00e6 2346     		mov	r3, r4
 2814 00e8 B047     		blx	r6
 2815              	.LVL252:
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2816              		.loc 1 1028 0
 2817 00ea 0823     		movs	r3, #8
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2818              		.loc 1 1029 0
 2819 00ec 686B     		ldr	r0, [r5, #52]
 2820 00ee 0DEB0301 		add	r1, sp, r3
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				plens->cb_param = cb_param;
 2821              		.loc 1 1025 0
 2822 00f2 C7F814A0 		str	r10, [r7, #20]
1026:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2823              		.loc 1 1026 0
 2824 00f6 C7F81890 		str	r9, [r7, #24]
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2825              		.loc 1 1028 0
 2826 00fa 0393     		str	r3, [sp, #12]
 2827              	.L222:
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2828              		.loc 1 1029 0
 2829 00fc 0A22     		movs	r2, #10
 2830 00fe 2346     		mov	r3, r4
 2831 0100 B047     		blx	r6
 2832              	.LVL253:
 2833              	.LBE44:
1040:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 2834              		.loc 1 1040 0
 2835 0102 2046     		mov	r0, r4
 2836              	.LBB45:
 2837 0104 0EE0     		b	.L214
 2838              	.L218:
1034:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				SLOGF(SLOG_ERROR, "CAM-%X : Lens is moving", pcam->info.module);
 2839              		.loc 1 1034 0
 2840 0106 0021     		movs	r1, #0
 2841 0108 0A46     		mov	r2, r1
 2842 010a 0B46     		mov	r3, r1
 2843 010c F868     		ldr	r0, [r7, #12]
 2844 010e B047     		blx	r6
 2845              	.LVL254:
1035:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 				return CAM_BUSY;
 2846              		.loc 1 1035 0
 2847 0110 084A     		ldr	r2, .L223+8
 2848 0112 1E20     		movs	r0, #30
 2849 0114 0221     		movs	r1, #2
 2850              	.L221:
 2851 0116 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 2852 011a 074C     		ldr	r4, .L223+12
 2853 011c A047     		blx	r4
 2854              	.LVL255:
1036:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			}
 2855              		.loc 1 1036 0
 2856 011e 0220     		movs	r0, #2
 2857 0120 00E0     		b	.L214
 2858              	.LVL256:
 2859              	.L220:
 2860              	.LBE45:
 2861              	.LBE40:
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 2862              		.loc 1 974 0
 2863 0122 0120     		movs	r0, #1
 2864              	.LVL257:
 2865              	.L214:
1042:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2866              		.loc 1 1042 0 discriminator 1
 2867 0124 04B0     		add	sp, sp, #16
 2868              	.LCFI27:
 2869              		.cfi_def_cfa_offset 32
 2870              		@ sp needed
 2871 0126 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2872              	.LVL258:
 2873              	.L224:
 2874 012a 00BF     		.align	2
 2875              	.L223:
 2876 012c 00000000 		.word	xQueueGenericSend
 2877 0130 93000000 		.word	.LC8
 2878 0134 AA000000 		.word	.LC9
 2879 0138 00000000 		.word	slogf
 2880 013c 00000000 		.word	xQueueGenericReceive
 2881              		.cfi_endproc
 2882              	.LFE21:
 2884              		.section	.text.cam_nudge_mirr,"ax",%progbits
 2885              		.align	1
 2886              		.global	cam_nudge_mirr
 2887              		.thumb
 2888              		.thumb_func
 2890              	cam_nudge_mirr:
 2891              	.LFB22:
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2892              		.loc 1 1050 0
 2893              		.cfi_startproc
 2894              		@ args = 8, pretend = 0, frame = 16
 2895              		@ frame_needed = 0, uses_anonymous_args = 0
 2896              	.LVL259:
 2897 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2898              	.LCFI28:
 2899              		.cfi_def_cfa_offset 28
 2900              		.cfi_offset 4, -28
 2901              		.cfi_offset 5, -24
 2902              		.cfi_offset 6, -20
 2903              		.cfi_offset 7, -16
 2904              		.cfi_offset 8, -12
 2905              		.cfi_offset 9, -8
 2906              		.cfi_offset 14, -4
 2907 0004 85B0     		sub	sp, sp, #20
 2908              	.LCFI29:
 2909              		.cfi_def_cfa_offset 48
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	lcc_cmd_tid_t p_cmd;
 2910              		.loc 1 1050 0
 2911 0006 9846     		mov	r8, r3
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 2912              		.loc 1 1054 0
 2913 0008 0546     		mov	r5, r0
1052:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* check parameter validation */
 2914              		.loc 1 1052 0
 2915 000a BDF83430 		ldrh	r3, [sp, #52]
 2916              	.LVL260:
 2917 000e ADF80830 		strh	r3, [sp, #8]	@ movhi
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 2918              		.loc 1 1054 0
 2919 0012 0028     		cmp	r0, #0
 2920 0014 4FD0     		beq	.L231
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 2921              		.loc 1 1054 0 is_stmt 0 discriminator 1
 2922 0016 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2923 001a 03F0F003 		and	r3, r3, #240
 2924 001e A02B     		cmp	r3, #160
 2925 0020 49D0     		beq	.L231
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		((direction != CAM_DIR_RETRACT_NARROW) &&
 2926              		.loc 1 1054 0 discriminator 2
 2927 0022 0129     		cmp	r1, #1
 2928 0024 47D8     		bhi	.L231
 2929              	.LBB46:
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 2930              		.loc 1 1061 0 is_stmt 1
 2931 0026 4368     		ldr	r3, [r0, #4]
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
 2932              		.loc 1 1060 0
 2933 0028 41EA0221 		orr	r1, r1, r2, lsl #8
 2934              	.LVL261:
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 2935              		.loc 1 1063 0
 2936 002c DFF89C90 		ldr	r9, .L232+12
 2937 0030 4FF0FF32 		mov	r2, #-1
 2938              	.LVL262:
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		actuator_t *pmirr = (actuator_t *)pcam->optical->mirr;
 2939              		.loc 1 1060 0
 2940 0034 0191     		str	r1, [sp, #4]
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 2941              		.loc 1 1063 0
 2942 0036 0021     		movs	r1, #0
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* take semaphore to access settings memory */
 2943              		.loc 1 1061 0
 2944 0038 5E68     		ldr	r6, [r3, #4]
 2945              	.LVL263:
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (pmirr->moving == FALSE)
 2946              		.loc 1 1063 0
 2947 003a 0B46     		mov	r3, r1
 2948 003c 204F     		ldr	r7, .L232
 2949 003e F068     		ldr	r0, [r6, #12]
 2950              	.LVL264:
 2951 0040 C847     		blx	r9
 2952              	.LVL265:
1064:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
 2953              		.loc 1 1064 0
 2954 0042 347F     		ldrb	r4, [r6, #28]	@ zero_extendqisi2
 2955 0044 4CBB     		cbnz	r4, .L227
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 2956              		.loc 1 1067 0
 2957 0046 0123     		movs	r3, #1
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2958              		.loc 1 1069 0
 2959 0048 2146     		mov	r1, r4
 2960 004a 2246     		mov	r2, r4
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after accessing data */
 2961              		.loc 1 1067 0
 2962 004c 3377     		strb	r3, [r6, #28]
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* take semaphore to access settings memory */
 2963              		.loc 1 1069 0
 2964 004e 2346     		mov	r3, r4
 2965 0050 F068     		ldr	r0, [r6, #12]
 2966 0052 B847     		blx	r7
 2967              	.LVL266:
1071:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			memcpy(pcam->optical->settings->mirr_nudge, &mirr_nudge, 3);
 2968              		.loc 1 1071 0
 2969 0054 6B68     		ldr	r3, [r5, #4]
 2970 0056 2146     		mov	r1, r4
 2971 0058 4FF0FF32 		mov	r2, #-1
 2972 005c D868     		ldr	r0, [r3, #12]
 2973 005e 2346     		mov	r3, r4
 2974 0060 C847     		blx	r9
 2975              	.LVL267:
1072:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			/* release semaphore after writing data */
 2976              		.loc 1 1072 0
 2977 0062 6B68     		ldr	r3, [r5, #4]
 2978 0064 9A68     		ldr	r2, [r3, #8]
 2979 0066 04AB     		add	r3, sp, #16
 2980 0068 33F80C1D 		ldrh	r1, [r3, #-12]!	@ unaligned
 2981 006c A2F80F10 		strh	r1, [r2, #15]	@ unaligned
 2982 0070 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2983 0072 5374     		strb	r3, [r2, #17]
1074:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 2984              		.loc 1 1074 0
 2985 0074 6B68     		ldr	r3, [r5, #4]
 2986 0076 2146     		mov	r1, r4
 2987 0078 2246     		mov	r2, r4
 2988 007a D868     		ldr	r0, [r3, #12]
 2989 007c 2346     		mov	r3, r4
 2990 007e B847     		blx	r7
 2991              	.LVL268:
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			p_cmd.event = OPT_EVENT_MIRROR_NUDGE;
 2992              		.loc 1 1077 0
 2993 0080 0C9B     		ldr	r3, [sp, #48]
 2994 0082 B361     		str	r3, [r6, #24]
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 2995              		.loc 1 1078 0
 2996 0084 1023     		movs	r3, #16
1076:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			pmirr->cb_param = cb_param;
 2997              		.loc 1 1076 0
 2998 0086 C6F81480 		str	r8, [r6, #20]
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 2999              		.loc 1 1079 0
 3000 008a 02A9     		add	r1, sp, #8
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			xQueueSend(pcam->queue, &p_cmd, (TickType_t)10);
 3001              		.loc 1 1078 0
 3002 008c 0393     		str	r3, [sp, #12]
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3003              		.loc 1 1079 0
 3004 008e 0A22     		movs	r2, #10
 3005 0090 686B     		ldr	r0, [r5, #52]
 3006 0092 2346     		mov	r3, r4
 3007 0094 B847     		blx	r7
 3008              	.LVL269:
1089:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
 3009              		.loc 1 1089 0
 3010 0096 2046     		mov	r0, r4
 3011 0098 0EE0     		b	.L226
 3012              	.L227:
1084:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_ERROR, "CAM-%X : Mirror is moving", pcam->info.module);
 3013              		.loc 1 1084 0
 3014 009a 0021     		movs	r1, #0
 3015 009c 0A46     		mov	r2, r1
 3016 009e 0B46     		mov	r3, r1
 3017 00a0 F068     		ldr	r0, [r6, #12]
 3018 00a2 B847     		blx	r7
 3019              	.LVL270:
1085:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return CAM_BUSY;
 3020              		.loc 1 1085 0
 3021 00a4 074C     		ldr	r4, .L232+4
 3022 00a6 1E20     		movs	r0, #30
 3023 00a8 95F82930 		ldrb	r3, [r5, #41]	@ zero_extendqisi2
 3024 00ac 0221     		movs	r1, #2
 3025 00ae 064A     		ldr	r2, .L232+8
 3026 00b0 A047     		blx	r4
 3027              	.LVL271:
1086:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
 3028              		.loc 1 1086 0
 3029 00b2 0220     		movs	r0, #2
 3030 00b4 00E0     		b	.L226
 3031              	.LVL272:
 3032              	.L231:
 3033              	.LBE46:
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	else
 3034              		.loc 1 1057 0
 3035 00b6 0120     		movs	r0, #1
 3036              	.LVL273:
 3037              	.L226:
1091:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
 3038              		.loc 1 1091 0 discriminator 1
 3039 00b8 05B0     		add	sp, sp, #20
 3040              	.LCFI30:
 3041              		.cfi_def_cfa_offset 28
 3042              		@ sp needed
 3043 00ba BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3044              	.LVL274:
 3045              	.L233:
 3046 00be 00BF     		.align	2
 3047              	.L232:
 3048 00c0 00000000 		.word	xQueueGenericSend
 3049 00c4 00000000 		.word	slogf
 3050 00c8 C2000000 		.word	.LC10
 3051 00cc 00000000 		.word	xQueueGenericReceive
 3052              		.cfi_endproc
 3053              	.LFE22:
 3055              		.section	.text.intr_queue_push,"ax",%progbits
 3056              		.align	1
 3057              		.global	intr_queue_push
 3058              		.thumb
 3059              		.thumb_func
 3061              	intr_queue_push:
 3062              	.LFB24:
1097:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1098:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(intr_src_queue == NULL)
1099:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* Queue was not created and must not be used. */
1101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** int intr_queue_push(uint16_t cmd_tid, uint16_t status)
1105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3063              		.loc 1 1105 0
 3064              		.cfi_startproc
 3065              		@ args = 0, pretend = 0, frame = 8
 3066              		@ frame_needed = 0, uses_anonymous_args = 0
 3067              	.LVL275:
 3068 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 3069              	.LCFI31:
 3070              		.cfi_def_cfa_offset 24
 3071              		.cfi_offset 4, -16
 3072              		.cfi_offset 5, -12
 3073              		.cfi_offset 6, -8
 3074              		.cfi_offset 14, -4
1106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t timeout = 50;
1107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
1108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_intr_src_st.cmd_tid = cmd_tid;
1109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_intr_src_st.status = status;
1110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Push the p_intr_src_st into intr_src_queue to be pop
1111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	whenever there is a request from host*/
1112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while (xQueueSend(intr_src_queue, &p_intr_src_st, (TickType_t)10) != pdTRUE)
 3075              		.loc 1 1112 0
 3076 0002 3225     		movs	r5, #50
1108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	p_intr_src_st.status = status;
 3077              		.loc 1 1108 0
 3078 0004 ADF80000 		strh	r0, [sp]	@ movhi
1109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Push the p_intr_src_st into intr_src_queue to be pop
 3079              		.loc 1 1109 0
 3080 0008 ADF80210 		strh	r1, [sp, #2]	@ movhi
 3081              	.LVL276:
 3082              	.L235:
 3083              		.loc 1 1112 0
 3084 000c 104E     		ldr	r6, .L240
 3085 000e 6946     		mov	r1, sp
 3086 0010 104C     		ldr	r4, .L240+4
 3087 0012 0A22     		movs	r2, #10
 3088 0014 0023     		movs	r3, #0
 3089 0016 3068     		ldr	r0, [r6]
 3090 0018 A047     		blx	r4
 3091              	.LVL277:
 3092 001a 0128     		cmp	r0, #1
 3093 001c 0446     		mov	r4, r0
 3094 001e 11D0     		beq	.L239
 3095              	.LBB47:
1113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* The queue is full */
1115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		intr_src_t tmp;
1116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		xQueueReceive(intr_src_queue, &tmp, (TickType_t)10);
 3096              		.loc 1 1116 0
 3097 0020 3068     		ldr	r0, [r6]
 3098 0022 01A9     		add	r1, sp, #4
 3099 0024 0A22     		movs	r2, #10
 3100 0026 0023     		movs	r3, #0
 3101 0028 0B4C     		ldr	r4, .L240+8
 3102 002a 013D     		subs	r5, r5, #1
 3103              	.LVL278:
 3104 002c A047     		blx	r4
 3105              	.LVL279:
1117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		if (--timeout == 0)
 3106              		.loc 1 1117 0
 3107 002e 15F0FF05 		ands	r5, r5, #255
 3108 0032 EBD1     		bne	.L235
1118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		{
1119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			SLOGF(SLOG_DEBUG, "intr_src_queue full\r\n");
 3109              		.loc 1 1119 0
 3110 0034 1E20     		movs	r0, #30
 3111 0036 1021     		movs	r1, #16
 3112 0038 084A     		ldr	r2, .L240+12
 3113 003a 094B     		ldr	r3, .L240+16
 3114 003c 9847     		blx	r3
 3115              	.LVL280:
1120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 			return -1;
 3116              		.loc 1 1120 0
 3117 003e 4FF0FF30 		mov	r0, #-1
 3118 0042 02E0     		b	.L237
 3119              	.LVL281:
 3120              	.L239:
 3121              	.LBE47:
1121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		}
1122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** //	SLOGF(SLOG_INFO, "Sending INTR for TID: 0x%04x [%d]", cmd_tid, status);
1124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_signal();
 3122              		.loc 1 1124 0
 3123 0044 074B     		ldr	r3, .L240+20
 3124 0046 9847     		blx	r3
 3125              	.LVL282:
1125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return 1;
 3126              		.loc 1 1125 0
 3127 0048 2046     		mov	r0, r4
 3128              	.LVL283:
 3129              	.L237:
1126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 3130              		.loc 1 1126 0
 3131 004a 02B0     		add	sp, sp, #8
 3132              	.LCFI32:
 3133              		.cfi_def_cfa_offset 16
 3134              		@ sp needed
 3135 004c 70BD     		pop	{r4, r5, r6, pc}
 3136              	.L241:
 3137 004e 00BF     		.align	2
 3138              	.L240:
 3139 0050 00000000 		.word	.LANCHOR3
 3140 0054 00000000 		.word	xQueueGenericSend
 3141 0058 00000000 		.word	xQueueGenericReceive
 3142 005c DC000000 		.word	.LC11
 3143 0060 00000000 		.word	slogf
 3144 0064 00000000 		.word	intr_signal
 3145              		.cfi_endproc
 3146              	.LFE24:
 3148              		.section	.text.intr_queue_pop,"ax",%progbits
 3149              		.align	1
 3150              		.global	intr_queue_pop
 3151              		.thumb
 3152              		.thumb_func
 3154              	intr_queue_pop:
 3155              	.LFB25:
1127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** int intr_queue_pop(uint8_t *intr_src_data)
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3156              		.loc 1 1129 0
 3157              		.cfi_startproc
 3158              		@ args = 0, pretend = 0, frame = 8
 3159              		@ frame_needed = 0, uses_anonymous_args = 0
 3160              	.LVL284:
1130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
1131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(xQueueReceive(intr_src_queue, &p_intr_src_st, (TickType_t)10) != pdTRUE)
 3161              		.loc 1 1131 0
 3162 0000 114B     		ldr	r3, .L245
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
 3163              		.loc 1 1129 0
 3164 0002 37B5     		push	{r0, r1, r2, r4, r5, lr}
 3165              	.LCFI33:
 3166              		.cfi_def_cfa_offset 24
 3167              		.cfi_offset 4, -12
 3168              		.cfi_offset 5, -8
 3169              		.cfi_offset 14, -4
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_t p_intr_src_st;
 3170              		.loc 1 1129 0
 3171 0004 0446     		mov	r4, r0
 3172              		.loc 1 1131 0
 3173 0006 01A9     		add	r1, sp, #4
 3174 0008 1868     		ldr	r0, [r3]
 3175              	.LVL285:
 3176 000a 0A22     		movs	r2, #10
 3177 000c 0023     		movs	r3, #0
 3178 000e 0F4D     		ldr	r5, .L245+4
 3179 0010 A847     		blx	r5
 3180              	.LVL286:
 3181 0012 0128     		cmp	r0, #1
 3182 0014 0CD0     		beq	.L243
1132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		SLOGF(SLOG_DEBUG, "intr_src_queue empty");
 3183              		.loc 1 1133 0
 3184 0016 1E20     		movs	r0, #30
 3185 0018 1021     		movs	r1, #16
 3186 001a 0D4A     		ldr	r2, .L245+8
 3187 001c 0D4B     		ldr	r3, .L245+12
 3188 001e 9847     		blx	r3
 3189              	.LVL287:
1134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		/* If the queue is empty then return dummy data */
1135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		memset(intr_src_data, 0xFF, INTR_DATA_SIZE);
 3190              		.loc 1 1135 0
 3191 0020 2046     		mov	r0, r4
 3192 0022 FF21     		movs	r1, #255
 3193 0024 0422     		movs	r2, #4
 3194 0026 0C4B     		ldr	r3, .L245+16
 3195 0028 9847     		blx	r3
 3196              	.LVL288:
1136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		return -1;
 3197              		.loc 1 1136 0
 3198 002a 4FF0FF30 		mov	r0, #-1
 3199 002e 09E0     		b	.L244
 3200              	.L243:
1137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[0] = p_intr_src_st.cmd_tid >> 8;
 3201              		.loc 1 1138 0
 3202 0030 BDF80430 		ldrh	r3, [sp, #4]
 3203 0034 1A0A     		lsrs	r2, r3, #8
1139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[1] = p_intr_src_st.cmd_tid & 0xFF;
 3204              		.loc 1 1139 0
 3205 0036 6370     		strb	r3, [r4, #1]
1140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[2] = p_intr_src_st.status & 0xFF;
 3206              		.loc 1 1140 0
 3207 0038 BDF80630 		ldrh	r3, [sp, #6]
 3208 003c A370     		strb	r3, [r4, #2]
1141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[3] = p_intr_src_st.status >> 8;
 3209              		.loc 1 1141 0
 3210 003e 1B0A     		lsrs	r3, r3, #8
1138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	intr_src_data[1] = p_intr_src_st.cmd_tid & 0xFF;
 3211              		.loc 1 1138 0
 3212 0040 2270     		strb	r2, [r4]
 3213              		.loc 1 1141 0
 3214 0042 E370     		strb	r3, [r4, #3]
 3215              	.L244:
1142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #if (ASIC_NUM == ASIC1)
1144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Delete log queue */
1145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	struct lcc_cmd_log_t *del = lcc_cmd_log_pull(p_intr_src_st.cmd_tid);
1146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	if(del != NULL)
1147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		lcc_cmd_log_delete_tid(del);
1148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** #endif
1149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return 1;
1150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 3216              		.loc 1 1150 0
 3217 0044 03B0     		add	sp, sp, #12
 3218              	.LCFI34:
 3219              		.cfi_def_cfa_offset 12
 3220              		@ sp needed
 3221 0046 30BD     		pop	{r4, r5, pc}
 3222              	.LVL289:
 3223              	.L246:
 3224              		.align	2
 3225              	.L245:
 3226 0048 00000000 		.word	.LANCHOR3
 3227 004c 00000000 		.word	xQueueGenericReceive
 3228 0050 F2000000 		.word	.LC12
 3229 0054 00000000 		.word	slogf
 3230 0058 00000000 		.word	memset
 3231              		.cfi_endproc
 3232              	.LFE25:
 3234              		.section	.text.intr_queue_reset,"ax",%progbits
 3235              		.align	1
 3236              		.global	intr_queue_reset
 3237              		.thumb
 3238              		.thumb_func
 3240              	intr_queue_reset:
 3241              	.LFB26:
1151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void intr_queue_reset(void)
1152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3242              		.loc 1 1152 0
 3243              		.cfi_startproc
 3244              		@ args = 0, pretend = 0, frame = 0
 3245              		@ frame_needed = 0, uses_anonymous_args = 0
 3246 0000 08B5     		push	{r3, lr}
 3247              	.LCFI35:
 3248              		.cfi_def_cfa_offset 8
 3249              		.cfi_offset 3, -8
 3250              		.cfi_offset 14, -4
1153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xQueueReset(intr_src_queue);
 3251              		.loc 1 1153 0
 3252 0002 054B     		ldr	r3, .L248
 3253 0004 0021     		movs	r1, #0
 3254 0006 1868     		ldr	r0, [r3]
 3255 0008 044B     		ldr	r3, .L248+4
 3256 000a 9847     		blx	r3
 3257              	.LVL290:
1154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	SLOGF(SLOG_DEBUG, "Reset intr_src_queue");
 3258              		.loc 1 1154 0
 3259 000c 1E20     		movs	r0, #30
 3260 000e 1021     		movs	r1, #16
 3261 0010 034A     		ldr	r2, .L248+8
 3262 0012 044B     		ldr	r3, .L248+12
 3263 0014 9847     		blx	r3
 3264              	.LVL291:
 3265 0016 08BD     		pop	{r3, pc}
 3266              	.L249:
 3267              		.align	2
 3268              	.L248:
 3269 0018 00000000 		.word	.LANCHOR3
 3270 001c 00000000 		.word	xQueueGenericReset
 3271 0020 07010000 		.word	.LC13
 3272 0024 00000000 		.word	slogf
 3273              		.cfi_endproc
 3274              	.LFE26:
 3276              		.section	.text.send_hw_sync_trigger,"ax",%progbits
 3277              		.align	1
 3278              		.global	send_hw_sync_trigger
 3279              		.thumb
 3280              		.thumb_func
 3282              	send_hw_sync_trigger:
 3283              	.LFB27:
1155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void send_hw_sync_trigger()
1157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3284              		.loc 1 1157 0
 3285              		.cfi_startproc
 3286              		@ args = 0, pretend = 0, frame = 0
 3287              		@ frame_needed = 0, uses_anonymous_args = 0
 3288              	.LVL292:
 3289 0000 08B5     		push	{r3, lr}
 3290              	.LCFI36:
 3291              		.cfi_def_cfa_offset 8
 3292              		.cfi_offset 3, -8
 3293              		.cfi_offset 14, -4
1158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	unsigned int i = 533;
1159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	vTaskSuspendAll();
 3294              		.loc 1 1159 0
 3295 0002 064B     		ldr	r3, .L251
 3296 0004 9847     		blx	r3
 3297              	.LVL293:
1160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_low(PWM1_CH4, PWM_PIN_NEG);
 3298              		.loc 1 1160 0
 3299 0006 0920     		movs	r0, #9
 3300 0008 0121     		movs	r1, #1
 3301 000a 054B     		ldr	r3, .L251+4
 3302 000c 9847     		blx	r3
 3303              	.LVL294:
1161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	while(i)
1162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		i--;
1163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	hal_pwm_set_high(PWM1_CH4, PWM_PIN_NEG);
 3304              		.loc 1 1163 0
 3305 000e 0121     		movs	r1, #1
 3306 0010 044B     		ldr	r3, .L251+8
 3307 0012 0920     		movs	r0, #9
 3308 0014 9847     		blx	r3
 3309              	.LVL295:
1164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	xTaskResumeAll();
 3310              		.loc 1 1164 0
 3311 0016 044B     		ldr	r3, .L251+12
 3312 0018 9847     		blx	r3
 3313              	.LVL296:
 3314 001a 08BD     		pop	{r3, pc}
 3315              	.L252:
 3316              		.align	2
 3317              	.L251:
 3318 001c 00000000 		.word	vTaskSuspendAll
 3319 0020 00000000 		.word	hal_pwm_set_low
 3320 0024 00000000 		.word	hal_pwm_set_high
 3321 0028 00000000 		.word	xTaskResumeAll
 3322              		.cfi_endproc
 3323              	.LFE27:
 3325              		.section	.text.get_calib_size,"ax",%progbits
 3326              		.align	1
 3327              		.global	get_calib_size
 3328              		.thumb
 3329              		.thumb_func
 3331              	get_calib_size:
 3332              	.LFB28:
1165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
1166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** uint32_t get_calib_size(void)
1168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3333              		.loc 1 1168 0
 3334              		.cfi_startproc
 3335              		@ args = 0, pretend = 0, frame = 8
 3336              		@ frame_needed = 0, uses_anonymous_args = 0
 3337              	.LVL297:
 3338 0000 13B5     		push	{r0, r1, r4, lr}
 3339              	.LCFI37:
 3340              		.cfi_def_cfa_offset 16
 3341              		.cfi_offset 4, -8
 3342              		.cfi_offset 14, -4
1169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint32_t size = 0;
1170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t buf[4];
1171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	uint8_t len = ARRAY_SIZE(buf);
1172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Read data from spi flash */
1173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	flash_read(CALIB_DATA_SIZE_OFFSET, len, buf, SINGLE_MODE);
 3343              		.loc 1 1173 0
 3344 0002 0421     		movs	r1, #4
 3345 0004 0DEB0102 		add	r2, sp, r1
 3346 0008 0023     		movs	r3, #0
 3347 000a 0A4C     		ldr	r4, .L254
 3348 000c 4FF4A010 		mov	r0, #1310720
 3349 0010 A047     		blx	r4
 3350              	.LVL298:
 3351              	.LBB48:
1174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	for(uint8_t i = 0; i < len; i++)
1175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	{
1176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 		size |= (uint32_t)((uint32_t)(buf[i]) << (8 *(len - i - 1)));
 3352              		.loc 1 1176 0
 3353 0012 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 3354 0016 1B06     		lsls	r3, r3, #24
 3355              	.LVL299:
 3356 0018 9DF80500 		ldrb	r0, [sp, #5]	@ zero_extendqisi2
 3357 001c 43EA0043 		orr	r3, r3, r0, lsl #16
 3358              	.LVL300:
 3359 0020 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 3360 0024 43EA0023 		orr	r3, r3, r0, lsl #8
 3361              	.LVL301:
 3362 0028 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 3363              	.LVL302:
 3364              	.LBE48:
1177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	}
1178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	return size;
1180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** }
 3365              		.loc 1 1180 0
 3366 002c 1843     		orrs	r0, r0, r3
 3367              	.LVL303:
 3368 002e 02B0     		add	sp, sp, #8
 3369              	.LCFI38:
 3370              		.cfi_def_cfa_offset 8
 3371              		@ sp needed
 3372 0030 10BD     		pop	{r4, pc}
 3373              	.L255:
 3374 0032 00BF     		.align	2
 3375              	.L254:
 3376 0034 00000000 		.word	flash_read
 3377              		.cfi_endproc
 3378              	.LFE28:
 3380              		.section	.text.copy_calib_data,"ax",%progbits
 3381              		.align	1
 3382              		.global	copy_calib_data
 3383              		.thumb
 3384              		.thumb_func
 3386              	copy_calib_data:
 3387              	.LFB29:
1181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 
1182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** void copy_calib_data(uint32_t offset, uint8_t *dst, uint32_t size)
1183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** {
 3388              		.loc 1 1183 0
 3389              		.cfi_startproc
 3390              		@ args = 0, pretend = 0, frame = 0
 3391              		@ frame_needed = 0, uses_anonymous_args = 0
 3392              	.LVL304:
 3393 0000 0B46     		mov	r3, r1
1184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Read data from spi flash */
1185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	flash_read(CALIB_DATA_OFFSET + offset, size, dst, SINGLE_MODE);
 3394              		.loc 1 1185 0
 3395 0002 00F58810 		add	r0, r0, #1114112
 3396              	.LVL305:
1183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/light_system.c **** 	/* Read data from spi flash */
 3397              		.loc 1 1183 0
 3398 0006 10B5     		push	{r4, lr}
 3399              	.LCFI39:
 3400              		.cfi_def_cfa_offset 8
 3401              		.cfi_offset 4, -8
 3402              		.cfi_offset 14, -4
 3403              		.loc 1 1185 0
 3404 0008 1146     		mov	r1, r2
 3405              	.LVL306:
 3406 000a 1A46     		mov	r2, r3
 3407              	.LVL307:
 3408 000c 014C     		ldr	r4, .L257
 3409 000e 0023     		movs	r3, #0
 3410              	.LVL308:
 3411 0010 A047     		blx	r4
 3412              	.LVL309:
 3413 0012 10BD     		pop	{r4, pc}
 3414              	.L258:
 3415              		.align	2
 3416              	.L257:
 3417 0014 00000000 		.word	flash_read
 3418              		.cfi_endproc
 3419              	.LFE29:
 3421              		.global	light_system
 3422              		.global	modules_tlb_size
 3423              		.global	modules_tbl
 3424              		.global	lookup_tbl
 3425              		.section	.rodata.lookup_tbl,"a",%progbits
 3426              		.align	1
 3427              		.set	.LANCHOR6,. + 0
 3430              	lookup_tbl:
 3431 0000 0000     		.short	0
 3432 0002 04A2     		.short	-24060
 3433 0004 05A3     		.short	-23803
 3434 0006 01A4     		.short	-23551
 3435 0008 0000     		.short	0
 3436 000a 06B1     		.short	-20218
 3437 000c 0000     		.short	0
 3438 000e 02B3     		.short	-19710
 3439 0010 0000     		.short	0
 3440 0012 0000     		.short	0
 3441 0014 0000     		.short	0
 3442 0016 03C2     		.short	-15869
 3443 0018 0000     		.short	0
 3444 001a 0000     		.short	0
 3445 001c 0000     		.short	0
 3446 001e 0000     		.short	0
 3447              		.section	.bss.intr_semaphore,"aw",%nobits
 3448              		.align	2
 3449              		.set	.LANCHOR2,. + 0
 3452              	intr_semaphore:
 3453 0000 00000000 		.space	4
 3454              		.section	.rodata.__FUNCTION__.9028,"a",%progbits
 3455              		.set	.LANCHOR1,. + 0
 3458              	__FUNCTION__.9028:
 3459 0000 6C696768 		.ascii	"light_camera_init\000"
 3459      745F6361 
 3459      6D657261 
 3459      5F696E69 
 3459      7400
 3460              		.section	.rodata.str1.1,"aMS",%progbits,1
 3461              	.LC0:
 3462 0000 4661696C 		.ascii	"Failed to create mutex\000"
 3462      65642074 
 3462      6F206372 
 3462      65617465 
 3462      206D7574 
 3463              	.LC1:
 3464 0017 312E3000 		.ascii	"1.0\000"
 3465              	.LC2:
 3466 001b 43616E6E 		.ascii	"Cannot find this module\000"
 3466      6F742066 
 3466      696E6420 
 3466      74686973 
 3466      206D6F64 
 3467              	.LC3:
 3468 0033 496E7661 		.ascii	"Invalid param %f\000"
 3468      6C696420 
 3468      70617261 
 3468      6D202566 
 3468      00
 3469              	.LC4:
 3470 0044 57726974 		.ascii	"Write EEPROM POT DONE\000"
 3470      65204545 
 3470      50524F4D 
 3470      20504F54 
 3470      20444F4E 
 3471              	.LC5:
 3472 005a 57726974 		.ascii	"Write POT DONE\000"
 3472      6520504F 
 3472      5420444F 
 3472      4E4500
 3473              	.LC6:
 3474 0069 57726974 		.ascii	"Write I2C failed\000"
 3474      65204932 
 3474      43206661 
 3474      696C6564 
 3474      00
 3475              	.LC7:
 3476 007a 41504F54 		.ascii	"APOT1: reading timed out\000"
 3476      313A2072 
 3476      65616469 
 3476      6E672074 
 3476      696D6564 
 3477              	.LC8:
 3478 0093 43414D2D 		.ascii	"CAM-%X : VCM is moving\000"
 3478      2558203A 
 3478      2056434D 
 3478      20697320 
 3478      6D6F7669 
 3479              	.LC9:
 3480 00aa 43414D2D 		.ascii	"CAM-%X : Lens is moving\000"
 3480      2558203A 
 3480      204C656E 
 3480      73206973 
 3480      206D6F76 
 3481              	.LC10:
 3482 00c2 43414D2D 		.ascii	"CAM-%X : Mirror is moving\000"
 3482      2558203A 
 3482      204D6972 
 3482      726F7220 
 3482      6973206D 
 3483              	.LC11:
 3484 00dc 696E7472 		.ascii	"intr_src_queue full\015\012\000"
 3484      5F737263 
 3484      5F717565 
 3484      75652066 
 3484      756C6C0D 
 3485              	.LC12:
 3486 00f2 696E7472 		.ascii	"intr_src_queue empty\000"
 3486      5F737263 
 3486      5F717565 
 3486      75652065 
 3486      6D707479 
 3487              	.LC13:
 3488 0107 52657365 		.ascii	"Reset intr_src_queue\000"
 3488      7420696E 
 3488      74725F73 
 3488      72635F71 
 3488      75657565 
 3489              		.section	.rodata.light_system,"a",%progbits
 3490              		.align	2
 3493              	light_system:
 3494 0000 00000000 		.word	light_sys
 3495              		.section	.bss.intr_src_queue,"aw",%nobits
 3496              		.align	2
 3497              		.set	.LANCHOR3,. + 0
 3500              	intr_src_queue:
 3501 0000 00000000 		.space	4
 3502              		.section	.rodata.__FUNCTION__.9047,"a",%progbits
 3503              		.set	.LANCHOR4,. + 0
 3506              	__FUNCTION__.9047:
 3507 0000 6C696768 		.ascii	"light_camera_task_create\000"
 3507      745F6361 
 3507      6D657261 
 3507      5F746173 
 3507      6B5F6372 
 3508              		.section	.rodata.modules_tbl,"a",%progbits
 3509              		.set	.LANCHOR5,. + 0
 3512              	modules_tbl:
 3513 0000 00       		.byte	0
 3514 0001 A1       		.byte	-95
 3515 0002 A2       		.byte	-94
 3516 0003 A3       		.byte	-93
 3517 0004 A4       		.byte	-92
 3518 0005 A5       		.byte	-91
 3519 0006 B1       		.byte	-79
 3520 0007 B2       		.byte	-78
 3521 0008 B3       		.byte	-77
 3522 0009 B4       		.byte	-76
 3523 000a B5       		.byte	-75
 3524 000b C1       		.byte	-63
 3525 000c C2       		.byte	-62
 3526 000d C3       		.byte	-61
 3527 000e C4       		.byte	-60
 3528 000f C5       		.byte	-59
 3529 0010 C6       		.byte	-58
 3530              		.section	.rodata.__FUNCTION__.9061,"a",%progbits
 3531              		.set	.LANCHOR7,. + 0
 3534              	__FUNCTION__.9061:
 3535 0000 6C696768 		.ascii	"light_system_init\000"
 3535      745F7379 
 3535      7374656D 
 3535      5F696E69 
 3535      7400
 3536              		.section	.bss.light_sys,"aw",%nobits
 3537              		.align	2
 3538              		.set	.LANCHOR0,. + 0
 3541              	light_sys:
 3542 0000 00000000 		.space	72
 3542      00000000 
 3542      00000000 
 3542      00000000 
 3542      00000000 
 3543              		.section	.rodata.modules_tlb_size,"a",%progbits
 3546              	modules_tlb_size:
 3547 0000 11       		.byte	17
 3548              		.text
 3549              	.Letext0:
 3550              		.file 2 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/machine/_default_types
 3551              		.file 3 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/stdint.h"
 3552              		.file 4 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/portable/GCC/cortex-r4/portmacro
 3553              		.file 5 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/task.h"
 3554              		.file 6 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/queue.h"
 3555              		.file 7 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/semphr.h"
 3556              		.file 8 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/event_groups.h"
 3557              		.file 9 "/home/tienluong/workspace/atlantis_fw/platform/common/os.h"
 3558              		.file 10 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_syncio.h"
 3559              		.file 11 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_pwm.h"
 3560              		.file 12 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_gpio.h"
 3561              		.file 13 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_i2c.h"
 3562              		.file 14 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_qspi.h"
 3563              		.file 15 "/home/tienluong/workspace/atlantis_fw/platform/common/lcc_system.h"
 3564              		.file 16 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/img_sensor.h"
 3565              		.file 17 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/vcm.h"
 3566              		.file 18 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/optical.h"
 3567              		.file 19 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/pwr_ctrl.h"
 3568              		.file 20 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/i2cm.h"
 3569              		.file 21 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/eeprom.h"
 3570              		.file 22 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/task_af_ctrl.h"
 3571              		.file 23 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/light_system.h"
 3572              		.file 24 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/hall.h"
 3573              		.file 25 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/actuator.h"
DEFINED SYMBOLS
                            *ABS*:00000000 light_system.c
     /tmp/ccV6eAsj.s:19     .text.light_camera_init:00000000 $t
     /tmp/ccV6eAsj.s:24     .text.light_camera_init:00000000 light_camera_init
     /tmp/ccV6eAsj.s:413    .text.light_camera_init:0000021c $d
     /tmp/ccV6eAsj.s:422    .text.light_camera_init:00000238 $t
     /tmp/ccV6eAsj.s:758    .text.light_camera_init:000003e0 $d
     /tmp/ccV6eAsj.s:775    .text.light_camera_task_create:00000000 $t
     /tmp/ccV6eAsj.s:780    .text.light_camera_task_create:00000000 light_camera_task_create
     /tmp/ccV6eAsj.s:867    .text.light_camera_task_create:00000064 $d
     /tmp/ccV6eAsj.s:878    .text.object_to_cam_bitmask:00000000 $t
     /tmp/ccV6eAsj.s:883    .text.object_to_cam_bitmask:00000000 object_to_cam_bitmask
     /tmp/ccV6eAsj.s:933    .text.module_to_idx:00000000 $t
     /tmp/ccV6eAsj.s:938    .text.module_to_idx:00000000 module_to_idx
     /tmp/ccV6eAsj.s:970    .text.module_to_idx:00000018 $d
     /tmp/ccV6eAsj.s:975    .text.light_system_init:00000000 $t
     /tmp/ccV6eAsj.s:980    .text.light_system_init:00000000 light_system_init
     /tmp/ccV6eAsj.s:1216   .text.light_system_init:00000130 $d
     /tmp/ccV6eAsj.s:1229   .text.light_main:00000000 $t
     /tmp/ccV6eAsj.s:1234   .text.light_main:00000000 light_main
     /tmp/ccV6eAsj.s:1269   .text.light_main:00000018 $d
     /tmp/ccV6eAsj.s:1278   .text.idx_to_module:00000000 $t
     /tmp/ccV6eAsj.s:1283   .text.idx_to_module:00000000 idx_to_module
     /tmp/ccV6eAsj.s:1299   .text.idx_to_module:00000008 $d
     /tmp/ccV6eAsj.s:1304   .text.idx_to_object:00000000 $t
     /tmp/ccV6eAsj.s:1309   .text.idx_to_object:00000000 idx_to_object
     /tmp/ccV6eAsj.s:1368   .text.idx_to_object:0000003c $d
     /tmp/ccV6eAsj.s:1376   .text.chan_to_object:00000000 $t
     /tmp/ccV6eAsj.s:1381   .text.chan_to_object:00000000 chan_to_object
     /tmp/ccV6eAsj.s:1440   .text.chan_to_object:0000003c $d
     /tmp/ccV6eAsj.s:1447   .text.send_intr_signal:00000000 $t
     /tmp/ccV6eAsj.s:1452   .text.send_intr_signal:00000000 send_intr_signal
     /tmp/ccV6eAsj.s:1487   .text.send_intr_signal:0000001c $d
     /tmp/ccV6eAsj.s:1495   .text.intr_signal:00000000 $t
     /tmp/ccV6eAsj.s:1500   .text.intr_signal:00000000 intr_signal
     /tmp/ccV6eAsj.s:1552   .text.intr_signal:00000034 $d
     /tmp/ccV6eAsj.s:1563   .text.set_intr_pin:00000000 $t
     /tmp/ccV6eAsj.s:1568   .text.set_intr_pin:00000000 set_intr_pin
     /tmp/ccV6eAsj.s:1602   .text.set_intr_pin:00000014 $d
     /tmp/ccV6eAsj.s:1608   .text.disable_asic_sync_intr:00000000 $t
     /tmp/ccV6eAsj.s:1613   .text.disable_asic_sync_intr:00000000 disable_asic_sync_intr
     /tmp/ccV6eAsj.s:1626   .text.enable_asic_sync_intr:00000000 $t
     /tmp/ccV6eAsj.s:1631   .text.enable_asic_sync_intr:00000000 enable_asic_sync_intr
     /tmp/ccV6eAsj.s:1659   .text.pzt_voltage_config:00000000 $t
     /tmp/ccV6eAsj.s:1664   .text.pzt_voltage_config:00000000 pzt_voltage_config
     /tmp/ccV6eAsj.s:1946   .text.pzt_voltage_config:00000170 $d
     /tmp/ccV6eAsj.s:1983   .text.cam_move_to_distance:00000000 $t
     /tmp/ccV6eAsj.s:1988   .text.cam_move_to_distance:00000000 cam_move_to_distance
     /tmp/ccV6eAsj.s:2211   .text.cam_move_to_distance:00000110 $d
     /tmp/ccV6eAsj.s:2220   .text.cam_move_lens_to_position:00000000 $t
     /tmp/ccV6eAsj.s:2225   .text.cam_move_lens_to_position:00000000 cam_move_lens_to_position
     /tmp/ccV6eAsj.s:2461   .text.cam_move_lens_to_position:00000138 $d
     /tmp/ccV6eAsj.s:2470   .text.cam_move_mirr_to_position:00000000 $t
     /tmp/ccV6eAsj.s:2475   .text.cam_move_mirr_to_position:00000000 cam_move_mirr_to_position
     /tmp/ccV6eAsj.s:2625   .text.cam_move_mirr_to_position:000000b0 $d
     /tmp/ccV6eAsj.s:2633   .text.cam_nudge_lens:00000000 $t
     /tmp/ccV6eAsj.s:2638   .text.cam_nudge_lens:00000000 cam_nudge_lens
     /tmp/ccV6eAsj.s:2876   .text.cam_nudge_lens:0000012c $d
     /tmp/ccV6eAsj.s:2885   .text.cam_nudge_mirr:00000000 $t
     /tmp/ccV6eAsj.s:2890   .text.cam_nudge_mirr:00000000 cam_nudge_mirr
     /tmp/ccV6eAsj.s:3048   .text.cam_nudge_mirr:000000c0 $d
     /tmp/ccV6eAsj.s:3056   .text.intr_queue_push:00000000 $t
     /tmp/ccV6eAsj.s:3061   .text.intr_queue_push:00000000 intr_queue_push
     /tmp/ccV6eAsj.s:3139   .text.intr_queue_push:00000050 $d
     /tmp/ccV6eAsj.s:3149   .text.intr_queue_pop:00000000 $t
     /tmp/ccV6eAsj.s:3154   .text.intr_queue_pop:00000000 intr_queue_pop
     /tmp/ccV6eAsj.s:3226   .text.intr_queue_pop:00000048 $d
     /tmp/ccV6eAsj.s:3235   .text.intr_queue_reset:00000000 $t
     /tmp/ccV6eAsj.s:3240   .text.intr_queue_reset:00000000 intr_queue_reset
     /tmp/ccV6eAsj.s:3269   .text.intr_queue_reset:00000018 $d
     /tmp/ccV6eAsj.s:3277   .text.send_hw_sync_trigger:00000000 $t
     /tmp/ccV6eAsj.s:3282   .text.send_hw_sync_trigger:00000000 send_hw_sync_trigger
     /tmp/ccV6eAsj.s:3318   .text.send_hw_sync_trigger:0000001c $d
     /tmp/ccV6eAsj.s:3326   .text.get_calib_size:00000000 $t
     /tmp/ccV6eAsj.s:3331   .text.get_calib_size:00000000 get_calib_size
     /tmp/ccV6eAsj.s:3376   .text.get_calib_size:00000034 $d
     /tmp/ccV6eAsj.s:3381   .text.copy_calib_data:00000000 $t
     /tmp/ccV6eAsj.s:3386   .text.copy_calib_data:00000000 copy_calib_data
     /tmp/ccV6eAsj.s:3417   .text.copy_calib_data:00000014 $d
     /tmp/ccV6eAsj.s:3493   .rodata.light_system:00000000 light_system
     /tmp/ccV6eAsj.s:3546   .rodata.modules_tlb_size:00000000 modules_tlb_size
     /tmp/ccV6eAsj.s:3512   .rodata.modules_tbl:00000000 modules_tbl
     /tmp/ccV6eAsj.s:3430   .rodata.lookup_tbl:00000000 lookup_tbl
     /tmp/ccV6eAsj.s:3426   .rodata.lookup_tbl:00000000 $d
     /tmp/ccV6eAsj.s:3448   .bss.intr_semaphore:00000000 $d
     /tmp/ccV6eAsj.s:3452   .bss.intr_semaphore:00000000 intr_semaphore
     /tmp/ccV6eAsj.s:3458   .rodata.__FUNCTION__.9028:00000000 __FUNCTION__.9028
     /tmp/ccV6eAsj.s:3490   .rodata.light_system:00000000 $d
     /tmp/ccV6eAsj.s:3541   .bss.light_sys:00000000 light_sys
     /tmp/ccV6eAsj.s:3496   .bss.intr_src_queue:00000000 $d
     /tmp/ccV6eAsj.s:3500   .bss.intr_src_queue:00000000 intr_src_queue
     /tmp/ccV6eAsj.s:3506   .rodata.__FUNCTION__.9047:00000000 __FUNCTION__.9047
     /tmp/ccV6eAsj.s:3534   .rodata.__FUNCTION__.9061:00000000 __FUNCTION__.9061
     /tmp/ccV6eAsj.s:3537   .bss.light_sys:00000000 $d
                     .debug_frame:00000010 $d
     /tmp/ccV6eAsj.s:1982   .text.pzt_voltage_config:000001f4 $t

UNDEFINED SYMBOLS
flash_init
pvPortMalloc1
malloc_failed
xQueueCreateMutex
assert_failed
xEventGroupCreate
xQueueGenericCreate
hal_gpio_init
hal_gpio_set_high
hal_pwm_set_high
slogf
task_list
task_handler
task_cam_create
task_actuator_create
xTaskGenericCreate
strcpy
task_af_create
lcc_cmd_init
vTaskStartScheduler
vTaskSuspendAll
hal_pwm_set_low
xTaskResumeAll
xQueueGenericReceive
xQueueGenericSend
__aeabi_fcmpgt
__aeabi_fcmplt
__aeabi_f2d
__aeabi_dsub
__aeabi_ddiv
__aeabi_d2uiz
__aeabi_ui2f
__aeabi_dmul
__aeabi_i2d
__aeabi_dadd
__aeabi_d2f
__aeabi_fdiv
__aeabi_fmul
__aeabi_fadd
__aeabi_f2uiz
i2cm
memset
xQueueGenericReset
flash_read
