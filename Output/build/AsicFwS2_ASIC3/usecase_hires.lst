   1              		.syntax unified
   2              		.cpu cortex-r4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"usecase_hires.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.syncio_intr,"ax",%progbits
  19              		.align	1
  20              		.thumb
  21              		.thumb_func
  23              	syncio_intr:
  24              	.LFB18:
  25              		.file 1 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c"
   1:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /*******************************************************************************
   2:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * Copyright (c) 2016, The LightCo
   3:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * All rights reserved.
   4:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * Redistribution and use in source and binary forms,
   5:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * with or without modification,
   6:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * are strictly prohibited without prior permission of The LightCo.
   7:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  *
   8:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @file    usecase_hires.c
   9:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @author  The LightCo
  10:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @version V1.0.0
  11:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @date    July-07-2016
  12:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @brief   This file contains functions for snapshot camera
  13:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  *
  14:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  ******************************************************************************/
  15:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  16:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Includes ------------------------------------------------------------------*/
  17:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "light_system.h"
  18:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "std_type.h"
  19:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "assert.h"
  20:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "ar1335.h"
  21:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "hal_axi2mipi.h"
  22:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "hal_mipi2axi.h"
  23:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "usecase_hires.h"
  24:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "hal_pwm.h"
  25:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "lcc_system.h"
  26:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "cortex_r4.h"
  27:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "usecase.h"
  28:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "log.h"
  29:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "hal_cache.h"
  30:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #include "light_header.h"
  31:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  32:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Private define ------------------------------------------------------------*/
  33:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define POPULATE_LIGHT_HEADER_TIMEOUT	20000
  34:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define TX_TRANSFER_TASK_TIMEOUT		20000
  35:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  36:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define BITS_PER_PIXEL_RAW10	10
  37:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define BITS_PER_PIXEL_RAW12	12
  38:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define BITS_PER_PIXEL_RAW14	14
  39:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define BITS_PER_PIXEL_RAW8		8
  40:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  41:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_PORT_MASK				0x0F
  42:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_MASK_ALL				(uint32_t)(0x1FFFF)
  43:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define DDR_START_ADDR				DDR_BASE
  44:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  45:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define	THUMBNAIL_VCID_MASK			0xf0
  46:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define IMAGE_VCID_MASK				0x0f
  47:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* This define indicate the memory area used to store image */
  48:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  49:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define MIPI_TX_ERR_MASK			(uint32_t)(0x0f << 24)
  50:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define SLOGF_ID					SLOG_ID_LCC_CMD_BASE_0000
  51:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  52:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* This indicate the number of line that TX should transfer beside raw data */
  53:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Usually, this depends on number of bytes of light header + 32 bytes */
  54:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define GET_MULTIPLES_32(x) (((x - 1) | 31) + 1)
  55:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define TX_PADDING_LINE					2
  56:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define LIGHT_HEADER_MAX_SIZE			GET_MULTIPLES_32(1024*1024)
  57:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  58:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_A1							0xA1
  59:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_A2							0xA2
  60:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_A3							0xA3
  61:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_A4							0xA4
  62:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_A5							0xA5
  63:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_B1							0xB1
  64:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_B2							0xB2
  65:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_B3							0xB3
  66:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_B4							0xB4
  67:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_B5							0xB5
  68:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_C1							0xC1
  69:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_C2							0xC2
  70:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_C3							0xC3
  71:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_C4							0xC4
  72:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_C5							0xC5
  73:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define CAM_C6							0xC6
  74:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  75:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define SNAPSHOT_AXI2MIPI_FIFO					AXI2MIPI_FIFO_C
  76:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define SNAPSHOT_AXI2MIPI_DMA_SRC_REG			DMA_SRC_C_REG
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define SNAPSHOT_AXI2MIPI_FRAME_CTRL_REG		FRAME_CTRL_C_REG
  78:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define SNAPSHOT_AXI2MIPI_FE_INT_FIFO			FE_INT_FIFO_C
  79:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define SNAPSHOT_AXI2MIPI_FS_INT_FIFO			FS_INT_FIFO_C
  80:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  81:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define THUMBNAIL_AXI2MIPI_FIFO					AXI2MIPI_FIFO_B
  82:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define THUMBNAIL_AXI2MIPI_DMA_SRC_REG			DMA_SRC_B_REG
  83:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define THUMBNAIL_AXI2MIPI_FRAME_CTRL_REG		FRAME_CTRL_B_REG
  84:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define THUMBNAIL_AXI2MIPI_FE_INT_FIFO			FE_INT_FIFO_B
  85:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define THUMBNAIL_AXI2MIPI_FS_INT_FIFO			FS_INT_FIFO_B
  86:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** extern SemaphoreHandle_t snapshot_sem;
  87:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Private typedef -----------------------------------------------------------*/
  88:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** typedef enum
  89:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
  90:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	CONFIG_FOR_THUMBNAIL = 0x00,
  91:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	CONFIG_FOR_SNAPSHOT = 0x01
  92:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** } select_vcid ;
  93:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  94:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Private variables ---------------------------------------------------------*/
  95:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* This variable used to store a image size of a picture */
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint32_t img_bytes;
  97:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** volatile uint8_t tx_transfer_done;
  98:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** volatile uint8_t lh_populate_done;
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** mipi_frame_t mipi_rx[MAX_NUM_CAPT_CAMERA];
 100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* This variable used to store number of camera in m_bitmask */
 102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** __IO static uint8_t cam_total;
 103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* This array used to store the CAM index in memory area
 105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * EX: CAM 2, CAM3, CAM 5, numerical order in memory is 1, 2, 3
 106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  */
 107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t cam_mem_idx[MAX_NUM_CAPT_CAMERA];
 108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* This variable used to store index of camera thumbnail in cam_mem_idx array */
 110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint8_t cam_thumb_mem_idx;
 111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint8_t has_cam_thumb;
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* This variable used to indicate memory index */
 113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint8_t thumbnail_mem_idx;
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* These variables indicate that if any CAM on board available,
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * the corresponding bits will set to 1 */
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** __IO static uint8_t cam_asic_port_mask;
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Variables used to check frame will snapshot */
 120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** __IO static uint8_t num_of_frame = 0;
 121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Variable used to indicate the instance of MIPI TX (BRIDGE 0 or 1)*/
 123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t axi2mipi_tx_bridge;
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** capt_priv_data_t priv_data;
 125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Variables used to check MIPI TX ISR for thumbnail camera */
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** mipi_tx_frame_t thumbnail_tx;
 127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Variables used to check MIPI TX ISR for snapshot cameras */
 128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** mipi_tx_frame_t snapshot_tx;
 129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t light_header_cnt = 0;
 131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Variables used to check MIPI RX ISR for all cameras */
 133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint8_t mipi_tx_fr_cnt, mipi_tx_done_flag;
 135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t synio_count;
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint8_t mem_idx_rx[MAX_NUM_CAPT_CAMERA];
 138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint8_t tx_ddr_mem_idx;
 139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint8_t set_next_addr_flag[MAX_NUM_CAPT_CAMERA];
 141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** void (*callback_hdl)(void);
 143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define GET_RX_DDR_ADDR(cam_idx, mem_idx) \
 145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	(uint32_t)(DDR_START_ADDR + (mem_idx) * (cam_total * img_bytes) + (cam_idx) * img_bytes)
 146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #define GET_TX_DDR_ADDR(mem_idx)	\
 148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	(uint32_t)(DDR_START_ADDR + ((mem_idx) * cam_total * img_bytes))
 149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Private function prototypes -----------------------------------------------*/
 152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Private functions ---------------------------------------------------------*/
 153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t min_frame_done(mipi_frame_t *p, uint8_t size)
 155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint16_t min = 0;
 157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t i = 0;
 158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	min = 0x100;
 160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	for(i = 0; i < size; i++)
 162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(p[i].active)
 164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			min = (min < p[i].fdone_cnt) ? min : p[i].fdone_cnt;
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(min == 0x100)
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		min = 0;
 171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return min;
 173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* @brief prepare_capture_info
 177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * This function is used to prepare the information for capture data
 178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @param mbitmask: capture module bitmask
 179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @param hdr_info_addr: the location that hdr_info should be written
 180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @param light_hdr_addr: the location that light_header should be written
 181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * @return: 1 - for success and 0 for fail
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  */
 183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** int prepare_capture_info(unsigned int mbitmask, uint8_t hdr_info_idx)
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	unsigned int light_hdr_addr = 0;
 186:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint64_t header_offset = 0, record_size = 0;
 187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	const char* magic = "LELR";
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t padding = 0;
 189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(hdr_info_idx != 0)
 190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		padding = MAX_PROTOBUF_HEADER_SIZE;
 192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_INFO, "HDR INFO %d and PADDING %d", hdr_info_idx, padding);
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t start_address = (GET_RX_DDR_ADDR(0, hdr_info_idx) + (hdr_info_idx * padding));
 195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	volatile lightheader_info_t *hdr_info_addr =
 196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		(volatile lightheader_info_t *) (start_address);
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_INFO, "HDR INFO ADDRESS: 0x%08x", (unsigned int)start_address);
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	header_offset = cam_total * img_bytes + sizeof(lightheader_info_t);
 199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	record_size = cam_total * img_bytes + sizeof(lightheader_info_t)
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 												+ MAX_PROTOBUF_HEADER_SIZE;
 201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->header_offset = header_offset;
 202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->record_size = record_size;
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[0] = magic[0];
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[1] = magic[1];
 205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[2] = magic[2];
 206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[3] = magic[3];
 207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->header_size = 0;
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->reversed = 0;
 209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     light_hdr_addr = (uint32_t)(start_address +
 211:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****         cam_total*img_bytes + sizeof(lightheader_info_t));
 212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     uint32_t light_hdr_len = 0;
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     Ltpb__LightHeader *light_hdr = alloc_init_light_header();
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     lightheader_error_t ret = get_light_header(mbitmask, light_hdr);
 215:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     if(ret == LIGHT_HEADER_ERROR_NONE)
 216:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 217:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t *out = (uint8_t *)(light_hdr_addr);
 218:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		light_hdr_len = ltpb__light_header__pack(light_hdr, out);
 219:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "LightHeader size %d at 0x%08x", (int)light_hdr_len, light_hdr_addr);
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 223:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "LightHeader populating failed");
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     hdr_info_addr->header_size = light_hdr_len;
 226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	free_mem_light_header(light_hdr);
 227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Flush cache of headers */
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	flush_cache(start_address, sizeof(lightheader_info_t));
 229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	flush_cache(light_hdr_addr, light_hdr_len);
 230:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return 1;
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 232:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** unsigned int get_real_tx_ddr_address(uint8_t memidx)
 234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(memidx == 0)
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return GET_TX_DDR_ADDR(memidx);
 237:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return GET_TX_DDR_ADDR(memidx) + LIGHT_HEADER_MAX_SIZE;
 240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 242:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 243:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 244:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** unsigned int get_real_rx_ddr_address(uint8_t camidx, uint8_t regionidx)
 245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(regionidx == 0)
 247:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		unsigned int address = GET_RX_DDR_ADDR(camidx, regionidx) + sizeof(lightheader_info_t);
 249:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return address;
 250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 251:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 252:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 253:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		unsigned int address = GET_RX_DDR_ADDR(camidx, regionidx) + LIGHT_HEADER_MAX_SIZE + sizeof(lighth
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		// printf("\r\nNEXT RX DDR address: %x\r\n", address);
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return address;
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 260:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** void task_populate_header(void* param)
 261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint64_t time_out = POPULATE_LIGHT_HEADER_TIMEOUT;
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t all_rx_end = 1;
 264:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t last_cnt = 1;
 265:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t light_header_cnt = 0;
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(1)
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 268:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		EventBits_t ev = xEventGroupWaitBits(priv_data.hires_evhdl,
 269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			EVENT_RX_FRAME_START | EVENT_SNAPSHOT_COMPLETE,
 270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				pdTRUE, pdFALSE, time_out);
 271:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(ev)
 272:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(ev & EVENT_RX_FRAME_START)
 274:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 275:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(all_rx_end)
 276:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					prepare_capture_info(priv_data.mbitmask, light_header_cnt);
 278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Set the event that Light Header is ready */
 279:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(priv_data.hires_evhdl)
 280:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						xEventGroupSetBits(priv_data.hires_evhdl, EVENT_LIGHT_HEADER_READY);
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					priv_data.lh_ev_cnt ++;
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt ++;
 283:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(light_header_cnt >= MAX_AREA_MEM)
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						light_header_cnt = 0;
 285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					all_rx_end = 0;
 286:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(priv_data.lh_ev_cnt >= num_of_frame)
 287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						ev |= EVENT_SNAPSHOT_COMPLETE;
 289:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
 290:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				else
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					int i = 0;
 294:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					for(i = 0; i < MAX_NUM_CAPT_CAMERA; i++)
 295:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 296:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						if(mipi_rx[i].active)
 297:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						{
 298:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							if(mipi_rx[i].fs_cnt > last_cnt)
 299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							{
 300:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								all_rx_end = 1;
 301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								last_cnt = mipi_rx[i].fs_cnt;
 302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								xEventGroupSetBits(priv_data.hires_evhdl, EVENT_RX_FRAME_START);
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								break;
 304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							}
 305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						}
 306:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(i == MAX_NUM_CAPT_CAMERA)
 308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						SLOGF(SLOG_DEBUG, "Already populate Light Header for this RAW");
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 311:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 312:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(ev & EVENT_SNAPSHOT_COMPLETE)
 313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				lh_populate_done = 1;
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
 316:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vTaskDelete(NULL);
 317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 318:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		else
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			SLOGF(SLOG_DEBUG, "Timeout waiting for snapshot events");
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			lh_populate_done = 1;
 324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			vTaskDelete(NULL);
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** void clear_global_variable(void)
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(mipi_rx, 0x00, sizeof(mipi_rx));
 331:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 332:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Clear all global */
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	mipi_tx_fr_cnt = 0;
 334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	mipi_tx_done_flag = 0;
 335:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	synio_count = 0;
 336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_total = 0;
 337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_asic_port_mask = 0;
 338:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_tx_bridge = 0;
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_thumb_mem_idx = 0;
 340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	has_cam_thumb = 0;
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	tx_ddr_mem_idx = 0;
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	thumbnail_mem_idx = 0;
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	thumbnail_tx.fe_flag = 0, thumbnail_tx.fs_flag = 0;
 346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	thumbnail_tx.fe_mask = 0, thumbnail_tx.fs_mask = 0;
 347:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	snapshot_tx.fe_flag = 0, snapshot_tx.fs_flag = 0;
 348:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	snapshot_tx.fe_mask = 0, snapshot_tx.fs_mask = 0;
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(mem_idx_rx, 0x00, sizeof(mem_idx_rx));
 350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(set_next_addr_flag, 0x00, sizeof(set_next_addr_flag));
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(cam_mem_idx, 0x00, sizeof(cam_mem_idx));
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(priv_data.hires_evhdl)
 353:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		vEventGroupDelete(priv_data.hires_evhdl);
 355:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		priv_data.hires_evhdl = NULL;
 356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(&priv_data, 0x0, sizeof(priv_data));
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.hires_evhdl = xEventGroupCreate();
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.lh_ev_cnt = 0;
 360:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	tx_transfer_done = 0;
 362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	lh_populate_done = 0;
 363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	light_header_cnt = 0;
 365:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** capt_grp_t get_capture_group(unsigned int mbitmask)
 368:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	int capt_grp = 0;
 370:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* mbitmask should have A or/and B camera */
 371:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(mbitmask & CAPT_GRP_AB)
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 373:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mbitmask & CAPT_GRP_A)
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_A;
 375:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 376:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mbitmask & CAPT_GRP_B)
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_B;
 378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mbitmask & CAPT_GRP_C)
 380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/*log_error("Capture 3 group is not supported \r\n");
 382:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			return 0;*/
 383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_C;
 384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 385:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 386:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* mbitmask should have B or/and C camera */
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else if(mbitmask & CAPT_GRP_BC)
 388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mbitmask & CAPT_GRP_B)
 390:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_B;
 391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 392:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mbitmask & CAPT_GRP_C)
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_C;
 394:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 395:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mbitmask & CAPT_GRP_A)
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_C;
 398:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			//log_error("Capture 3 group is not supported \r\n");
 399:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			//return 0;
 400:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 402:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* if other case, select group of the first CAM */
 403:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_typedef_t *pcam;
 406:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t cam_idx = 0;
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mbitmask &= light_system->m_filter;
 408:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		while(mbitmask)
 409:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Check camera bit mask */
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(mbitmask & 1)
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 413:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get camera pointer corresponding with board */
 414:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				pcam = idx_to_object(cam_idx);
 415:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(pcam != NULL)
 416:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					capt_grp = pcam->info.grp;
 418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					break;
 419:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 420:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 421:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Increase camera index */
 422:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			cam_idx++;
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			mbitmask >>= 1;
 424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 425:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return capt_grp;
 427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 428:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 429:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static uint32_t get_image_size(uint16_t width, uint16_t height,
 430:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								uint8_t image_type)
 431:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 432:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(width == 0 || height == 0 || image_type == 0)
 433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return 0;
 434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 435:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t image_size = 0;
 436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t bits_per_pixel = 0;
 437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 438:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	switch(image_type)
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 440:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case AXI2MIPI_RAW10:
 441:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			bits_per_pixel = BITS_PER_PIXEL_RAW10;
 443:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case AXI2MIPI_RAW12:
 446:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			bits_per_pixel = BITS_PER_PIXEL_RAW12;
 448:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 450:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case AXI2MIPI_RAW14:
 451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 452:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			bits_per_pixel = BITS_PER_PIXEL_RAW14;
 453:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 455:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case AXI2MIPI_RAW8:
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		default:
 457:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 458:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			bits_per_pixel = BITS_PER_PIXEL_RAW8;
 459:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 460:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 462:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* 10bits per pixel would be packed in 16 bytes */
 464:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	image_size = (width * bits_per_pixel) / 8;
 465:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* If it is not exactly multiple of 16 then do +1 to it */
 466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if((image_size % 16) != 0)
 467:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		image_size = (image_size / 16) + 1;
 468:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		image_size = (image_size / 16);
 470:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	image_size = image_size * 16;
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Calculate the image size of one frame */
 472:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	image_size = height * image_size;
 473:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 474:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(image_size % 4 != 0)
 475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 476:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		image_size += 4;
 477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 478:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 479:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** //	return image_size;
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	//FIXME: Hard code for now to test
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return 16 * 1024 * 1024;
 482:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 484:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /*
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * Get values:
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * cam_total: this variable indicate that on the ASIC has how many CAMs
 487:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * cam_asic_port_mask: this variable
 488:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * cam_mem_idx,
 489:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * mipi_rx
 490:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  */
 491:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static void get_global_values(uint32_t m_bitmask)
 492:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 493:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_count = 0;
 494:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_idx;
 495:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_port_mipi2axi; /* indicate that port index on ASIC board */
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_typedef_t *pcam;
 497:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 498:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Check global bit mask, if global is 1 will set all camera bits mask */
 499:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_idx = 0;
 500:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	m_bitmask &= light_system->m_filter;
 501:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 502:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 503:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Check camera bit mask */
 504:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(m_bitmask & 1)
 505:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 506:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Get camera pointer corresponding with board */
 507:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			pcam = idx_to_object(cam_idx);
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
 509:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 510:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get CAM port index number on EVB board */
 511:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				cam_port_mipi2axi = pcam->info.ch - 1;
 512:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get numerical order of CAM in memory
 513:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				 * EX: CAM 2, CAM3, CAM 5, numerical order in memory is 1, 2, 3
 514:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				 */
 515:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				cam_mem_idx[cam_port_mipi2axi] = cam_count;
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_rx[cam_port_mipi2axi].active = 1;
 517:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get camera port mask on ASIC EVB board
 518:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				 * EX: CAM2, CAM3, CAM5, mask is 0x22 = 00010 1100
 519:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				 */
 520:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				cam_asic_port_mask |= (1 << cam_port_mipi2axi);
 521:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get total number of cameras on board */
 522:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				cam_count++;
 523:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 524:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 525:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Increase camera index */
 526:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_idx++;
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		m_bitmask >>= 1;
 528:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 529:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_total = cam_count;
 531:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 532:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 533:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** cam_typedef_t *get_cam_thumbnail(uint32_t m_bitmask)
 534:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 535:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_typedef_t *pcam;
 536:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t cam_group;
 537:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint16_t cam_thumbnail_id;
 538:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_idx = 0;
 539:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 540:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_group = get_capture_group(m_bitmask);
 541:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	switch(cam_group)
 542:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 543:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case CAPT_GRP_A:
 544:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case CAPT_GRP_AB:
 545:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			cam_thumbnail_id = CAM_A1;
 546:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 547:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case CAPT_GRP_B:
 548:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case CAPT_GRP_BC:
 549:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			cam_thumbnail_id = CAM_B4;
 550:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 551:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case CAPT_GRP_C:
 552:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			cam_thumbnail_id = CAM_C5;
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 554:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		default:
 555:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			cam_thumbnail_id = CAM_A1;
 556:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 557:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 558:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	m_bitmask &= light_system->m_filter;
 560:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 561:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 562:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Check camera bit mask */
 563:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(m_bitmask & 1)
 564:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 565:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Get camera pointer corresponding with board */
 566:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			pcam = idx_to_object(cam_idx);
 567:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
 568:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 569:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get index of camera thumbnail into cam_mem_idx array */
 570:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(cam_thumbnail_id == pcam->info.module)
 571:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 572:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					return pcam;
 573:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 574:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 575:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 576:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Increase camera index */
 577:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_idx++;
 578:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		m_bitmask >>= 1;
 579:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 580:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return NULL;
 582:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 583:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 584:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /***
 585:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |+++++++++++++++++++++++++++|
 586:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |       HEADER INFO         |
 587:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |+++++++++++++++++++++++++++|
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |                           |
 589:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |       CAM1 RAW            |
 590:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |       CAM2 RAW            |
 591:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |       ........            |
 592:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |                           |
 593:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |+++++++++++++++++++++++++++|
 594:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |        LIGHT HEADER       |
 595:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  * |+++++++++++++++++++++++++++|
 596:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  *
 597:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****  */
 598:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static void mipi_rx_snapshot_isr(uint8_t mipi2axi_idx, uint32_t detail,
 599:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 										uint32_t error, void *user_data)
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 601:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t ddr_address = 0;
 602:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	//EventGroupHandle_t evhdl = user_data;
 603:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/*unsigned int tick = xTaskGetTickCountFromISR();*/
 604:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/*if(error)
 605:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	 {
 606:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	 printf("\r\nRX Error: 0x%X\n\r", (unsigned int)error);
 607:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	 }*/
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 609:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Check frame start */
 610:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(detail & R1_VC0_FRAME_START)
 611:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fs_cnt++;
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fs_flag = 1;
 614:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #if 0
 615:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Generate the Light Header at the first frame start event of any RX */
 616:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(priv_data.hires_evhdl)
 617:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			BaseType_t woken = pdFALSE;
 619:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(xEventGroupSetBitsFromISR(priv_data.hires_evhdl,
 620:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								EVENT_RX_FRAME_START, &woken) != pdFAIL)
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				portYIELD_FROM_ISR(woken);
 622:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 623:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 624:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(set_next_addr_flag[mipi2axi_idx] == 0)
 625:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 626:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(mipi_rx[mipi2axi_idx].fdone_cnt < (num_of_frame - 1))
 627:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				set_next_addr_flag[mipi2axi_idx] = 1;
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mem_idx_rx[mipi2axi_idx]++;
 630:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				ddr_address = get_real_rx_ddr_address(
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											cam_mem_idx[mipi2axi_idx],
 632:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											mem_idx_rx[mipi2axi_idx]);
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mem_idx_rx[mipi2axi_idx] =
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									(mem_idx_rx[mipi2axi_idx] >= MAX_AREA_MEM) ?
 636:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									0 : mem_idx_rx[mipi2axi_idx];
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_MIPI2AXI_REG(mipi2axi_idx, VC0_DEST_REG, ddr_address);
 638:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_MIPI2AXI_REG(mipi2axi_idx, READY_REG, ENABLE);
 639:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 640:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 641:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 642:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 643:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Check frame end */
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(detail & R1_VC0_FRAME_END)
 645:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 646:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fe_cnt++;
 647:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fe_flag = 1;
 648:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 649:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 650:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 651:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Check finish Rx */
 652:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(mipi_rx[mipi2axi_idx].fs_flag & mipi_rx[mipi2axi_idx].fe_flag)
 653:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 654:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fdone_cnt++;
 655:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fe_flag = 0;
 656:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fs_flag = 0;
 657:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 658:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mipi_rx[mipi2axi_idx].fdone_cnt < num_of_frame)
 659:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 660:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			set_next_addr_flag[mipi2axi_idx] = 0;
 661:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 662:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		else
 663:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 664:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 665:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 666:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 667:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 668:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 669:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** void mipi_tx_snapshot_isr(axi2mipi_channel_t channel,
 670:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								axi2mipi_isr_flag_t irq_detail, void *usrdata)
 671:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 672:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t ddr_address;
 673:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t thumbnail_ddr_addr = 0;
 674:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if((channel == axi2mipi_tx_bridge) && (irq_detail & MIPI_TX_ERR_MASK) == 0)
 675:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 676:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/*
 677:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		 * Check frame start and frame end for thumbnail
 678:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		 */
 679:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(has_cam_thumb)
 680:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 681:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(irq_detail & thumbnail_tx.fs_mask)
 682:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 683:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_tx.fs_flag = 1;
 684:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 686:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(irq_detail & thumbnail_tx.fe_mask)
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 688:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_tx.fe_flag = 1;
 689:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 690:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 691:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(thumbnail_tx.fs_flag & thumbnail_tx.fe_flag)
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Reset mem_idx if mem_idx >= MAX_AREA_MEM */
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_mem_idx++;
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_mem_idx =
 696:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						(thumbnail_mem_idx >= MAX_AREA_MEM) ?
 697:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								0 : thumbnail_mem_idx;
 698:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 699:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_tx.fe_flag = 0;
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_tx.fs_flag = 0;
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_ddr_addr = GET_RX_DDR_ADDR(
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						cam_mem_idx[cam_thumb_mem_idx],
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						thumbnail_mem_idx) + sizeof(lightheader_info_t);
 705:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/*printf("\r\nThumbnail DDR ADDR: 0x08%X\n\r", (int)thumbnail_ddr_addr);*/
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_AXI2MIPI_REG(
 707:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 708:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						THUMBNAIL_AXI2MIPI_DMA_SRC_REG,
 709:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						thumbnail_ddr_addr);
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Validate programming */
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_AXI2MIPI_REG(
 712:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 713:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						THUMBNAIL_AXI2MIPI_FRAME_CTRL_REG,
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						ENABLE);
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				// printf("\r\nThumbnail sent\r\n");
 716:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 717:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 719:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/*
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		 * Check frame start and frame end for image interrupt
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		 */
 722:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(irq_detail & snapshot_tx.fs_mask)
 723:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 724:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			snapshot_tx.fs_flag = 1;
 725:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 726:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 727:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(irq_detail & snapshot_tx.fe_mask)
 728:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 729:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			snapshot_tx.fe_flag = 1;
 730:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			BaseType_t woken = pdFALSE;
 731:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(priv_data.hires_evhdl)
 732:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 733:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(pdFAIL != xEventGroupSetBitsFromISR(priv_data.hires_evhdl,
 734:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											EVENT_TX_FRAME_COMPLETE, &woken))
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					portYIELD_FROM_ISR(woken);
 736:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 737:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 738:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 739:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(snapshot_tx.fs_flag & snapshot_tx.fe_flag)
 740:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			snapshot_tx.fs_flag = 0;
 742:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			snapshot_tx.fe_flag = 0;
 743:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 744:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Reset mem_idx if mem_idx >= MAX_AREA_MEM */
 745:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			tx_ddr_mem_idx++;
 746:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			tx_ddr_mem_idx =
 747:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
 748:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 749:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Switch next address */
 750:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			ddr_address = get_real_tx_ddr_address(tx_ddr_mem_idx);
 751:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef DEBUG_MIPI
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			printf("\r\nTX next DDR address: 0x%08x\r\n", (int)ddr_address);
 753:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Stop MIPI TX */
 755:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			WRITE_AXI2MIPI_REG(axi2mipi_tx_bridge, BRIDGE_CTRL_REG, DISABLE);
 756:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Change destination memory address */
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			WRITE_AXI2MIPI_REG(
 758:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 759:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SNAPSHOT_AXI2MIPI_DMA_SRC_REG,
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					ddr_address);
 761:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Validate programming */
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			WRITE_AXI2MIPI_REG(
 763:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SNAPSHOT_AXI2MIPI_FRAME_CTRL_REG,
 765:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					ENABLE);
 766:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 767:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Increase the number of frame transfer finished */
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			mipi_tx_fr_cnt++;
 769:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			mipi_tx_done_flag = 1;
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(mipi_tx_fr_cnt >= num_of_frame)
 771:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 772:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Clear counter */
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				snapshot_tx.fs_flag = 0;
 774:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				snapshot_tx.fe_flag = 0;
 775:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				tx_ddr_mem_idx = 0;
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 777:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Stop MIPI TX */
 778:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_AXI2MIPI_REG(
 779:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						BRIDGE_CTRL_REG,
 781:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						DISABLE);
 782:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(priv_data.hires_evhdl)
 783:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 784:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					BaseType_t woken = pdFALSE;
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(pdFAIL != xEventGroupSetBitsFromISR(priv_data.hires_evhdl,
 786:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											EVENT_SNAPSHOT_COMPLETE, &woken))
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						portYIELD_FROM_ISR(woken);
 788:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 789:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Start call back function */
 790:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(callback_hdl != NULL)
 791:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 792:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					callback_hdl();
 793:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 794:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 795:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 796:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 797:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 798:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static void setup_mipi_rx_snapshot(uint32_t m_bitmask,
 800:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									uint16_t width, uint16_t height,
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									uint8_t image_type, EventGroupHandle_t evhdl)
 802:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 803:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t ddr_address = 0;
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t mem_idx = 0;
 805:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_idx = 0;
 806:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t port_idx = 0;
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_typedef_t *pcam;
 808:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 809:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_typedef_t *cam_thumbnail = get_cam_thumbnail(m_bitmask);
 810:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(cam_thumbnail != NULL)
 811:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		has_cam_thumb = 1;
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "CAM THUMBNAIL: %X", cam_thumbnail->info.module);
 814:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 815:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 816:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 817:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		has_cam_thumb = 0;
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "DOES NOT HAVE CAM THUMBNAIL");
 819:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 820:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 821:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	m_bitmask &= light_system->m_filter;
 822:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 823:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 824:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Check camera bit mask */
 825:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(m_bitmask & 1)
 826:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 827:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Get camera pointer corresponding with board */
 828:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			pcam = idx_to_object(cam_idx);
 829:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
 830:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 831:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get CAM port index number on EVB board */
 832:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				port_idx = pcam->info.ch - 1;
 833:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				//ddr_address = GET_RX_DDR_ADDR(cam_mem_idx[port_idx], mem_idx) + sizeof(lightheader_info_t);
 834:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				ddr_address = get_real_rx_ddr_address(cam_mem_idx[port_idx], mem_idx);
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 836:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get index of camera thumbnail into cam_mem_idx array */
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(cam_thumbnail != NULL)
 838:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(cam_thumbnail->info.module == pcam->info.module)
 840:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						cam_thumb_mem_idx = port_idx;
 841:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 842:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_INFO, "CAM-%X INSTANCE[%d]",pcam->info.module,  port_idx);
 844:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_INFO, "DDR ADDR: 0x%08X", ddr_address);
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_INFO, "IMG RESOLUTION: WIDTH[%d] HEIGHT[%d]", width, height);
 846:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Initialize MIPI RX DPHY */
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_init(port_idx);
 849:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 850:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Configure stream mode */
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property_t mipi2axi_property;
 852:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.vc_option				= MIPI2AXI_VC0_CH;
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.addr.dst_addr			= ddr_address;
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.addr.alu_src_addr 	= 0; /* don't care */
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_type.vc_will_captured = MIPI2AXI_VC0_CH;
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_type.data_type	= image_type;
 857:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_size.height		= height;
 858:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_size.width		= width;
 859:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.stream_mode 			= MIPI2AXI_SNAPSHOT_MODE;
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_set_stream_property(port_idx, &mipi2axi_property);
 861:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_frame_control_cfg(port_idx, MIPI2AXI_VC0_CH, 0, DISABLE);
 862:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Configure wrap */
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_wrap_cfg(port_idx, MIPI2AXI_VC0_CH, height, DISABLE);
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Configure interrupt */
 866:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_irq_mask(
 867:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						port_idx,
 868:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						MIPI2AXI_SIGNAL_MASK_INTR,
 869:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						R1_VC0_FRAME_END | R1_VC0_FRAME_START
 870:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								| R1_VC0_LINE_START | R1_VC0_LINE_END,
 871:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						ENABLE);
 872:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_irq_enable(port_idx, mipi_rx_snapshot_isr, NULL);
 873:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 874:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Start MIPI 2 AXI */
 875:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_start(port_idx);
 876:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 877:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 878:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Increase camera index */
 879:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_idx++;
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		m_bitmask >>= 1;
 881:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 882:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static void setup_mipi_tx_snapshot(uint8_t tx_channel, uint8_t vc_num,
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t thumb_or_image, uint16_t width, uint16_t height,
 886:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t rx_img_type, uint8_t tx_img_type, EventGroupHandle_t evhdl)
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t interrupt_irq = 0;
 889:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t fifo_id;
 890:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 891:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Configure stream property - arguments bellow will not be change */
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property_t axi2mipi_property;
 893:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.img_type.rx_dt		= rx_img_type;
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.img_type.tx_dt		= tx_img_type;
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.img_type.ff_bypass	= NONE_BYPASS;
 896:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.wrap.wrap_en			= DISABLE;
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.wrap.wrap_num			= height;
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.stream_mode			= AXI2MIPI_SNAPSHOT_MODE;
 899:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 900:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Select configuration for send image RAW or Thumb nail RAW */
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	switch(thumb_or_image)
 902:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case CONFIG_FOR_THUMBNAIL:
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			fifo_id = THUMBNAIL_AXI2MIPI_FIFO;
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.fifo_x 			= fifo_id;
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.src_addr			= GET_RX_DDR_ADDR(cam_mem_idx[cam_thumb_mem_idx], 0) + sizeof(light
 907:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height	= height;
 908:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.width	= width;
 909:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_type.pack		= AXI2MIPI_PACKED_DATA;
 910:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 911:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			interrupt_irq = THUMBNAIL_AXI2MIPI_FE_INT_FIFO |
 912:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							THUMBNAIL_AXI2MIPI_FS_INT_FIFO;
 913:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 914:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 915:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case CONFIG_FOR_SNAPSHOT:
 916:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		default:
 917:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			fifo_id = SNAPSHOT_AXI2MIPI_FIFO;
 918:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.fifo_x 				= fifo_id;
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.src_addr				= get_real_tx_ddr_address(0);
 920:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Number of lines in raw file */
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height		= height * cam_total;
 922:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Number of lines for Light Header */
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* 2 * 4160 * 10 / 8 = 10400 bytes */
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height		+= TX_PADDING_LINE;
 925:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 926:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			// 16 * 1024 * 1024 * 8 / (10 * 4160) - 3120 => 3226.38769 - 3120 = 107
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height		+= 107 * cam_total;
 928:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			SLOGF(SLOG_DEBUG, "TX transfer #line = %d", axi2mipi_property.img_size.height);
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.width		= width;
 931:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_type.pack			= AXI2MIPI_PACKED_DATA;
 932:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			interrupt_irq = SNAPSHOT_AXI2MIPI_FE_INT_FIFO |
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							SNAPSHOT_AXI2MIPI_FS_INT_FIFO;
 934:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 936:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 937:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Select VC for FIFO */
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(vc_num >= VC0_FOR_FIFO && vc_num <= VC3_FOR_FIFO)
 939:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 940:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		axi2mipi_property.vc_for_ff = vc_num;
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 942:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 943:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		axi2mipi_property.vc_for_ff = VC0_FOR_FIFO;
 945:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Select MIPI TX instance */
 948:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	switch(tx_channel)
 949:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 950:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case 0x00:
 951:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_tx_bridge = AXI2MIPI_BRIDGE_0;
 952:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 953:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		case 0x01:
 954:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_tx_bridge = AXI2MIPI_BRIDGE_1;
 955:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 956:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		default:
 957:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_tx_bridge = AXI2MIPI_BRIDGE_0;
 958:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 959:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 960:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 961:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Select flag interrupt for MIPI TX */
 962:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(thumb_or_image == CONFIG_FOR_SNAPSHOT)
 963:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 964:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		snapshot_tx.fe_mask = SNAPSHOT_AXI2MIPI_FE_INT_FIFO;
 965:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		snapshot_tx.fs_mask = SNAPSHOT_AXI2MIPI_FS_INT_FIFO ;
 966:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_DEBUG, "IMAGE TX FIFO   : %d", SNAPSHOT_AXI2MIPI_FIFO);
 968:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_DEBUG, "IMAGE TX VC     : %d", vc_num);
 969:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_DEBUG, "IMAGE VC MASK   : 0x%08X", (int)(snapshot_tx.fe_mask | snapshot_tx.fs_mask));
 970:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 972:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 973:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		thumbnail_tx.fe_mask = THUMBNAIL_AXI2MIPI_FE_INT_FIFO;
 975:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		thumbnail_tx.fs_mask = THUMBNAIL_AXI2MIPI_FS_INT_FIFO;
 976:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_DEBUG, "THUMBNAI TX FIFO: %d", THUMBNAIL_AXI2MIPI_FIFO);
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_DEBUG, "THUMBNAI TX VC  : %d", vc_num);
 979:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_DEBUG, "THUMBNAI VC MASK: 0x%08X", (int)(thumbnail_tx.fe_mask | thumbnail_tx.fs_mask))
 980:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 981:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/*SLOGF(SLOG_DEBUG, "MIPI TX ISR FLAG: 0x%08X\n\r", interrupt_irq);*/
 983:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 984:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Initialize MIPI operation */
 985:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_axi2mipi_set_stream_property(axi2mipi_tx_bridge, &axi2mipi_property);
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(thumb_or_image == CONFIG_FOR_SNAPSHOT)
 987:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Initialize MIPI interrupt */
 989:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		hal_axi2mipi_irq_mask(axi2mipi_tx_bridge, 0xFFFFFFFF, ENABLE);
 990:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		interrupt_irq = interrupt_irq;
 991:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		hal_axi2mipi_irq_enable(axi2mipi_tx_bridge, mipi_tx_snapshot_isr, NULL);
 992:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 993:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Configure valid */
 994:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_axi2mipi_programming_valid(axi2mipi_tx_bridge, fifo_id, ENABLE);
 995:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 996:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Configure frame of FIFOA, B is non continuous */
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_axi2mipi_set_frame_mode(axi2mipi_tx_bridge, fifo_id, NONE_CONTINUOUS);
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 999:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1000:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1001:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** /* Exported functions --------------------------------------------------------*/
1002:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** usecase_hires_cfg_status_t usecase_hires_setup(uint32_t m_bitmask,
1003:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											uint8_t image_type, uint8_t frame,
1004:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											void (*snapshot_done_hdl)(void),
1005:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											TaskHandle_t *lhtask)
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
1007:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* uint8_t image_type; */
1008:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t width = 0;
1009:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t height = 0;
1010:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t bitmask;
1011:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_typedef_t *pcam;
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t vc_id_snapshot = 0, vc_id_thumbnail = 0;
1013:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* TODO: this should be get from cache */
1014:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_idx;
1015:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Reset all global variables */
1017:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	clear_global_variable();
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1019:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/*
1020:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	 * Check image setting
1021:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	 */
1022:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1023:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	bitmask = m_bitmask & light_system->m_filter;
1024:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_idx = 0;
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(bitmask)
1026:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1027:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Check camera bit mask */
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(bitmask & 1)
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
1030:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/*SLOGF(SLOG_DEBUG, "MBitmask: 0x%x", (unsigned int)m_bitmask);*/
1031:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Get camera pointer corresponding with board */
1032:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			pcam = idx_to_object(cam_idx);
1033:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
1034:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
1035:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_INFO, "READ INFO FROM CAM-%X", pcam->info.module);
1036:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read image width */
1037:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				width = pcam->image->x_size;
1038:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(width == 0)
1039:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
1040:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					width = img_sensor_read_reg(
1041:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							pcam->image,
1042:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							X_OUTPUT_SIZE_CAM_REG,
1043:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							TWO_BYTES);
1044:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
1045:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read image height */
1046:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				height = pcam->image->y_size;
1047:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(height == 0)
1048:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
1049:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					height = img_sensor_read_reg(
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							pcam->image,
1051:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							Y_OUTPUT_SIZE_CAM_REG,
1052:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							TWO_BYTES);
1053:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read thumbnail VC */
1055:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vc_id_thumbnail = (pcam->settings->stream[1] & THUMBNAIL_VCID_MASK) >> 4;
1056:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read image VC */
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vc_id_snapshot = pcam->settings->stream[1] & IMAGE_VCID_MASK;
1058:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1059:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read CSI (AXI2MIPI TX BRIDGE) */
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				axi2mipi_tx_bridge = (pcam->settings->stream[0] >> 4);
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				switch(axi2mipi_tx_bridge)
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
1064:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					case CSI_0:
1065:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge = AXI2MIPI_BRIDGE_0;
1066:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1068:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					case CSI_1:
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge = AXI2MIPI_BRIDGE_1;
1070:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
1071:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1072:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					default:
1073:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						SLOGF(
1074:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								SLOG_ERROR,
1075:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								"Not support CSI[%d]",
1076:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								axi2mipi_tx_bridge);
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						return USECASE_HIRES_CSI_INVALID;
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
1080:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "IMAGE WIDTH : %d", width);
1081:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "IMAGE HEIGHT: %d", height);
1082:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "MIPI TX : %d", (int)axi2mipi_tx_bridge);
1083:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "THUMBNAIL VC: %d", vc_id_thumbnail);
1084:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "SNAPSHOT  VC: %d", vc_id_snapshot);
1085:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				break;
1086:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
1087:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
1088:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_idx++;
1089:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		bitmask >>= 1;
1090:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1091:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1092:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Get total cameras on ASIC board */
1093:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	get_global_values(m_bitmask);
1094:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
1095:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_DEBUG, "CAMERA TOTAL: %d", cam_total);
1096:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
1097:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	num_of_frame = frame;
1098:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1099:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Check parameter */
1100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(IS_MIPI_DATA_TYPE(image_type) == FALSE)
1101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Not support data type: 0x%X", image_type);
1103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_IMG_DATA_TYPE_ERROR;
1104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else if((cam_total > MAX_NUM_CAPT_CAMERA || cam_total == 0))
1106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Camera total: %d", cam_total);
1108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_TOTAL_ERROR;
1109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else if(width == 0 || height == 0)
1111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Not support resolution: [%x] [%x]", width, height);
1113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_RESOLUTION_ERROR;
1114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else if(frame == 0)
1116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Not support burst input = 0!");
1118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_FRAME_ERROR;
1119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else if(vc_id_snapshot < VC0_FOR_FIFO || vc_id_snapshot > VC3_FOR_FIFO)
1121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Not support VCID snapshot: 0x%X", vc_id_snapshot);
1123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_VC_SNAPSHOT_INVALID;
1124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else if(vc_id_thumbnail < VC0_FOR_FIFO || vc_id_thumbnail > VC3_FOR_FIFO)
1126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Not support VCID thumbnail: 0x%X", vc_id_thumbnail);
1128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_VC_THUMBNAIL_INVALID;
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Initialize callback function */
1132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	callback_hdl = snapshot_done_hdl;
1133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Initialize image transfer size */
1135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	img_bytes = get_image_size((uint16_t)width, (uint16_t)height, image_type);
1136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Setup MIPI RX and TX */
1137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	setup_mipi_rx_snapshot(
1138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			m_bitmask,
1139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			(uint16_t)width,
1140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			(uint16_t)height,
1141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			MIPI2AXI_RAW10,
1142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			NULL);
1143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Initialize DPHY */
1145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_axi2mipi_init(axi2mipi_tx_bridge);
1146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.mbitmask = m_bitmask;
1147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(has_cam_thumb)
1148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* Configure MIPI TX for thumnail */
1150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		setup_mipi_tx_snapshot(
1151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				axi2mipi_tx_bridge,
1152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vc_id_thumbnail,
1153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				CONFIG_FOR_THUMBNAIL,
1154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				width,
1155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				height,
1156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				MIPI2AXI_RAW10,
1157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				AXI2MIPI_RAW10,
1158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				NULL);
1159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Configure MIPI TX for Snapshot */
1162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	setup_mipi_tx_snapshot(
1163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_tx_bridge,
1164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			vc_id_snapshot,
1165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			CONFIG_FOR_SNAPSHOT,
1166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			width,
1167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			height,
1168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			MIPI2AXI_RAW10,
1169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			AXI2MIPI_LIGHT_RAW,
1170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			NULL
1171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			);
1172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return USERCASE_HIRES_NO_ERROR;
1174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
1175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** void task_tx_transfer(void *params)
1177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
1178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t skip_frame_mask = 0;
1179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_module = 0;
1180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t fifo_x;
1181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint64_t time_out = TX_TRANSFER_TASK_TIMEOUT;
1182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Selecting MIPI TX FIFO */
1184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if (has_cam_thumb)
1185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		fifo_x = SNAPSHOT_AXI2MIPI_FIFO | THUMBNAIL_AXI2MIPI_FIFO;
1186:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
1187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		fifo_x = SNAPSHOT_AXI2MIPI_FIFO;
1188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(params)
1190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		skip_frame_mask = *(uint8_t *)params;
1191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while((mipi_tx_fr_cnt < num_of_frame) && time_out)
1193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t rx_frame_count = min_frame_done(mipi_rx, 6);
1195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if((mipi_tx_fr_cnt < rx_frame_count))
1196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
1197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			time_out = TX_TRANSFER_TASK_TIMEOUT;
1198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if (rx_frame_count & skip_frame_mask)
1199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
1200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				tx_ddr_mem_idx++;
1201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				tx_ddr_mem_idx =
1202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
1203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				light_header_cnt++;
1204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(light_header_cnt >= MAX_AREA_MEM)
1205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt = 0;
1206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Switch next address */
1207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				unsigned int ddr_address = get_real_tx_ddr_address(
1208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					tx_ddr_mem_idx);
1209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG,"New LRI address: 0x%08x \r\n", (int)ddr_address);
1211:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Stop MIPI TX */
1213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_AXI2MIPI_REG(axi2mipi_tx_bridge, BRIDGE_CTRL_REG,
1214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					DISABLE);
1215:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Change destination memory address */
1216:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_AXI2MIPI_REG(
1217:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
1218:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SNAPSHOT_AXI2MIPI_DMA_SRC_REG,
1219:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					ddr_address);
1220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Validate programming */
1221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_AXI2MIPI_REG(
1222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
1223:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SNAPSHOT_AXI2MIPI_FRAME_CTRL_REG,
1224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					ENABLE);
1225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(has_cam_thumb)
1226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
1227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					unsigned int thumb_address = get_real_rx_ddr_address(cam_mem_idx[cam_thumb_mem_idx], tx_ddr_me
1228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_DEBUG, "New thumb address: 0x%08x \r\n", (int)thumb_address);
1229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					WRITE_AXI2MIPI_REG(
1230:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									axi2mipi_tx_bridge,
1231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									THUMBNAIL_AXI2MIPI_DMA_SRC_REG,
1232:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									thumb_address);
1233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					WRITE_AXI2MIPI_REG(
1234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									axi2mipi_tx_bridge,
1235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									THUMBNAIL_AXI2MIPI_FRAME_CTRL_REG,
1236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									ENABLE);
1237:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
1238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Increase the number of frame transfer finished */
1240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_tx_fr_cnt++;
1241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_INFO, "Skipping this frame");
1242:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
1243:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			else
1244:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
1245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				prepare_capture_info(priv_data.mbitmask, light_header_cnt);
1246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				light_header_cnt++;
1247:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(light_header_cnt >= MAX_AREA_MEM)
1248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt = 0;
1249:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Start MIPI TX */
1250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_axi2mipi_start(axi2mipi_tx_bridge, fifo_x);
1251:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1252:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				EventBits_t evb = xEventGroupWaitBits(priv_data.hires_evhdl,
1253:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							EVENT_TX_FRAME_COMPLETE, pdTRUE, pdTRUE, 5000);
1254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(!(evb & EVENT_TX_FRAME_COMPLETE))
1255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
1256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_ERROR, "TX transfer timed out");
1257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					goto release;
1258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
1259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_tx_done_flag = 0;
1260:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
1261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
1262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		time_out--;
1263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		vTaskDelay(1);
1264:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1265:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(time_out == 0)
1267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Didn't receive frames from all sensors");
1268:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** release:
1270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(mipi_tx_fr_cnt >= num_of_frame)
1271:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1272:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "Snapshot completed");
1273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1274:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
1275:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1276:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "Snapshot fail");
1277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	for(int i = 0; i < MAX_NUM_CAPT_CAMERA; i++)
1279:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1280:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if(mipi_rx[i].active)
1281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
1282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #if (ASIC_NUM == ASIC1)
1283:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_module = (i==0?0xC5:(i==1?0xB5:(i==2?0xB4:(i==3?0xA5:(i==4?0xA1:0xB2)))));
1284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #elif (ASIC_NUM == ASIC2)
1285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_module = (i==0?0xA4:(i==1?0xB3:(i==2?0xC2:(i==3?0xA2:(i==4?0xA3:0xB1)))));
1286:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #elif (ASIC_NUM == ASIC3)
1287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_module = (i==0?0xC6:(i==1?0x00:(i==2?0xC1:(i==3?0x00:(i==4?0xC4:0xC3)))));
1288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
1289:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			SLOGF(SLOG_INFO,
1290:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					"RX[%d]: CAM[%02X] - ACT[%s] - FS[%d] - FE[%d] - DONE[%d]",
1291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					i,
1292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					cam_module,
1293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					((mipi_rx[i].active == 1) ? "ENA" : "DIS"),
1294:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					mipi_rx[i].fs_cnt,
1295:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					mipi_rx[i].fe_cnt,
1296:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					mipi_rx[i].fdone_cnt);
1297:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			hal_syncio_disable(i);
1298:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
1299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1300:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(priv_data.hires_evhdl)
1301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		vEventGroupDelete(priv_data.hires_evhdl);
1302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.hires_evhdl = NULL;
1303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	tx_transfer_done = 1;
1304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
1305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	vTaskDelete(NULL);
1306:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
1307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t snapshot_hdl(uint32_t time_out, uint8_t skip_mask)
1308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
1309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t tx_time_out = 0;
1310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t count = 0;
1311:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t rx_frame_count = 0;
1312:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t error = 0;
1313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t i = 0;
1314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_module = 0;
1315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1316:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* While until snapshot done */
1317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while((mipi_tx_fr_cnt < num_of_frame) && (count < num_of_frame) && time_out)
1318:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		rx_frame_count = min_frame_done(mipi_rx, 6);
1320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if((mipi_tx_fr_cnt < rx_frame_count))
1322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
1323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* If we have RX frame */
1324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			count++;
1325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Wait for Light Header to populated */
1326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			EventBits_t evb = xEventGroupWaitBits(priv_data.hires_evhdl,
1327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							EVENT_LIGHT_HEADER_READY, pdTRUE, pdTRUE, time_out);
1328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(evb & EVENT_LIGHT_HEADER_READY)
1329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
1330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if (rx_frame_count & skip_mask)
1331:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
1332:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					tx_ddr_mem_idx++;
1333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					tx_ddr_mem_idx =
1334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
1335:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Switch next address */
1337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					unsigned int ddr_address = get_real_tx_ddr_address(
1338:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						tx_ddr_mem_idx);
1339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_INFO,"TX next DDR address: 0x%08x \r\n", (int)ddr_address);
1341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Stop MIPI TX */
1342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					WRITE_AXI2MIPI_REG(axi2mipi_tx_bridge, BRIDGE_CTRL_REG,
1343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						DISABLE);
1344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Change destination memory address */
1345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					WRITE_AXI2MIPI_REG(
1346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
1347:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						SNAPSHOT_AXI2MIPI_DMA_SRC_REG,
1348:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						ddr_address);
1349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Validate programming */
1350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					WRITE_AXI2MIPI_REG(
1351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
1352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						SNAPSHOT_AXI2MIPI_FRAME_CTRL_REG,
1353:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						ENABLE);
1354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1355:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Increase the number of frame transfer finished */
1356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					mipi_tx_fr_cnt++;
1357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_INFO, "Skipping this frame");
1358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
1359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				else
1360:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
1361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					unsigned int ddr_address = READ_AXI2MIPI_REG(axi2mipi_tx_bridge, SNAPSHOT_AXI2MIPI_DMA_SRC_REG
1362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_INFO, "TX Transfer address: 0x%x", ddr_address);
1363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if (has_cam_thumb)
1364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
1365:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						/* Start MIPI TX */
1366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						hal_axi2mipi_start(
1367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							axi2mipi_tx_bridge,
1368:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							SNAPSHOT_AXI2MIPI_FIFO | THUMBNAIL_AXI2MIPI_FIFO);
1369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
1370:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					else
1371:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
1372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						/* Start MIPI TX */
1373:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						hal_axi2mipi_start(
1374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							axi2mipi_tx_bridge,
1375:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							SNAPSHOT_AXI2MIPI_FIFO);
1376:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
1377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					tx_time_out = 2000;
1378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					while ((mipi_tx_done_flag == 0) && tx_time_out)
1379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
1380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						vTaskDelay(1);
1381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						tx_time_out--;
1382:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
1383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					mipi_tx_done_flag = 0;
1384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if (!tx_time_out)
1385:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
1386:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						SLOGF(SLOG_ERROR, "TX time out");
1387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						error = 1;
1388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
1389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
1390:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
1391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1392:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
1393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			else
1394:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
1395:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_ERROR, "Wait Light Header time out");
1396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vEventGroupDelete(priv_data.hires_evhdl);
1397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				priv_data.hires_evhdl = NULL;
1398:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				error = 1;
1399:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				break;
1400:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
1401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1402:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
1403:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		else
1404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
1405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			time_out--;
1406:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			vTaskDelay(1);
1407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
1408:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1409:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* One more chance to check the number of frame */
1411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(mipi_tx_fr_cnt >= num_of_frame)
1412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		error = 0; /* No error, snapshot done */
1413:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
1414:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		error = 1; /* Error */
1415:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1416:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* TODO: remove these debug lines */
1417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	for(i = 0; i < MAX_NUM_CAPT_CAMERA; i++)
1418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1419:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #if (ASIC_NUM == ASIC1)
1420:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_module = (i==0?0xC5:(i==1?0xB5:(i==2?0xB4:(i==3?0xA5:(i==4?0xA1:0xB2)))));
1421:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #elif (ASIC_NUM == ASIC2)
1422:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_module = (i==0?0xA4:(i==1?0xB3:(i==2?0xC2:(i==3?0xA2:(i==4?0xA3:0xB1)))));
1423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #elif (ASIC_NUM == ASIC3)
1424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		cam_module = (i==0?0xC6:(i==1?0x00:(i==2?0xC1:(i==3?0x00:(i==4?0xC4:0xC3)))));
1425:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
1426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO,
1427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				"RX[%d]: CAM[%02X] - ACT[%s] - FS[%d] - FE[%d] - DONE[%d]",
1428:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				i,
1429:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				cam_module,
1430:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				((mipi_rx[i].active == 1) ? "ENA" : "DIS"),
1431:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_rx[i].fs_cnt,
1432:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_rx[i].fe_cnt,
1433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_rx[i].fdone_cnt);
1434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		hal_syncio_disable(i);
1435:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return error;
1437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
1438:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1440:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** static void syncio_intr(hal_syncio_channel_t chid,
1441:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											hal_syncio_irq_mode_t irq_status)
1442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
  26              		.loc 1 1442 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
1443:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	synio_count++;
  32              		.loc 1 1443 0
  33 0000 024A     		ldr	r2, .L2
  34 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
  35 0004 0133     		adds	r3, r3, #1
  36 0006 1370     		strb	r3, [r2]
  37 0008 7047     		bx	lr
  38              	.L3:
  39 000a 00BF     		.align	2
  40              	.L2:
  41 000c 00000000 		.word	.LANCHOR0
  42              		.cfi_endproc
  43              	.LFE18:
  45              		.section	.text.setup_mipi_tx_snapshot.isra.1.constprop.5,"ax",%progbits
  46              		.align	1
  47              		.thumb
  48              		.thumb_func
  50              	setup_mipi_tx_snapshot.isra.1.constprop.5:
  51              	.LFB24:
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t thumb_or_image, uint16_t width, uint16_t height,
  52              		.loc 1 884 0
  53              		.cfi_startproc
  54              		@ args = 8, pretend = 0, frame = 24
  55              		@ frame_needed = 0, uses_anonymous_args = 0
  56              	.LVL1:
  57 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
  58              	.LCFI0:
  59              		.cfi_def_cfa_offset 28
  60              		.cfi_offset 4, -28
  61              		.cfi_offset 5, -24
  62              		.cfi_offset 6, -20
  63              		.cfi_offset 7, -16
  64              		.cfi_offset 8, -12
  65              		.cfi_offset 9, -8
  66              		.cfi_offset 14, -4
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.wrap.wrap_en			= DISABLE;
  67              		.loc 1 895 0
  68 0004 4FF00009 		mov	r9, #0
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t thumb_or_image, uint16_t width, uint16_t height,
  69              		.loc 1 884 0
  70 0008 87B0     		sub	sp, sp, #28
  71              	.LCFI1:
  72              		.cfi_def_cfa_offset 56
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t thumb_or_image, uint16_t width, uint16_t height,
  73              		.loc 1 884 0
  74 000a 9846     		mov	r8, r3
 893:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.img_type.tx_dt		= tx_img_type;
  75              		.loc 1 893 0
  76 000c 2B23     		movs	r3, #43
  77              	.LVL2:
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		uint8_t thumb_or_image, uint16_t width, uint16_t height,
  78              		.loc 1 884 0
  79 000e 0746     		mov	r7, r0
  80 0010 0D46     		mov	r5, r1
  81 0012 BDF83800 		ldrh	r0, [sp, #56]
  82              	.LVL3:
 893:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.img_type.tx_dt		= tx_img_type;
  83              		.loc 1 893 0
  84 0016 8DF80A30 		strb	r3, [sp, #10]
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.wrap.wrap_en			= DISABLE;
  85              		.loc 1 895 0
  86 001a 8DF80C90 		strb	r9, [sp, #12]
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.img_type.ff_bypass	= NONE_BYPASS;
  87              		.loc 1 894 0
  88 001e 9DF83C30 		ldrb	r3, [sp, #60]	@ zero_extendqisi2
 896:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.wrap.wrap_num			= height;
  89              		.loc 1 896 0
  90 0022 8DF81690 		strb	r9, [sp, #22]
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
  91              		.loc 1 901 0
  92 0026 1646     		mov	r6, r2
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.img_type.ff_bypass	= NONE_BYPASS;
  93              		.loc 1 894 0
  94 0028 8DF80930 		strb	r3, [sp, #9]
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_property.stream_mode			= AXI2MIPI_SNAPSHOT_MODE;
  95              		.loc 1 897 0
  96 002c ADF81400 		strh	r0, [sp, #20]	@ movhi
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
  97              		.loc 1 898 0
  98 0030 8DF80890 		strb	r9, [sp, #8]
  99 0034 374B     		ldr	r3, .L22
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 100              		.loc 1 901 0
 101 0036 AAB9     		cbnz	r2, .L17
 102              	.LVL4:
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height	= height;
 103              		.loc 1 906 0
 104 0038 374A     		ldr	r2, .L22+4
 105              	.LVL5:
 106 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 107 003c 374B     		ldr	r3, .L22+8
 108 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 109 0040 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 110 0042 374A     		ldr	r2, .L22+12
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.src_addr			= GET_RX_DDR_ADDR(cam_mem_idx[cam_thumb_mem_idx], 0) + sizeof(light
 111              		.loc 1 905 0
 112 0044 0224     		movs	r4, #2
 907:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.width	= width;
 113              		.loc 1 907 0
 114 0046 ADF81000 		strh	r0, [sp, #16]	@ movhi
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height	= height;
 115              		.loc 1 906 0
 116 004a 1268     		ldr	r2, [r2]
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.src_addr			= GET_RX_DDR_ADDR(cam_mem_idx[cam_thumb_mem_idx], 0) + sizeof(light
 117              		.loc 1 905 0
 118 004c 8DF80040 		strb	r4, [sp]
 908:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_type.pack		= AXI2MIPI_PACKED_DATA;
 119              		.loc 1 908 0
 120 0050 ADF80E80 		strh	r8, [sp, #14]	@ movhi
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height	= height;
 121              		.loc 1 906 0
 122 0054 5A43     		muls	r2, r3, r2
 909:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 123              		.loc 1 909 0
 124 0056 8DF80B60 		strb	r6, [sp, #11]
 125              	.LVL6:
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.height	= height;
 126              		.loc 1 906 0
 127 005a 02F18062 		add	r2, r2, #67108864
 128 005e 2032     		adds	r2, r2, #32
 129 0060 0192     		str	r2, [sp, #4]
 130 0062 1BE0     		b	.L7
 131              	.LVL7:
 132              	.L17:
 133              	.LBB10:
 134              	.LBB11:
 135              	.LBB12:
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 136              		.loc 1 236 0
 137 0064 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 138              	.LVL8:
 139              	.LBE12:
 140              	.LBE11:
 141              	.LBE10:
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 142              		.loc 1 927 0
 143 0066 6B21     		movs	r1, #107
 144              	.LVL9:
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Number of lines in raw file */
 145              		.loc 1 919 0
 146 0068 4FF08062 		mov	r2, #67108864
 918:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.src_addr				= get_real_tx_ddr_address(0);
 147              		.loc 1 918 0
 148 006c 0424     		movs	r4, #4
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Number of lines in raw file */
 149              		.loc 1 919 0
 150 006e 0192     		str	r2, [sp, #4]
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Number of lines for Light Header */
 151              		.loc 1 921 0
 152 0070 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 153              		.loc 1 927 0
 154 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 155 0074 4B43     		muls	r3, r1, r3
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.width		= width;
 156              		.loc 1 929 0
 157 0076 DFF8D4C0 		ldr	ip, .L22+56
 158 007a 991C     		adds	r1, r3, #2
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Number of lines for Light Header */
 159              		.loc 1 921 0
 160 007c 03B2     		sxth	r3, r0
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.width		= width;
 161              		.loc 1 929 0
 162 007e 2120     		movs	r0, #33
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 163              		.loc 1 927 0
 164 0080 03FB0213 		mla	r3, r3, r2, r1
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.width		= width;
 165              		.loc 1 929 0
 166 0084 1021     		movs	r1, #16
 167 0086 274A     		ldr	r2, .L22+16
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 168              		.loc 1 927 0
 169 0088 9BB2     		uxth	r3, r3
 918:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.src_addr				= get_real_tx_ddr_address(0);
 170              		.loc 1 918 0
 171 008a 8DF80040 		strb	r4, [sp]
 172              	.LVL10:
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 173              		.loc 1 927 0
 174 008e ADF81030 		strh	r3, [sp, #16]	@ movhi
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_size.width		= width;
 175              		.loc 1 929 0
 176 0092 E047     		blx	ip
 177              	.LVL11:
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_property.img_type.pack			= AXI2MIPI_PACKED_DATA;
 178              		.loc 1 930 0
 179 0094 ADF80E80 		strh	r8, [sp, #14]	@ movhi
 931:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			interrupt_irq = SNAPSHOT_AXI2MIPI_FE_INT_FIFO |
 180              		.loc 1 931 0
 181 0098 8DF80B90 		strb	r9, [sp, #11]
 182              	.LVL12:
 183              	.L7:
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 184              		.loc 1 938 0
 185 009c 032D     		cmp	r5, #3
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 186              		.loc 1 944 0
 187 009e 8ABF     		itet	hi
 188 00a0 0023     		movhi	r3, #0
 940:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 189              		.loc 1 940 0
 190 00a2 8DF81250 		strbls	r5, [sp, #18]
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 191              		.loc 1 944 0
 192 00a6 8DF81230 		strbhi	r3, [sp, #18]
 193 00aa 1F4D     		ldr	r5, .L22+20
 948:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 194              		.loc 1 948 0
 195 00ac 0FB1     		cbz	r7, .L12
 196 00ae 012F     		cmp	r7, #1
 197 00b0 01D1     		bne	.L21
 198              	.L12:
 954:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 199              		.loc 1 954 0
 200 00b2 2F70     		strb	r7, [r5]
 201 00b4 01E0     		b	.L13
 202              	.L21:
 957:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 203              		.loc 1 957 0
 204 00b6 0023     		movs	r3, #0
 205 00b8 2B70     		strb	r3, [r5]
 206              	.L13:
 962:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 207              		.loc 1 962 0
 208 00ba 012E     		cmp	r6, #1
 964:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		snapshot_tx.fs_mask = SNAPSHOT_AXI2MIPI_FS_INT_FIFO ;
 209              		.loc 1 964 0
 210 00bc 0ABF     		itet	eq
 211 00be 0422     		moveq	r2, #4
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		thumbnail_tx.fs_mask = THUMBNAIL_AXI2MIPI_FS_INT_FIFO;
 212              		.loc 1 974 0
 213 00c0 0222     		movne	r2, #2
 964:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		snapshot_tx.fs_mask = SNAPSHOT_AXI2MIPI_FS_INT_FIFO ;
 214              		.loc 1 964 0
 215 00c2 1A4B     		ldreq	r3, .L22+24
 985:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(thumb_or_image == CONFIG_FOR_SNAPSHOT)
 216              		.loc 1 985 0
 217 00c4 6946     		mov	r1, sp
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		thumbnail_tx.fs_mask = THUMBNAIL_AXI2MIPI_FS_INT_FIFO;
 218              		.loc 1 974 0
 219 00c6 13BF     		iteet	ne
 220 00c8 194B     		ldrne	r3, .L22+28
 964:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		snapshot_tx.fs_mask = SNAPSHOT_AXI2MIPI_FS_INT_FIFO ;
 221              		.loc 1 964 0
 222 00ca 9A60     		streq	r2, [r3, #8]
 965:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
 223              		.loc 1 965 0
 224 00cc 4022     		moveq	r2, #64
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		thumbnail_tx.fs_mask = THUMBNAIL_AXI2MIPI_FS_INT_FIFO;
 225              		.loc 1 974 0
 226 00ce 9A60     		strne	r2, [r3, #8]
 975:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
 227              		.loc 1 975 0
 228 00d0 18BF     		it	ne
 229 00d2 2022     		movne	r2, #32
 985:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(thumb_or_image == CONFIG_FOR_SNAPSHOT)
 230              		.loc 1 985 0
 231 00d4 144F     		ldr	r7, .L22+20
 975:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
 232              		.loc 1 975 0
 233 00d6 5A60     		str	r2, [r3, #4]
 985:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(thumb_or_image == CONFIG_FOR_SNAPSHOT)
 234              		.loc 1 985 0
 235 00d8 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 236 00da 164B     		ldr	r3, .L22+32
 237 00dc 9847     		blx	r3
 238              	.LVL13:
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 239              		.loc 1 986 0
 240 00de 012E     		cmp	r6, #1
 241 00e0 0AD1     		bne	.L16
 989:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		interrupt_irq = interrupt_irq;
 242              		.loc 1 989 0
 243 00e2 3878     		ldrb	r0, [r7]	@ zero_extendqisi2
 244 00e4 4FF0FF31 		mov	r1, #-1
 245 00e8 3246     		mov	r2, r6
 246 00ea 134B     		ldr	r3, .L22+36
 247 00ec 9847     		blx	r3
 248              	.LVL14:
 991:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 249              		.loc 1 991 0
 250 00ee 3878     		ldrb	r0, [r7]	@ zero_extendqisi2
 251 00f0 1249     		ldr	r1, .L22+40
 252 00f2 0022     		movs	r2, #0
 253 00f4 124B     		ldr	r3, .L22+44
 254 00f6 9847     		blx	r3
 255              	.LVL15:
 256              	.L16:
 994:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 257              		.loc 1 994 0
 258 00f8 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 259 00fa 2146     		mov	r1, r4
 260 00fc 0122     		movs	r2, #1
 261 00fe 114B     		ldr	r3, .L22+48
 262 0100 9847     		blx	r3
 263              	.LVL16:
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 264              		.loc 1 997 0
 265 0102 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 266 0104 2146     		mov	r1, r4
 267 0106 0022     		movs	r2, #0
 268 0108 0F4B     		ldr	r3, .L22+52
 269 010a 9847     		blx	r3
 270              	.LVL17:
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 271              		.loc 1 998 0
 272 010c 07B0     		add	sp, sp, #28
 273              	.LCFI2:
 274              		.cfi_def_cfa_offset 28
 275              		@ sp needed
 276 010e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 277              	.LVL18:
 278              	.L23:
 279 0112 00BF     		.align	2
 280              	.L22:
 281 0114 00000000 		.word	.LANCHOR1
 282 0118 00000000 		.word	.LANCHOR2
 283 011c 00000000 		.word	.LANCHOR3
 284 0120 00000000 		.word	.LANCHOR4
 285 0124 00000000 		.word	.LC0
 286 0128 00000000 		.word	.LANCHOR5
 287 012c 00000000 		.word	.LANCHOR6
 288 0130 00000000 		.word	.LANCHOR7
 289 0134 00000000 		.word	hal_axi2mipi_set_stream_property
 290 0138 00000000 		.word	hal_axi2mipi_irq_mask
 291 013c 00000000 		.word	mipi_tx_snapshot_isr
 292 0140 00000000 		.word	hal_axi2mipi_irq_enable
 293 0144 00000000 		.word	hal_axi2mipi_programming_valid
 294 0148 00000000 		.word	hal_axi2mipi_set_frame_mode
 295 014c 00000000 		.word	slogf
 296              		.cfi_endproc
 297              	.LFE24:
 299              		.section	.text.min_frame_done,"ax",%progbits
 300              		.align	1
 301              		.global	min_frame_done
 302              		.thumb
 303              		.thumb_func
 305              	min_frame_done:
 306              	.LFB1:
 155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint16_t min = 0;
 307              		.loc 1 155 0
 308              		.cfi_startproc
 309              		@ args = 0, pretend = 0, frame = 0
 310              		@ frame_needed = 0, uses_anonymous_args = 0
 311              		@ link register save eliminated.
 312              	.LVL19:
 313 0000 01EB4101 		add	r1, r1, r1, lsl #1
 314              	.LVL20:
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 315              		.loc 1 159 0
 316 0004 4FF48073 		mov	r3, #256
 317 0008 00EB4101 		add	r1, r0, r1, lsl #1
 318              	.LVL21:
 319              	.L25:
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 320              		.loc 1 161 0 discriminator 1
 321 000c 8842     		cmp	r0, r1
 322 000e 07D0     		beq	.L33
 163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 323              		.loc 1 163 0
 324 0010 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 325 0012 1AB1     		cbz	r2, .L26
 165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 326              		.loc 1 165 0
 327 0014 4279     		ldrb	r2, [r0, #5]	@ zero_extendqisi2
 328 0016 9342     		cmp	r3, r2
 329 0018 28BF     		it	cs
 330 001a 4379     		ldrbcs	r3, [r0, #5]	@ zero_extendqisi2
 331              	.LVL22:
 332              	.L26:
 333 001c 0630     		adds	r0, r0, #6
 334 001e F5E7     		b	.L25
 335              	.L33:
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 336              		.loc 1 170 0
 337 0020 B3F5807F 		cmp	r3, #256
 338 0024 08BF     		it	eq
 339 0026 0023     		moveq	r3, #0
 340              	.LVL23:
 173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 341              		.loc 1 173 0
 342 0028 D8B2     		uxtb	r0, r3
 343 002a 7047     		bx	lr
 344              		.cfi_endproc
 345              	.LFE1:
 347              		.section	.text.prepare_capture_info,"ax",%progbits
 348              		.align	1
 349              		.global	prepare_capture_info
 350              		.thumb
 351              		.thumb_func
 353              	prepare_capture_info:
 354              	.LFB2:
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	unsigned int light_hdr_addr = 0;
 355              		.loc 1 184 0
 356              		.cfi_startproc
 357              		@ args = 0, pretend = 0, frame = 0
 358              		@ frame_needed = 0, uses_anonymous_args = 0
 359              	.LVL24:
 360 0000 2DE9F743 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, lr}
 361              	.LCFI3:
 362              		.cfi_def_cfa_offset 40
 363              		.cfi_offset 4, -28
 364              		.cfi_offset 5, -24
 365              		.cfi_offset 6, -20
 366              		.cfi_offset 7, -16
 367              		.cfi_offset 8, -12
 368              		.cfi_offset 9, -8
 369              		.cfi_offset 14, -4
 191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 370              		.loc 1 191 0
 371 0004 0029     		cmp	r1, #0
 372 0006 14BF     		ite	ne
 373 0008 4FF48014 		movne	r4, #1048576
 374 000c 0024     		moveq	r4, #0
 375              	.LVL25:
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	volatile lightheader_info_t *hdr_info_addr =
 376              		.loc 1 194 0
 377 000e DFF80491 		ldr	r9, .L39+44
 189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 378              		.loc 1 189 0
 379 0012 0D46     		mov	r5, r1
 193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t start_address = (GET_RX_DDR_ADDR(0, hdr_info_idx) + (hdr_info_idx * padding));
 380              		.loc 1 193 0
 381 0014 2B46     		mov	r3, r5
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	unsigned int light_hdr_addr = 0;
 382              		.loc 1 184 0
 383 0016 8046     		mov	r8, r0
 193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t start_address = (GET_RX_DDR_ADDR(0, hdr_info_idx) + (hdr_info_idx * padding));
 384              		.loc 1 193 0
 385 0018 0094     		str	r4, [sp]
 386 001a 2120     		movs	r0, #33
 387              	.LVL26:
 388 001c 0821     		movs	r1, #8
 389              	.LVL27:
 390 001e 324A     		ldr	r2, .L39
 391 0020 324F     		ldr	r7, .L39+4
 392 0022 B847     		blx	r7
 393              	.LVL28:
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	volatile lightheader_info_t *hdr_info_addr =
 394              		.loc 1 194 0
 395 0024 D9F80020 		ldr	r2, [r9]
 396 0028 314E     		ldr	r6, .L39+8
 397 002a 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	header_offset = cam_total * img_bytes + sizeof(lightheader_info_t);
 398              		.loc 1 197 0
 399 002c 2120     		movs	r0, #33
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	volatile lightheader_info_t *hdr_info_addr =
 400              		.loc 1 194 0
 401 002e 02FB0344 		mla	r4, r2, r3, r4
 402              	.LVL29:
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	header_offset = cam_total * img_bytes + sizeof(lightheader_info_t);
 403              		.loc 1 197 0
 404 0032 0821     		movs	r1, #8
 405 0034 2F4A     		ldr	r2, .L39+12
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	volatile lightheader_info_t *hdr_info_addr =
 406              		.loc 1 194 0
 407 0036 6C43     		muls	r4, r5, r4
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	record_size = cam_total * img_bytes + sizeof(lightheader_info_t)
 408              		.loc 1 198 0
 409 0038 0025     		movs	r5, #0
 410              	.LVL30:
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	volatile lightheader_info_t *hdr_info_addr =
 411              		.loc 1 194 0
 412 003a 04F18064 		add	r4, r4, #67108864
 413              	.LVL31:
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	header_offset = cam_total * img_bytes + sizeof(lightheader_info_t);
 414              		.loc 1 197 0
 415 003e 2346     		mov	r3, r4
 416 0040 B847     		blx	r7
 417              	.LVL32:
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	record_size = cam_total * img_bytes + sizeof(lightheader_info_t)
 418              		.loc 1 198 0
 419 0042 D9F80010 		ldr	r1, [r9]
 420 0046 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 												+ MAX_PROTOBUF_HEADER_SIZE;
 421              		.loc 1 199 0
 422 0048 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 423 004a 4B43     		muls	r3, r1, r3
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	record_size = cam_total * img_bytes + sizeof(lightheader_info_t)
 424              		.loc 1 198 0
 425 004c 4A43     		muls	r2, r1, r2
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->header_offset = header_offset;
 426              		.loc 1 200 0
 427 004e 03F58013 		add	r3, r3, #1048576
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	record_size = cam_total * img_bytes + sizeof(lightheader_info_t)
 428              		.loc 1 198 0
 429 0052 2032     		adds	r2, r2, #32
 430              	.LVL33:
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->header_offset = header_offset;
 431              		.loc 1 200 0
 432 0054 2033     		adds	r3, r3, #32
 433              	.LVL34:
 201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->record_size = record_size;
 434              		.loc 1 201 0
 435 0056 E260     		str	r2, [r4, #12]	@ unaligned
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[2] = magic[2];
 436              		.loc 1 204 0
 437 0058 4522     		movs	r2, #69
 438              	.LVL35:
 201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->record_size = record_size;
 439              		.loc 1 201 0
 440 005a 2561     		str	r5, [r4, #16]	@ unaligned
 202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[0] = magic[0];
 441              		.loc 1 202 0
 442 005c 6360     		str	r3, [r4, #4]	@ unaligned
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[1] = magic[1];
 443              		.loc 1 203 0
 444 005e 4C23     		movs	r3, #76
 445              	.LVL36:
 202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[0] = magic[0];
 446              		.loc 1 202 0
 447 0060 A560     		str	r5, [r4, #8]	@ unaligned
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[1] = magic[1];
 448              		.loc 1 203 0
 449 0062 2370     		strb	r3, [r4]
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[2] = magic[2];
 450              		.loc 1 204 0
 451 0064 6270     		strb	r2, [r4, #1]
 205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->magic_id[3] = magic[3];
 452              		.loc 1 205 0
 453 0066 A370     		strb	r3, [r4, #2]
 206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->header_size = 0;
 454              		.loc 1 206 0
 455 0068 5223     		movs	r3, #82
 456 006a E370     		strb	r3, [r4, #3]
 207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hdr_info_addr->reversed = 0;
 457              		.loc 1 207 0
 458 006c 6369     		ldr	r3, [r4, #20]
 459 006e 6561     		str	r5, [r4, #20]
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 460              		.loc 1 208 0
 461 0070 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 462 0072 2576     		strb	r5, [r4, #24]
 463 0074 637E     		ldrb	r3, [r4, #25]	@ zero_extendqisi2
 464 0076 6576     		strb	r5, [r4, #25]
 465 0078 A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 466 007a A576     		strb	r5, [r4, #26]
 467 007c E37E     		ldrb	r3, [r4, #27]	@ zero_extendqisi2
 468 007e E576     		strb	r5, [r4, #27]
 469 0080 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 470 0082 2577     		strb	r5, [r4, #28]
 471 0084 637F     		ldrb	r3, [r4, #29]	@ zero_extendqisi2
 472 0086 6577     		strb	r5, [r4, #29]
 473 0088 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 474 008a A577     		strb	r5, [r4, #30]
 475 008c E37F     		ldrb	r3, [r4, #31]	@ zero_extendqisi2
 476 008e E577     		strb	r5, [r4, #31]
 211:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     uint32_t light_hdr_len = 0;
 477              		.loc 1 211 0
 478 0090 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 479 0092 01FB0346 		mla	r6, r1, r3, r4
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     lightheader_error_t ret = get_light_header(mbitmask, light_hdr);
 480              		.loc 1 213 0
 481 0096 184B     		ldr	r3, .L39+16
 482 0098 9847     		blx	r3
 483              	.LVL37:
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     if(ret == LIGHT_HEADER_ERROR_NONE)
 484              		.loc 1 214 0
 485 009a 184B     		ldr	r3, .L39+20
 210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****         cam_total*img_bytes + sizeof(lightheader_info_t));
 486              		.loc 1 210 0
 487 009c 2036     		adds	r6, r6, #32
 488              	.LVL38:
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     lightheader_error_t ret = get_light_header(mbitmask, light_hdr);
 489              		.loc 1 213 0
 490 009e 8146     		mov	r9, r0
 491              	.LVL39:
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c ****     if(ret == LIGHT_HEADER_ERROR_NONE)
 492              		.loc 1 214 0
 493 00a0 4046     		mov	r0, r8
 494              	.LVL40:
 495 00a2 4946     		mov	r1, r9
 496 00a4 9847     		blx	r3
 497              	.LVL41:
 215:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 498              		.loc 1 215 0
 499 00a6 58B9     		cbnz	r0, .L36
 500              	.LVL42:
 501              	.LBB13:
 218:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "LightHeader size %d at 0x%08x", (int)light_hdr_len, light_hdr_addr);
 502              		.loc 1 218 0
 503 00a8 3146     		mov	r1, r6
 504 00aa 4846     		mov	r0, r9
 505              	.LVL43:
 506 00ac 144B     		ldr	r3, .L39+24
 507 00ae 9847     		blx	r3
 508              	.LVL44:
 219:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 509              		.loc 1 219 0
 510 00b0 0096     		str	r6, [sp]
 511 00b2 0821     		movs	r1, #8
 512 00b4 134A     		ldr	r2, .L39+28
 218:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "LightHeader size %d at 0x%08x", (int)light_hdr_len, light_hdr_addr);
 513              		.loc 1 218 0
 514 00b6 0546     		mov	r5, r0
 515              	.LVL45:
 219:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 516              		.loc 1 219 0
 517 00b8 2120     		movs	r0, #33
 518              	.LVL46:
 519 00ba 2B46     		mov	r3, r5
 520 00bc B847     		blx	r7
 521              	.LVL47:
 522              	.LBE13:
 523 00be 03E0     		b	.L37
 524              	.LVL48:
 525              	.L36:
 223:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 526              		.loc 1 223 0
 527 00c0 2120     		movs	r0, #33
 528              	.LVL49:
 529 00c2 0221     		movs	r1, #2
 530 00c4 104A     		ldr	r2, .L39+32
 531 00c6 B847     		blx	r7
 532              	.LVL50:
 533              	.L37:
 225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	free_mem_light_header(light_hdr);
 534              		.loc 1 225 0
 535 00c8 6369     		ldr	r3, [r4, #20]
 226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Flush cache of headers */
 536              		.loc 1 226 0
 537 00ca 4846     		mov	r0, r9
 538 00cc 0F4B     		ldr	r3, .L39+36
 225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	free_mem_light_header(light_hdr);
 539              		.loc 1 225 0
 540 00ce 6561     		str	r5, [r4, #20]
 226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Flush cache of headers */
 541              		.loc 1 226 0
 542 00d0 9847     		blx	r3
 543              	.LVL51:
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	flush_cache(light_hdr_addr, light_hdr_len);
 544              		.loc 1 228 0
 545 00d2 2046     		mov	r0, r4
 546 00d4 2021     		movs	r1, #32
 547 00d6 0E4C     		ldr	r4, .L39+40
 548              	.LVL52:
 549 00d8 A047     		blx	r4
 550              	.LVL53:
 229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return 1;
 551              		.loc 1 229 0
 552 00da 3046     		mov	r0, r6
 553 00dc 2946     		mov	r1, r5
 554 00de A047     		blx	r4
 555              	.LVL54:
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 556              		.loc 1 231 0
 557 00e0 0120     		movs	r0, #1
 558 00e2 03B0     		add	sp, sp, #12
 559              	.LCFI4:
 560              		.cfi_def_cfa_offset 28
 561              		@ sp needed
 562 00e4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 563              	.LVL55:
 564              	.L40:
 565              		.align	2
 566              	.L39:
 567 00e8 17000000 		.word	.LC1
 568 00ec 00000000 		.word	slogf
 569 00f0 00000000 		.word	.LANCHOR1
 570 00f4 32000000 		.word	.LC2
 571 00f8 00000000 		.word	alloc_init_light_header
 572 00fc 00000000 		.word	get_light_header
 573 0100 00000000 		.word	ltpb__light_header__pack
 574 0104 4B000000 		.word	.LC3
 575 0108 69000000 		.word	.LC4
 576 010c 00000000 		.word	free_mem_light_header
 577 0110 00000000 		.word	flush_cache
 578 0114 00000000 		.word	.LANCHOR4
 579              		.cfi_endproc
 580              	.LFE2:
 582              		.section	.text.get_real_tx_ddr_address,"ax",%progbits
 583              		.align	1
 584              		.global	get_real_tx_ddr_address
 585              		.thumb
 586              		.thumb_func
 588              	get_real_tx_ddr_address:
 589              	.LFB3:
 234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(memidx == 0)
 590              		.loc 1 234 0
 591              		.cfi_startproc
 592              		@ args = 0, pretend = 0, frame = 0
 593              		@ frame_needed = 0, uses_anonymous_args = 0
 594              		@ link register save eliminated.
 595              	.LVL56:
 596 0000 064B     		ldr	r3, .L44
 597              	.LBB16:
 598              	.LBB17:
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 599              		.loc 1 236 0
 600 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 601              	.LBE17:
 602              	.LBE16:
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return GET_TX_DDR_ADDR(memidx);
 603              		.loc 1 235 0
 604 0004 10B9     		cbnz	r0, .L42
 605              	.LVL57:
 606              	.LBB19:
 607              	.LBB18:
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 608              		.loc 1 236 0
 609 0006 4FF08060 		mov	r0, #67108864
 610              	.LVL58:
 611 000a 7047     		bx	lr
 612              	.LVL59:
 613              	.L42:
 614              	.LBE18:
 615              	.LBE19:
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 616              		.loc 1 239 0
 617 000c 5843     		muls	r0, r3, r0
 618              	.LVL60:
 619 000e 044B     		ldr	r3, .L44+4
 620 0010 1B68     		ldr	r3, [r3]
 621 0012 5843     		muls	r0, r3, r0
 622 0014 00F18260 		add	r0, r0, #68157440
 242:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 623              		.loc 1 242 0
 624 0018 7047     		bx	lr
 625              	.L45:
 626 001a 00BF     		.align	2
 627              	.L44:
 628 001c 00000000 		.word	.LANCHOR1
 629 0020 00000000 		.word	.LANCHOR4
 630              		.cfi_endproc
 631              	.LFE3:
 633              		.section	.text.mipi_tx_snapshot_isr,"ax",%progbits
 634              		.align	1
 635              		.global	mipi_tx_snapshot_isr
 636              		.thumb
 637              		.thumb_func
 639              	mipi_tx_snapshot_isr:
 640              	.LFB12:
 671:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t ddr_address;
 641              		.loc 1 671 0
 642              		.cfi_startproc
 643              		@ args = 0, pretend = 0, frame = 8
 644              		@ frame_needed = 0, uses_anonymous_args = 0
 645              	.LVL61:
 646 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 647              	.LCFI5:
 648              		.cfi_def_cfa_offset 32
 649              		.cfi_offset 4, -20
 650              		.cfi_offset 5, -16
 651              		.cfi_offset 6, -12
 652              		.cfi_offset 7, -8
 653              		.cfi_offset 14, -4
 674:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 654              		.loc 1 674 0
 655 0002 4C4D     		ldr	r5, .L102
 656 0004 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 657 0006 8342     		cmp	r3, r0
 658 0008 40F09280 		bne	.L46
 674:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 659              		.loc 1 674 0 is_stmt 0 discriminator 1
 660 000c 11F0706F 		tst	r1, #251658240
 661 0010 40F08E80 		bne	.L46
 679:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 662              		.loc 1 679 0 is_stmt 1
 663 0014 484B     		ldr	r3, .L102+4
 664 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 665 0018 002B     		cmp	r3, #0
 666 001a 2ED0     		beq	.L51
 681:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 667              		.loc 1 681 0
 668 001c 474A     		ldr	r2, .L102+8
 669              	.LVL62:
 670 001e 5368     		ldr	r3, [r2, #4]
 671 0020 1942     		tst	r1, r3
 683:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 672              		.loc 1 683 0
 673 0022 1CBF     		itt	ne
 674 0024 0123     		movne	r3, #1
 675 0026 1370     		strbne	r3, [r2]
 686:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 676              		.loc 1 686 0
 677 0028 9368     		ldr	r3, [r2, #8]
 678 002a 1942     		tst	r1, r3
 688:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 679              		.loc 1 688 0
 680 002c 1EBF     		ittt	ne
 681 002e 0124     		movne	r4, #1
 682 0030 424B     		ldrne	r3, .L102+8
 683 0032 5C70     		strbne	r4, [r3, #1]
 691:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 684              		.loc 1 691 0
 685 0034 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 686 0036 5478     		ldrb	r4, [r2, #1]	@ zero_extendqisi2
 687 0038 1C42     		tst	r4, r3
 688 003a 1ED0     		beq	.L51
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_mem_idx =
 689              		.loc 1 694 0
 690 003c 404C     		ldr	r4, .L102+12
 691 003e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 692 0040 0133     		adds	r3, r3, #1
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						cam_mem_idx[cam_thumb_mem_idx],
 693              		.loc 1 702 0
 694 0042 404E     		ldr	r6, .L102+16
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 695              		.loc 1 706 0
 696 0044 0003     		lsls	r0, r0, #12
 697              	.LVL63:
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_mem_idx =
 698              		.loc 1 694 0
 699 0046 DBB2     		uxtb	r3, r3
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						(thumbnail_mem_idx >= MAX_AREA_MEM) ?
 700              		.loc 1 695 0
 701 0048 062B     		cmp	r3, #6
 702 004a 28BF     		it	cs
 703 004c 0023     		movcs	r3, #0
 704 004e 2370     		strb	r3, [r4]
 699:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				thumbnail_tx.fs_flag = 0;
 705              		.loc 1 699 0
 706 0050 0024     		movs	r4, #0
 707 0052 5470     		strb	r4, [r2, #1]
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 708              		.loc 1 700 0
 709 0054 1470     		strb	r4, [r2]
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						cam_mem_idx[cam_thumb_mem_idx],
 710              		.loc 1 702 0
 711 0056 3C4A     		ldr	r2, .L102+20
 712 0058 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 713 005a 3C4C     		ldr	r4, .L102+24
 714 005c 2478     		ldrb	r4, [r4]	@ zero_extendqisi2
 715 005e 345D     		ldrb	r4, [r6, r4]	@ zero_extendqisi2
 716 0060 03FB0243 		mla	r3, r3, r2, r4
 717 0064 3A4A     		ldr	r2, .L102+28
 718 0066 1268     		ldr	r2, [r2]
 719 0068 5343     		muls	r3, r2, r3
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 720              		.loc 1 706 0
 721 006a 3A4A     		ldr	r2, .L102+32
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						cam_mem_idx[cam_thumb_mem_idx],
 722              		.loc 1 702 0
 723 006c 03F18063 		add	r3, r3, #67108864
 724 0070 2033     		adds	r3, r3, #32
 725              	.LVL64:
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 726              		.loc 1 706 0
 727 0072 8350     		str	r3, [r0, r2]
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 728              		.loc 1 711 0
 729 0074 0122     		movs	r2, #1
 730 0076 384B     		ldr	r3, .L102+36
 731              	.LVL65:
 732 0078 C250     		str	r2, [r0, r3]
 733              	.LVL66:
 734              	.L51:
 722:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 735              		.loc 1 722 0
 736 007a 384C     		ldr	r4, .L102+40
 737 007c 6368     		ldr	r3, [r4, #4]
 738 007e 1942     		tst	r1, r3
 724:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 739              		.loc 1 724 0
 740 0080 1CBF     		itt	ne
 741 0082 0123     		movne	r3, #1
 742 0084 2370     		strbne	r3, [r4]
 727:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 743              		.loc 1 727 0
 744 0086 A368     		ldr	r3, [r4, #8]
 745 0088 1942     		tst	r1, r3
 746 008a 11D0     		beq	.L57
 747              	.LBB20:
 729:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			BaseType_t woken = pdFALSE;
 748              		.loc 1 729 0
 749 008c 0126     		movs	r6, #1
 750 008e 334B     		ldr	r3, .L102+40
 751 0090 5E70     		strb	r6, [r3, #1]
 730:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(priv_data.hires_evhdl)
 752              		.loc 1 730 0
 753 0092 0023     		movs	r3, #0
 754 0094 0193     		str	r3, [sp, #4]
 731:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 755              		.loc 1 731 0
 756 0096 324B     		ldr	r3, .L102+44
 757 0098 5A68     		ldr	r2, [r3, #4]
 758 009a 4AB1     		cbz	r2, .L57
 733:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											EVENT_TX_FRAME_COMPLETE, &woken))
 759              		.loc 1 733 0
 760 009c 5868     		ldr	r0, [r3, #4]
 761 009e 0221     		movs	r1, #2
 762              	.LVL67:
 763 00a0 01AA     		add	r2, sp, #4
 764 00a2 304B     		ldr	r3, .L102+48
 765 00a4 9847     		blx	r3
 766              	.LVL68:
 767 00a6 18B1     		cbz	r0, .L57
 768              	.LBB21:
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 769              		.loc 1 735 0
 770 00a8 019B     		ldr	r3, [sp, #4]
 771 00aa 0BB1     		cbz	r3, .L57
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 772              		.loc 1 735 0 is_stmt 0 discriminator 1
 773 00ac 2E4B     		ldr	r3, .L102+52
 774 00ae 1E60     		str	r6, [r3]
 775              	.L57:
 776              	.LBE21:
 777              	.LBE20:
 739:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 778              		.loc 1 739 0 is_stmt 1
 779 00b0 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 780 00b2 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 781 00b4 1142     		tst	r1, r2
 782 00b6 294B     		ldr	r3, .L102+40
 783 00b8 3AD0     		beq	.L46
 745:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			tx_ddr_mem_idx =
 784              		.loc 1 745 0
 785 00ba 2C4F     		ldr	r7, .L102+56
 786 00bc 3878     		ldrb	r0, [r7]	@ zero_extendqisi2
 787 00be 0130     		adds	r0, r0, #1
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			snapshot_tx.fe_flag = 0;
 788              		.loc 1 741 0
 789 00c0 0026     		movs	r6, #0
 745:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			tx_ddr_mem_idx =
 790              		.loc 1 745 0
 791 00c2 C0B2     		uxtb	r0, r0
 746:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
 792              		.loc 1 746 0
 793 00c4 0628     		cmp	r0, #6
 794 00c6 28BF     		it	cs
 795 00c8 3046     		movcs	r0, r6
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			snapshot_tx.fe_flag = 0;
 796              		.loc 1 741 0
 797 00ca 1E70     		strb	r6, [r3]
 742:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 798              		.loc 1 742 0
 799 00cc 5E70     		strb	r6, [r3, #1]
 750:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef DEBUG_MIPI
 800              		.loc 1 750 0
 801 00ce 284B     		ldr	r3, .L102+60
 746:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
 802              		.loc 1 746 0
 803 00d0 3870     		strb	r0, [r7]
 750:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef DEBUG_MIPI
 804              		.loc 1 750 0
 805 00d2 9847     		blx	r3
 806              	.LVL69:
 755:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Change destination memory address */
 807              		.loc 1 755 0
 808 00d4 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 809 00d6 1B03     		lsls	r3, r3, #12
 810 00d8 03F10071 		add	r1, r3, #33554432
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 811              		.loc 1 757 0
 812 00dc 254A     		ldr	r2, .L102+64
 755:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Change destination memory address */
 813              		.loc 1 755 0
 814 00de 01F53431 		add	r1, r1, #184320
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 815              		.loc 1 762 0
 816 00e2 0125     		movs	r5, #1
 755:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Change destination memory address */
 817              		.loc 1 755 0
 818 00e4 0E60     		str	r6, [r1]
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 819              		.loc 1 757 0
 820 00e6 9850     		str	r0, [r3, r2]
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 821              		.loc 1 762 0
 822 00e8 3C32     		adds	r2, r2, #60
 823 00ea 9D50     		str	r5, [r3, r2]
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			mipi_tx_done_flag = 1;
 824              		.loc 1 768 0
 825 00ec 224A     		ldr	r2, .L102+68
 826 00ee 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 827 00f0 2B44     		add	r3, r3, r5
 828 00f2 DBB2     		uxtb	r3, r3
 829 00f4 1370     		strb	r3, [r2]
 769:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(mipi_tx_fr_cnt >= num_of_frame)
 830              		.loc 1 769 0
 831 00f6 214A     		ldr	r2, .L102+72
 832 00f8 1570     		strb	r5, [r2]
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 833              		.loc 1 770 0
 834 00fa 214A     		ldr	r2, .L102+76
 835 00fc 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 836 00fe 9342     		cmp	r3, r2
 837 0100 16D3     		bcc	.L46
 782:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 838              		.loc 1 782 0
 839 0102 174B     		ldr	r3, .L102+44
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				snapshot_tx.fe_flag = 0;
 840              		.loc 1 773 0
 841 0104 2670     		strb	r6, [r4]
 774:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				tx_ddr_mem_idx = 0;
 842              		.loc 1 774 0
 843 0106 6670     		strb	r6, [r4, #1]
 778:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 844              		.loc 1 778 0
 845 0108 0E60     		str	r6, [r1]
 782:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 846              		.loc 1 782 0
 847 010a 5A68     		ldr	r2, [r3, #4]
 775:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 848              		.loc 1 775 0
 849 010c 3E70     		strb	r6, [r7]
 782:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 850              		.loc 1 782 0
 851 010e 5AB1     		cbz	r2, .L62
 852              	.LBB22:
 784:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(pdFAIL != xEventGroupSetBitsFromISR(priv_data.hires_evhdl,
 853              		.loc 1 784 0
 854 0110 02AA     		add	r2, sp, #8
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											EVENT_SNAPSHOT_COMPLETE, &woken))
 855              		.loc 1 785 0
 856 0112 5868     		ldr	r0, [r3, #4]
 857              	.LVL70:
 858 0114 0421     		movs	r1, #4
 784:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(pdFAIL != xEventGroupSetBitsFromISR(priv_data.hires_evhdl,
 859              		.loc 1 784 0
 860 0116 42F8046D 		str	r6, [r2, #-4]!
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											EVENT_SNAPSHOT_COMPLETE, &woken))
 861              		.loc 1 785 0
 862 011a 124B     		ldr	r3, .L102+48
 863 011c 9847     		blx	r3
 864              	.LVL71:
 865 011e 18B1     		cbz	r0, .L62
 866              	.LBB23:
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 867              		.loc 1 787 0
 868 0120 019B     		ldr	r3, [sp, #4]
 869 0122 0BB1     		cbz	r3, .L62
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 870              		.loc 1 787 0 is_stmt 0 discriminator 1
 871 0124 104B     		ldr	r3, .L102+52
 872 0126 1D60     		str	r5, [r3]
 873              	.L62:
 874              	.LBE23:
 875              	.LBE22:
 790:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 876              		.loc 1 790 0 is_stmt 1
 877 0128 164B     		ldr	r3, .L102+80
 878 012a 1B68     		ldr	r3, [r3]
 879 012c 03B1     		cbz	r3, .L46
 792:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 880              		.loc 1 792 0
 881 012e 9847     		blx	r3
 882              	.LVL72:
 883              	.L46:
 797:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 884              		.loc 1 797 0
 885 0130 03B0     		add	sp, sp, #12
 886              	.LCFI6:
 887              		.cfi_def_cfa_offset 20
 888              		@ sp needed
 889 0132 F0BD     		pop	{r4, r5, r6, r7, pc}
 890              	.L103:
 891              		.align	2
 892              	.L102:
 893 0134 00000000 		.word	.LANCHOR5
 894 0138 00000000 		.word	.LANCHOR8
 895 013c 00000000 		.word	.LANCHOR7
 896 0140 00000000 		.word	.LANCHOR9
 897 0144 00000000 		.word	.LANCHOR2
 898 0148 00000000 		.word	.LANCHOR1
 899 014c 00000000 		.word	.LANCHOR3
 900 0150 00000000 		.word	.LANCHOR4
 901 0154 0CD00202 		.word	33738764
 902 0158 4CD00202 		.word	33738828
 903 015c 00000000 		.word	.LANCHOR6
 904 0160 00000000 		.word	.LANCHOR10
 905 0164 00000000 		.word	xEventGroupSetBitsFromISR
 906 0168 00000000 		.word	ulPortYieldRequired
 907 016c 00000000 		.word	.LANCHOR11
 908 0170 00000000 		.word	get_real_tx_ddr_address
 909 0174 14D00202 		.word	33738772
 910 0178 00000000 		.word	.LANCHOR12
 911 017c 00000000 		.word	.LANCHOR13
 912 0180 00000000 		.word	.LANCHOR14
 913 0184 00000000 		.word	.LANCHOR15
 914              		.cfi_endproc
 915              	.LFE12:
 917              		.section	.text.get_real_rx_ddr_address,"ax",%progbits
 918              		.align	1
 919              		.global	get_real_rx_ddr_address
 920              		.thumb
 921              		.thumb_func
 923              	get_real_rx_ddr_address:
 924              	.LFB4:
 245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(regionidx == 0)
 925              		.loc 1 245 0
 926              		.cfi_startproc
 927              		@ args = 0, pretend = 0, frame = 0
 928              		@ frame_needed = 0, uses_anonymous_args = 0
 929              		@ link register save eliminated.
 930              	.LVL73:
 931 0000 084B     		ldr	r3, .L108
 932              	.LBB30:
 933              	.LBB31:
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return address;
 934              		.loc 1 248 0
 935 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 936 0004 084A     		ldr	r2, .L108+4
 937              	.LBE31:
 938              	.LBE30:
 246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 939              		.loc 1 246 0
 940 0006 21B9     		cbnz	r1, .L105
 941              	.LVL74:
 942              	.LBB33:
 943              	.LBB32:
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return address;
 944              		.loc 1 248 0
 945 0008 1368     		ldr	r3, [r2]
 946 000a 5843     		muls	r0, r3, r0
 947              	.LVL75:
 948 000c 00F18060 		add	r0, r0, #67108864
 949 0010 05E0     		b	.L107
 950              	.LVL76:
 951              	.L105:
 952 0012 01FB0300 		mla	r0, r1, r3, r0
 953              	.LVL77:
 954 0016 1368     		ldr	r3, [r2]
 955 0018 5843     		muls	r0, r3, r0
 956              	.LBE32:
 957              	.LBE33:
 958              	.LBB34:
 253:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		// printf("\r\nNEXT RX DDR address: %x\r\n", address);
 959              		.loc 1 253 0
 960 001a 00F18260 		add	r0, r0, #68157440
 961              	.L107:
 962 001e 2030     		adds	r0, r0, #32
 963              	.LBE34:
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 964              		.loc 1 257 0
 965 0020 7047     		bx	lr
 966              	.L109:
 967 0022 00BF     		.align	2
 968              	.L108:
 969 0024 00000000 		.word	.LANCHOR1
 970 0028 00000000 		.word	.LANCHOR4
 971              		.cfi_endproc
 972              	.LFE4:
 974              		.section	.text.mipi_rx_snapshot_isr,"ax",%progbits
 975              		.align	1
 976              		.thumb
 977              		.thumb_func
 979              	mipi_rx_snapshot_isr:
 980              	.LFB11:
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t ddr_address = 0;
 981              		.loc 1 600 0
 982              		.cfi_startproc
 983              		@ args = 0, pretend = 0, frame = 0
 984              		@ frame_needed = 0, uses_anonymous_args = 0
 985              	.LVL78:
 610:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 986              		.loc 1 610 0
 987 0000 11F0807F 		tst	r1, #16777216
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t ddr_address = 0;
 988              		.loc 1 600 0
 989 0004 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 990              	.LCFI7:
 991              		.cfi_def_cfa_offset 24
 992              		.cfi_offset 4, -24
 993              		.cfi_offset 5, -20
 994              		.cfi_offset 6, -16
 995              		.cfi_offset 7, -12
 996              		.cfi_offset 8, -8
 997              		.cfi_offset 14, -4
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t ddr_address = 0;
 998              		.loc 1 600 0
 999 0008 0446     		mov	r4, r0
 1000 000a 0E46     		mov	r6, r1
 1001 000c 274D     		ldr	r5, .L122
 610:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1002              		.loc 1 610 0
 1003 000e 2BD0     		beq	.L112
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fs_flag = 1;
 1004              		.loc 1 612 0
 1005 0010 0621     		movs	r1, #6
 1006              	.LVL79:
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #if 0
 1007              		.loc 1 613 0
 1008 0012 0127     		movs	r7, #1
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fs_flag = 1;
 1009              		.loc 1 612 0
 1010 0014 01FB0051 		mla	r1, r1, r0, r5
 1011 0018 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1012              	.LVL80:
 1013 001a 0133     		adds	r3, r3, #1
 624:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1014              		.loc 1 624 0
 1015 001c 2448     		ldr	r0, .L122+4
 1016              	.LVL81:
 1017 001e 025D     		ldrb	r2, [r0, r4]	@ zero_extendqisi2
 1018              	.LVL82:
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fs_flag = 1;
 1019              		.loc 1 612 0
 1020 0020 DBB2     		uxtb	r3, r3
 1021 0022 CB70     		strb	r3, [r1, #3]
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #if 0
 1022              		.loc 1 613 0
 1023 0024 4F70     		strb	r7, [r1, #1]
 624:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1024              		.loc 1 624 0
 1025 0026 FAB9     		cbnz	r2, .L112
 626:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 1026              		.loc 1 626 0
 1027 0028 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 1028 002a 224B     		ldr	r3, .L122+8
 1029 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1030 002e 013B     		subs	r3, r3, #1
 1031 0030 9A42     		cmp	r2, r3
 1032 0032 19DA     		bge	.L112
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				ddr_address = get_real_rx_ddr_address(
 1033              		.loc 1 629 0
 1034 0034 DFF88C80 		ldr	r8, .L122+24
 1035 0038 18F80410 		ldrb	r1, [r8, r4]	@ zero_extendqisi2
 1036 003c 3944     		add	r1, r1, r7
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mem_idx_rx[mipi2axi_idx]++;
 1037              		.loc 1 628 0
 1038 003e 0755     		strb	r7, [r0, r4]
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				ddr_address = get_real_rx_ddr_address(
 1039              		.loc 1 629 0
 1040 0040 C9B2     		uxtb	r1, r1
 630:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											cam_mem_idx[mipi2axi_idx],
 1041              		.loc 1 630 0
 1042 0042 1D4B     		ldr	r3, .L122+12
 1043 0044 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
 1044 0046 1D4B     		ldr	r3, .L122+16
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				ddr_address = get_real_rx_ddr_address(
 1045              		.loc 1 629 0
 1046 0048 08F80410 		strb	r1, [r8, r4]
 630:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 											cam_mem_idx[mipi2axi_idx],
 1047              		.loc 1 630 0
 1048 004c 9847     		blx	r3
 1049              	.LVL83:
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									0 : mem_idx_rx[mipi2axi_idx];
 1050              		.loc 1 635 0
 1051 004e 18F80420 		ldrb	r2, [r8, r4]	@ zero_extendqisi2
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									(mem_idx_rx[mipi2axi_idx] >= MAX_AREA_MEM) ?
 1052              		.loc 1 634 0
 1053 0052 052A     		cmp	r2, #5
 1054 0054 88BF     		it	hi
 1055 0056 0022     		movhi	r2, #0
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_MIPI2AXI_REG(mipi2axi_idx, READY_REG, ENABLE);
 1056              		.loc 1 637 0
 1057 0058 2303     		lsls	r3, r4, #12
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									(mem_idx_rx[mipi2axi_idx] >= MAX_AREA_MEM) ?
 1058              		.loc 1 634 0
 1059 005a 08F80420 		strb	r2, [r8, r4]
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				WRITE_MIPI2AXI_REG(mipi2axi_idx, READY_REG, ENABLE);
 1060              		.loc 1 637 0
 1061 005e 184A     		ldr	r2, .L122+20
 1062 0060 9850     		str	r0, [r3, r2]
 638:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 1063              		.loc 1 638 0
 1064 0062 A2F58072 		sub	r2, r2, #256
 1065 0066 9F50     		str	r7, [r3, r2]
 1066              	.LVL84:
 1067              	.L112:
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1068              		.loc 1 644 0
 1069 0068 F300     		lsls	r3, r6, #3
 1070 006a 08D5     		bpl	.L115
 646:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fe_flag = 1;
 1071              		.loc 1 646 0
 1072 006c 0622     		movs	r2, #6
 1073 006e 02FB0452 		mla	r2, r2, r4, r5
 1074 0072 1379     		ldrb	r3, [r2, #4]	@ zero_extendqisi2
 1075 0074 0133     		adds	r3, r3, #1
 1076 0076 DBB2     		uxtb	r3, r3
 1077 0078 1371     		strb	r3, [r2, #4]
 647:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1078              		.loc 1 647 0
 1079 007a 0123     		movs	r3, #1
 1080 007c 9370     		strb	r3, [r2, #2]
 1081              	.L115:
 652:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1082              		.loc 1 652 0
 1083 007e 0623     		movs	r3, #6
 1084 0080 03FB0453 		mla	r3, r3, r4, r5
 1085 0084 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1086 0086 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 1087 0088 1142     		tst	r1, r2
 1088 008a 0DD0     		beq	.L110
 654:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fe_flag = 0;
 1089              		.loc 1 654 0
 1090 008c 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 1091 008e 0132     		adds	r2, r2, #1
 1092 0090 D2B2     		uxtb	r2, r2
 1093 0092 5A71     		strb	r2, [r3, #5]
 655:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		mipi_rx[mipi2axi_idx].fs_flag = 0;
 1094              		.loc 1 655 0
 1095 0094 0022     		movs	r2, #0
 1096 0096 9A70     		strb	r2, [r3, #2]
 656:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1097              		.loc 1 656 0
 1098 0098 5A70     		strb	r2, [r3, #1]
 658:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1099              		.loc 1 658 0
 1100 009a 5979     		ldrb	r1, [r3, #5]	@ zero_extendqisi2
 1101 009c 054B     		ldr	r3, .L122+8
 1102 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1103 00a0 9942     		cmp	r1, r3
 660:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 1104              		.loc 1 660 0
 1105 00a2 3CBF     		itt	cc
 1106 00a4 024B     		ldrcc	r3, .L122+4
 1107 00a6 1A55     		strbcc	r2, [r3, r4]
 1108              	.L110:
 1109 00a8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1110              	.LVL85:
 1111              	.L123:
 1112              		.align	2
 1113              	.L122:
 1114 00ac 00000000 		.word	.LANCHOR16
 1115 00b0 00000000 		.word	.LANCHOR17
 1116 00b4 00000000 		.word	.LANCHOR14
 1117 00b8 00000000 		.word	.LANCHOR2
 1118 00bc 00000000 		.word	get_real_rx_ddr_address
 1119 00c0 04710202 		.word	33714436
 1120 00c4 00000000 		.word	.LANCHOR18
 1121              		.cfi_endproc
 1122              	.LFE11:
 1124              		.section	.text.task_populate_header,"ax",%progbits
 1125              		.align	1
 1126              		.global	task_populate_header
 1127              		.thumb
 1128              		.thumb_func
 1130              	task_populate_header:
 1131              	.LFB5:
 261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint64_t time_out = POPULATE_LIGHT_HEADER_TIMEOUT;
 1132              		.loc 1 261 0
 1133              		.cfi_startproc
 1134              		@ args = 0, pretend = 0, frame = 0
 1135              		@ frame_needed = 0, uses_anonymous_args = 0
 1136              	.LVL86:
 1137 0000 2DE9F341 		push	{r0, r1, r4, r5, r6, r7, r8, lr}
 1138              	.LCFI8:
 1139              		.cfi_def_cfa_offset 32
 1140              		.cfi_offset 4, -24
 1141              		.cfi_offset 5, -20
 1142              		.cfi_offset 6, -16
 1143              		.cfi_offset 7, -12
 1144              		.cfi_offset 8, -8
 1145              		.cfi_offset 14, -4
 264:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t light_header_cnt = 0;
 1146              		.loc 1 264 0
 1147 0004 4FF00108 		mov	r8, #1
 265:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(1)
 1148              		.loc 1 265 0
 1149 0008 0024     		movs	r4, #0
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t last_cnt = 1;
 1150              		.loc 1 263 0
 1151 000a 4746     		mov	r7, r8
 1152              	.LVL87:
 1153              	.L125:
 1154              	.LBB35:
 268:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			EVENT_RX_FRAME_START | EVENT_SNAPSHOT_COMPLETE,
 1155              		.loc 1 268 0
 1156 000c 334D     		ldr	r5, .L151
 1157 000e 44F62063 		movw	r3, #20000
 1158 0012 334E     		ldr	r6, .L151+4
 1159 0014 0C21     		movs	r1, #12
 1160 0016 0122     		movs	r2, #1
 1161 0018 6868     		ldr	r0, [r5, #4]
 1162 001a 0093     		str	r3, [sp]
 1163 001c 0023     		movs	r3, #0
 1164 001e B047     		blx	r6
 1165              	.LVL88:
 271:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1166              		.loc 1 271 0
 1167 0020 0646     		mov	r6, r0
 1168 0022 0028     		cmp	r0, #0
 1169 0024 49D0     		beq	.L126
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 1170              		.loc 1 273 0
 1171 0026 0207     		lsls	r2, r0, #28
 1172 0028 3AD5     		bpl	.L127
 275:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 1173              		.loc 1 275 0
 1174 002a DFB1     		cbz	r7, .L134
 277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Set the event that Light Header is ready */
 1175              		.loc 1 277 0
 1176 002c 2D4B     		ldr	r3, .L151+8
 1177 002e 2146     		mov	r1, r4
 1178 0030 2868     		ldr	r0, [r5]
 1179              	.LVL89:
 1180 0032 9847     		blx	r3
 1181              	.LVL90:
 279:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						xEventGroupSetBits(priv_data.hires_evhdl, EVENT_LIGHT_HEADER_READY);
 1182              		.loc 1 279 0
 1183 0034 6B68     		ldr	r3, [r5, #4]
 1184 0036 1BB1     		cbz	r3, .L129
 280:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					priv_data.lh_ev_cnt ++;
 1185              		.loc 1 280 0
 1186 0038 6868     		ldr	r0, [r5, #4]
 1187 003a 0121     		movs	r1, #1
 1188 003c 2A4B     		ldr	r3, .L151+12
 1189 003e 9847     		blx	r3
 1190              	.LVL91:
 1191              	.L129:
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt ++;
 1192              		.loc 1 281 0
 1193 0040 2B89     		ldrh	r3, [r5, #8]
 1194 0042 0133     		adds	r3, r3, #1
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(light_header_cnt >= MAX_AREA_MEM)
 1195              		.loc 1 282 0
 1196 0044 0134     		adds	r4, r4, #1
 1197              	.LVL92:
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt ++;
 1198              		.loc 1 281 0
 1199 0046 9BB2     		uxth	r3, r3
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(light_header_cnt >= MAX_AREA_MEM)
 1200              		.loc 1 282 0
 1201 0048 E4B2     		uxtb	r4, r4
 1202              	.LVL93:
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt ++;
 1203              		.loc 1 281 0
 1204 004a 2B81     		strh	r3, [r5, #8]	@ movhi
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					all_rx_end = 0;
 1205              		.loc 1 284 0
 1206 004c 062C     		cmp	r4, #6
 286:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 1207              		.loc 1 286 0
 1208 004e 2B89     		ldrh	r3, [r5, #8]
 1209 0050 9BB2     		uxth	r3, r3
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					all_rx_end = 0;
 1210              		.loc 1 284 0
 1211 0052 28BF     		it	cs
 1212 0054 0024     		movcs	r4, #0
 1213              	.LVL94:
 286:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 1214              		.loc 1 286 0
 1215 0056 254A     		ldr	r2, .L151+16
 1216 0058 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1217 005a 9342     		cmp	r3, r2
 1218 005c 1FD3     		bcc	.L135
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
 1219              		.loc 1 288 0
 1220 005e 46F00406 		orr	r6, r6, #4
 1221              	.LVL95:
 1222 0062 1CE0     		b	.L135
 1223              	.LVL96:
 1224              	.L134:
 1225 0064 3B46     		mov	r3, r7
 1226              	.LVL97:
 1227              	.L128:
 1228              	.LBB36:
 296:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						{
 1229              		.loc 1 296 0
 1230 0066 0622     		movs	r2, #6
 1231 0068 2148     		ldr	r0, .L151+20
 1232 006a 5A43     		muls	r2, r3, r2
 1233 006c 8118     		adds	r1, r0, r2
 1234 006e 825C     		ldrb	r2, [r0, r2]	@ zero_extendqisi2
 1235 0070 62B1     		cbz	r2, .L131
 298:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							{
 1236              		.loc 1 298 0
 1237 0072 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 1238 0074 4245     		cmp	r2, r8
 1239 0076 09D9     		bls	.L131
 1240              	.LVL98:
 301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								xEventGroupSetBits(priv_data.hires_evhdl, EVENT_RX_FRAME_START);
 1241              		.loc 1 301 0
 1242 0078 91F80380 		ldrb	r8, [r1, #3]	@ zero_extendqisi2
 1243              	.LVL99:
 302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								break;
 1244              		.loc 1 302 0
 1245 007c 1A4B     		ldr	r3, .L151+12
 1246              	.LVL100:
 1247 007e 6868     		ldr	r0, [r5, #4]
 1248 0080 0821     		movs	r1, #8
 301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								xEventGroupSetBits(priv_data.hires_evhdl, EVENT_RX_FRAME_START);
 1249              		.loc 1 301 0
 1250 0082 5FFA88F8 		uxtb	r8, r8
 1251              	.LVL101:
 302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								break;
 1252              		.loc 1 302 0
 1253 0086 9847     		blx	r3
 1254              	.LVL102:
 300:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								last_cnt = mipi_rx[i].fs_cnt;
 1255              		.loc 1 300 0
 1256 0088 0127     		movs	r7, #1
 1257 008a 09E0     		b	.L127
 1258              	.LVL103:
 1259              	.L131:
 294:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 1260              		.loc 1 294 0 discriminator 2
 1261 008c 0133     		adds	r3, r3, #1
 1262              	.LVL104:
 1263 008e 062B     		cmp	r3, #6
 1264 0090 E9D1     		bne	.L128
 1265              	.LVL105:
 308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 1266              		.loc 1 308 0
 1267 0092 2120     		movs	r0, #33
 1268 0094 1021     		movs	r1, #16
 1269 0096 174A     		ldr	r2, .L151+24
 1270 0098 174B     		ldr	r3, .L151+28
 1271              	.LVL106:
 1272 009a 9847     		blx	r3
 1273              	.LVL107:
 1274 009c 00E0     		b	.L127
 1275              	.L135:
 1276              	.LBE36:
 285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if(priv_data.lh_ev_cnt >= num_of_frame)
 1277              		.loc 1 285 0
 1278 009e 0027     		movs	r7, #0
 1279              	.LVL108:
 1280              	.L127:
 312:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 1281              		.loc 1 312 0
 1282 00a0 7307     		lsls	r3, r6, #29
 1283 00a2 B3D5     		bpl	.L125
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
 1284              		.loc 1 314 0
 1285 00a4 0122     		movs	r2, #1
 1286 00a6 154B     		ldr	r3, .L151+32
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vTaskDelete(NULL);
 1287              		.loc 1 315 0
 1288 00a8 2120     		movs	r0, #33
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
 1289              		.loc 1 314 0
 1290 00aa 1A70     		strb	r2, [r3]
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vTaskDelete(NULL);
 1291              		.loc 1 315 0
 1292 00ac 1021     		movs	r1, #16
 1293 00ae 144A     		ldr	r2, .L151+36
 1294 00b0 144B     		ldr	r3, .L151+40
 1295 00b2 114D     		ldr	r5, .L151+28
 1296 00b4 A847     		blx	r5
 1297              	.LVL109:
 316:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 1298              		.loc 1 316 0
 1299 00b6 0020     		movs	r0, #0
 1300 00b8 0DE0     		b	.L150
 1301              	.LVL110:
 1302              	.L126:
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
 1303              		.loc 1 321 0
 1304 00ba 2120     		movs	r0, #33
 1305              	.LVL111:
 1306 00bc 1021     		movs	r1, #16
 1307 00be 124A     		ldr	r2, .L151+44
 1308 00c0 0D4D     		ldr	r5, .L151+28
 1309 00c2 A847     		blx	r5
 1310              	.LVL112:
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			lh_populate_done = 1;
 1311              		.loc 1 322 0
 1312 00c4 2120     		movs	r0, #33
 1313 00c6 0E4A     		ldr	r2, .L151+36
 1314 00c8 1021     		movs	r1, #16
 1315 00ca 0E4B     		ldr	r3, .L151+40
 1316 00cc A847     		blx	r5
 1317              	.LVL113:
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			vTaskDelete(NULL);
 1318              		.loc 1 323 0
 1319 00ce 0122     		movs	r2, #1
 324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 1320              		.loc 1 324 0
 1321 00d0 3046     		mov	r0, r6
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			vTaskDelete(NULL);
 1322              		.loc 1 323 0
 1323 00d2 0A4B     		ldr	r3, .L151+32
 1324 00d4 1A70     		strb	r2, [r3]
 1325              	.L150:
 324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 1326              		.loc 1 324 0
 1327 00d6 0D4B     		ldr	r3, .L151+48
 1328 00d8 9847     		blx	r3
 1329              	.LVL114:
 1330 00da 97E7     		b	.L125
 1331              	.L152:
 1332              		.align	2
 1333              	.L151:
 1334 00dc 00000000 		.word	.LANCHOR10
 1335 00e0 00000000 		.word	xEventGroupWaitBits
 1336 00e4 00000000 		.word	prepare_capture_info
 1337 00e8 00000000 		.word	xEventGroupSetBits
 1338 00ec 00000000 		.word	.LANCHOR14
 1339 00f0 00000000 		.word	.LANCHOR16
 1340 00f4 B7000000 		.word	.LC7
 1341 00f8 00000000 		.word	slogf
 1342 00fc 00000000 		.word	.LANCHOR19
 1343 0100 87000000 		.word	.LC5
 1344 0104 00000000 		.word	.LANCHOR20
 1345 0108 93000000 		.word	.LC6
 1346 010c 00000000 		.word	vTaskDelete
 1347              	.LBE35:
 1348              		.cfi_endproc
 1349              	.LFE5:
 1351              		.section	.text.clear_global_variable,"ax",%progbits
 1352              		.align	1
 1353              		.global	clear_global_variable
 1354              		.thumb
 1355              		.thumb_func
 1357              	clear_global_variable:
 1358              	.LFB6:
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(mipi_rx, 0x00, sizeof(mipi_rx));
 1359              		.loc 1 329 0
 1360              		.cfi_startproc
 1361              		@ args = 0, pretend = 0, frame = 0
 1362              		@ frame_needed = 0, uses_anonymous_args = 0
 1363 0000 70B5     		push	{r4, r5, r6, lr}
 1364              	.LCFI9:
 1365              		.cfi_def_cfa_offset 16
 1366              		.cfi_offset 4, -16
 1367              		.cfi_offset 5, -12
 1368              		.cfi_offset 6, -8
 1369              		.cfi_offset 14, -4
 330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1370              		.loc 1 330 0
 1371 0002 0021     		movs	r1, #0
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	mipi_tx_done_flag = 0;
 1372              		.loc 1 333 0
 1373 0004 0024     		movs	r4, #0
 330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1374              		.loc 1 330 0
 1375 0006 224E     		ldr	r6, .L158
 1376 0008 2422     		movs	r2, #36
 1377 000a 2248     		ldr	r0, .L158+4
 1378 000c B047     		blx	r6
 1379              	.LVL115:
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	mipi_tx_done_flag = 0;
 1380              		.loc 1 333 0
 1381 000e 224B     		ldr	r3, .L158+8
 1382 0010 1C70     		strb	r4, [r3]
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(set_next_addr_flag, 0x00, sizeof(set_next_addr_flag));
 1383              		.loc 1 349 0
 1384 0012 2146     		mov	r1, r4
 334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	synio_count = 0;
 1385              		.loc 1 334 0
 1386 0014 214B     		ldr	r3, .L158+12
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(set_next_addr_flag, 0x00, sizeof(set_next_addr_flag));
 1387              		.loc 1 349 0
 1388 0016 0622     		movs	r2, #6
 334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	synio_count = 0;
 1389              		.loc 1 334 0
 1390 0018 1C70     		strb	r4, [r3]
 335:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_total = 0;
 1391              		.loc 1 335 0
 1392 001a 214B     		ldr	r3, .L158+16
 1393 001c 1C70     		strb	r4, [r3]
 336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_asic_port_mask = 0;
 1394              		.loc 1 336 0
 1395 001e 214B     		ldr	r3, .L158+20
 1396 0020 1C70     		strb	r4, [r3]
 337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	axi2mipi_tx_bridge = 0;
 1397              		.loc 1 337 0
 1398 0022 214B     		ldr	r3, .L158+24
 1399 0024 1C70     		strb	r4, [r3]
 338:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_thumb_mem_idx = 0;
 1400              		.loc 1 338 0
 1401 0026 214B     		ldr	r3, .L158+28
 1402 0028 1C70     		strb	r4, [r3]
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	has_cam_thumb = 0;
 1403              		.loc 1 339 0
 1404 002a 214B     		ldr	r3, .L158+32
 1405 002c 1C70     		strb	r4, [r3]
 340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1406              		.loc 1 340 0
 1407 002e 214B     		ldr	r3, .L158+36
 1408 0030 1C70     		strb	r4, [r3]
 342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	thumbnail_mem_idx = 0;
 1409              		.loc 1 342 0
 1410 0032 214B     		ldr	r3, .L158+40
 1411 0034 1C70     		strb	r4, [r3]
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1412              		.loc 1 343 0
 1413 0036 214B     		ldr	r3, .L158+44
 1414 0038 1C70     		strb	r4, [r3]
 345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	thumbnail_tx.fe_mask = 0, thumbnail_tx.fs_mask = 0;
 1415              		.loc 1 345 0
 1416 003a 214B     		ldr	r3, .L158+48
 1417 003c 5C70     		strb	r4, [r3, #1]
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(set_next_addr_flag, 0x00, sizeof(set_next_addr_flag));
 1418              		.loc 1 349 0
 1419 003e 2148     		ldr	r0, .L158+52
 345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	thumbnail_tx.fe_mask = 0, thumbnail_tx.fs_mask = 0;
 1420              		.loc 1 345 0
 1421 0040 1C70     		strb	r4, [r3]
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1422              		.loc 1 352 0
 1423 0042 214D     		ldr	r5, .L158+56
 346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	snapshot_tx.fe_flag = 0, snapshot_tx.fs_flag = 0;
 1424              		.loc 1 346 0
 1425 0044 9C60     		str	r4, [r3, #8]
 1426 0046 5C60     		str	r4, [r3, #4]
 347:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	snapshot_tx.fe_mask = 0, snapshot_tx.fs_mask = 0;
 1427              		.loc 1 347 0
 1428 0048 204B     		ldr	r3, .L158+60
 1429 004a 5C70     		strb	r4, [r3, #1]
 1430 004c 1C70     		strb	r4, [r3]
 348:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(mem_idx_rx, 0x00, sizeof(mem_idx_rx));
 1431              		.loc 1 348 0
 1432 004e 9C60     		str	r4, [r3, #8]
 1433 0050 5C60     		str	r4, [r3, #4]
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(set_next_addr_flag, 0x00, sizeof(set_next_addr_flag));
 1434              		.loc 1 349 0
 1435 0052 B047     		blx	r6
 1436              	.LVL116:
 350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	memset(cam_mem_idx, 0x00, sizeof(cam_mem_idx));
 1437              		.loc 1 350 0
 1438 0054 2146     		mov	r1, r4
 1439 0056 0622     		movs	r2, #6
 1440 0058 1D48     		ldr	r0, .L158+64
 1441 005a B047     		blx	r6
 1442              	.LVL117:
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(priv_data.hires_evhdl)
 1443              		.loc 1 351 0
 1444 005c 1D48     		ldr	r0, .L158+68
 1445 005e 2146     		mov	r1, r4
 1446 0060 0622     		movs	r2, #6
 1447 0062 B047     		blx	r6
 1448              	.LVL118:
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1449              		.loc 1 352 0
 1450 0064 6B68     		ldr	r3, [r5, #4]
 1451 0066 1BB1     		cbz	r3, .L154
 354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		priv_data.hires_evhdl = NULL;
 1452              		.loc 1 354 0
 1453 0068 6868     		ldr	r0, [r5, #4]
 1454 006a 1B4B     		ldr	r3, .L158+72
 1455 006c 9847     		blx	r3
 1456              	.LVL119:
 355:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 1457              		.loc 1 355 0
 1458 006e 6C60     		str	r4, [r5, #4]
 1459              	.L154:
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.hires_evhdl = xEventGroupCreate();
 1460              		.loc 1 357 0
 1461 0070 1822     		movs	r2, #24
 1462 0072 0021     		movs	r1, #0
 1463 0074 1448     		ldr	r0, .L158+56
 1464 0076 B047     		blx	r6
 1465              	.LVL120:
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.lh_ev_cnt = 0;
 1466              		.loc 1 358 0
 1467 0078 184B     		ldr	r3, .L158+76
 1468 007a 9847     		blx	r3
 1469              	.LVL121:
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1470              		.loc 1 359 0
 1471 007c 0023     		movs	r3, #0
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	lh_populate_done = 0;
 1472              		.loc 1 361 0
 1473 007e 184A     		ldr	r2, .L158+80
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.lh_ev_cnt = 0;
 1474              		.loc 1 358 0
 1475 0080 6860     		str	r0, [r5, #4]
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1476              		.loc 1 359 0
 1477 0082 2B81     		strh	r3, [r5, #8]	@ movhi
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	lh_populate_done = 0;
 1478              		.loc 1 361 0
 1479 0084 1370     		strb	r3, [r2]
 362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1480              		.loc 1 362 0
 1481 0086 174A     		ldr	r2, .L158+84
 1482 0088 1370     		strb	r3, [r2]
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 1483              		.loc 1 364 0
 1484 008a 174A     		ldr	r2, .L158+88
 1485 008c 1370     		strb	r3, [r2]
 1486 008e 70BD     		pop	{r4, r5, r6, pc}
 1487              	.L159:
 1488              		.align	2
 1489              	.L158:
 1490 0090 00000000 		.word	memset
 1491 0094 00000000 		.word	.LANCHOR16
 1492 0098 00000000 		.word	.LANCHOR12
 1493 009c 00000000 		.word	.LANCHOR13
 1494 00a0 00000000 		.word	.LANCHOR0
 1495 00a4 00000000 		.word	.LANCHOR1
 1496 00a8 00000000 		.word	.LANCHOR21
 1497 00ac 00000000 		.word	.LANCHOR5
 1498 00b0 00000000 		.word	.LANCHOR3
 1499 00b4 00000000 		.word	.LANCHOR8
 1500 00b8 00000000 		.word	.LANCHOR11
 1501 00bc 00000000 		.word	.LANCHOR9
 1502 00c0 00000000 		.word	.LANCHOR7
 1503 00c4 00000000 		.word	.LANCHOR18
 1504 00c8 00000000 		.word	.LANCHOR10
 1505 00cc 00000000 		.word	.LANCHOR6
 1506 00d0 00000000 		.word	.LANCHOR17
 1507 00d4 00000000 		.word	.LANCHOR2
 1508 00d8 00000000 		.word	vEventGroupDelete
 1509 00dc 00000000 		.word	xEventGroupCreate
 1510 00e0 00000000 		.word	.LANCHOR22
 1511 00e4 00000000 		.word	.LANCHOR19
 1512 00e8 00000000 		.word	.LANCHOR23
 1513              		.cfi_endproc
 1514              	.LFE6:
 1516              		.section	.text.get_capture_group,"ax",%progbits
 1517              		.align	1
 1518              		.global	get_capture_group
 1519              		.thumb
 1520              		.thumb_func
 1522              	get_capture_group:
 1523              	.LFB7:
 368:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	int capt_grp = 0;
 1524              		.loc 1 368 0
 1525              		.cfi_startproc
 1526              		@ args = 0, pretend = 0, frame = 0
 1527              		@ frame_needed = 0, uses_anonymous_args = 0
 1528              	.LVL122:
 1529 0000 38B5     		push	{r3, r4, r5, lr}
 1530              	.LCFI10:
 1531              		.cfi_def_cfa_offset 16
 1532              		.cfi_offset 3, -16
 1533              		.cfi_offset 4, -12
 1534              		.cfi_offset 5, -8
 1535              		.cfi_offset 14, -4
 371:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1536              		.loc 1 371 0
 1537 0002 40F2FE73 		movw	r3, #2046
 368:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	int capt_grp = 0;
 1538              		.loc 1 368 0
 1539 0006 0446     		mov	r4, r0
 371:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1540              		.loc 1 371 0
 1541 0008 0340     		ands	r3, r3, r0
 1542 000a 63B1     		cbz	r3, .L161
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1543              		.loc 1 374 0
 1544 000c 10F03E0F 		tst	r0, #62
 1545 0010 14BF     		ite	ne
 1546 0012 3E20     		movne	r0, #62
 1547              	.LVL123:
 1548 0014 0020     		moveq	r0, #0
 1549              	.LVL124:
 376:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_B;
 1550              		.loc 1 376 0
 1551 0016 14F4F86F 		tst	r4, #1984
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1552              		.loc 1 377 0
 1553 001a 18BF     		it	ne
 1554 001c 40F4F860 		orrne	r0, r0, #1984
 1555              	.LVL125:
 379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1556              		.loc 1 379 0
 1557 0020 14F4FC3F 		tst	r4, #129024
 1558 0024 0FE0     		b	.L194
 1559              	.LVL126:
 1560              	.L161:
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1561              		.loc 1 387 0
 1562 0026 144A     		ldr	r2, .L196
 1563 0028 0240     		ands	r2, r2, r0
 1564 002a 82B1     		cbz	r2, .L165
 390:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1565              		.loc 1 390 0
 1566 002c 10F4F86F 		tst	r0, #1984
 1567 0030 14BF     		ite	ne
 1568 0032 4FF4F860 		movne	r0, #1984
 1569              	.LVL127:
 1570 0036 0020     		moveq	r0, #0
 1571              	.LVL128:
 392:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			capt_grp |=  CAPT_GRP_C;
 1572              		.loc 1 392 0
 1573 0038 14F4FC3F 		tst	r4, #129024
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1574              		.loc 1 393 0
 1575 003c 18BF     		it	ne
 1576 003e 40F4FC30 		orrne	r0, r0, #129024
 1577              	.LVL129:
 395:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1578              		.loc 1 395 0
 1579 0042 14F03E0F 		tst	r4, #62
 1580              	.L194:
 1581 0046 16D0     		beq	.L164
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			//log_error("Capture 3 group is not supported \r\n");
 1582              		.loc 1 397 0
 1583 0048 40F4FC30 		orr	r0, r0, #129024
 1584              	.LVL130:
 1585 004c 38BD     		pop	{r3, r4, r5, pc}
 1586              	.LVL131:
 1587              	.L165:
 1588              	.LBB37:
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		while(mbitmask)
 1589              		.loc 1 407 0
 1590 004e 0B4B     		ldr	r3, .L196+4
 408:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1591              		.loc 1 408 0
 1592 0050 1546     		mov	r5, r2
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		while(mbitmask)
 1593              		.loc 1 407 0
 1594 0052 1B68     		ldr	r3, [r3]
 1595 0054 9B69     		ldr	r3, [r3, #24]
 1596 0056 1C40     		ands	r4, r4, r3
 1597              	.LVL132:
 1598              	.L168:
 1599 0058 E8B2     		uxtb	r0, r5
 1600              	.LVL133:
 408:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1601              		.loc 1 408 0
 1602 005a 5CB1     		cbz	r4, .L195
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 1603              		.loc 1 411 0
 1604 005c E307     		lsls	r3, r4, #31
 1605 005e 06D5     		bpl	.L173
 414:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(pcam != NULL)
 1606              		.loc 1 414 0
 1607 0060 074B     		ldr	r3, .L196+8
 1608 0062 9847     		blx	r3
 1609              	.LVL134:
 415:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 1610              		.loc 1 415 0
 1611 0064 18B1     		cbz	r0, .L173
 417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					break;
 1612              		.loc 1 417 0
 1613 0066 90F82900 		ldrb	r0, [r0, #41]	@ zero_extendqisi2
 1614              	.LVL135:
 1615 006a 0009     		lsrs	r0, r0, #4
 1616              	.LVL136:
 418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 1617              		.loc 1 418 0
 1618 006c 38BD     		pop	{r3, r4, r5, pc}
 1619              	.LVL137:
 1620              	.L173:
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 1621              		.loc 1 423 0
 1622 006e 6408     		lsrs	r4, r4, #1
 1623              	.LVL138:
 1624 0070 0135     		adds	r5, r5, #1
 1625              	.LVL139:
 1626 0072 F1E7     		b	.L168
 1627              	.LVL140:
 1628              	.L195:
 1629              	.LBE37:
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* mbitmask should have A or/and B camera */
 1630              		.loc 1 369 0
 1631 0074 2046     		mov	r0, r4
 1632              	.LVL141:
 1633              	.L164:
 427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1634              		.loc 1 427 0
 1635 0076 38BD     		pop	{r3, r4, r5, pc}
 1636              	.LVL142:
 1637              	.L197:
 1638              		.align	2
 1639              	.L196:
 1640 0078 C0FF0100 		.word	131008
 1641 007c 00000000 		.word	light_system
 1642 0080 00000000 		.word	idx_to_object
 1643              		.cfi_endproc
 1644              	.LFE7:
 1646              		.section	.text.get_cam_thumbnail,"ax",%progbits
 1647              		.align	1
 1648              		.global	get_cam_thumbnail
 1649              		.thumb
 1650              		.thumb_func
 1652              	get_cam_thumbnail:
 1653              	.LFB10:
 534:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_typedef_t *pcam;
 1654              		.loc 1 534 0
 1655              		.cfi_startproc
 1656              		@ args = 0, pretend = 0, frame = 0
 1657              		@ frame_needed = 0, uses_anonymous_args = 0
 1658              	.LVL143:
 1659 0000 70B5     		push	{r4, r5, r6, lr}
 1660              	.LCFI11:
 1661              		.cfi_def_cfa_offset 16
 1662              		.cfi_offset 4, -16
 1663              		.cfi_offset 5, -12
 1664              		.cfi_offset 6, -8
 1665              		.cfi_offset 14, -4
 540:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	switch(cam_group)
 1666              		.loc 1 540 0
 1667 0002 134B     		ldr	r3, .L220
 534:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_typedef_t *pcam;
 1668              		.loc 1 534 0
 1669 0004 0446     		mov	r4, r0
 540:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	switch(cam_group)
 1670              		.loc 1 540 0
 1671 0006 9847     		blx	r3
 1672              	.LVL144:
 541:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1673              		.loc 1 541 0
 1674 0008 B0F5FC3F 		cmp	r0, #129024
 1675 000c 07D0     		beq	.L200
 1676 000e 114B     		ldr	r3, .L220+4
 1677 0010 9842     		cmp	r0, r3
 1678 0012 02D0     		beq	.L201
 1679 0014 B0F5F86F 		cmp	r0, #1984
 1680 0018 03D1     		bne	.L218
 1681              	.L201:
 549:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 1682              		.loc 1 549 0
 1683 001a B426     		movs	r6, #180
 1684 001c 02E0     		b	.L199
 1685              	.L200:
 1686              	.LVL145:
 552:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 1687              		.loc 1 552 0
 1688 001e C526     		movs	r6, #197
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		default:
 1689              		.loc 1 553 0
 1690 0020 00E0     		b	.L199
 1691              	.LVL146:
 1692              	.L218:
 545:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			break;
 1693              		.loc 1 545 0
 1694 0022 A126     		movs	r6, #161
 1695              	.L199:
 1696              	.LVL147:
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 1697              		.loc 1 559 0
 1698 0024 0C4B     		ldr	r3, .L220+8
 560:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1699              		.loc 1 560 0
 1700 0026 0025     		movs	r5, #0
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 1701              		.loc 1 559 0
 1702 0028 1B68     		ldr	r3, [r3]
 1703 002a 9869     		ldr	r0, [r3, #24]
 1704              	.LVL148:
 1705 002c 0440     		ands	r4, r4, r0
 1706              	.LVL149:
 1707              	.L202:
 1708 002e E8B2     		uxtb	r0, r5
 1709              	.LVL150:
 560:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1710              		.loc 1 560 0
 1711 0030 5CB1     		cbz	r4, .L219
 563:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1712              		.loc 1 563 0
 1713 0032 E307     		lsls	r3, r4, #31
 1714 0034 06D5     		bpl	.L208
 566:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
 1715              		.loc 1 566 0
 1716 0036 094B     		ldr	r3, .L220+12
 1717 0038 9847     		blx	r3
 1718              	.LVL151:
 567:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 1719              		.loc 1 567 0
 1720 003a 18B1     		cbz	r0, .L208
 570:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 1721              		.loc 1 570 0
 1722 003c 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 1723 0040 B342     		cmp	r3, r6
 1724 0042 03D0     		beq	.L204
 1725              	.LVL152:
 1726              	.L208:
 578:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 1727              		.loc 1 578 0
 1728 0044 6408     		lsrs	r4, r4, #1
 1729              	.LVL153:
 1730 0046 0135     		adds	r5, r5, #1
 1731              	.LVL154:
 1732 0048 F1E7     		b	.L202
 1733              	.LVL155:
 1734              	.L219:
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 1735              		.loc 1 581 0
 1736 004a 2046     		mov	r0, r4
 1737              	.LVL156:
 1738              	.L204:
 582:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1739              		.loc 1 582 0
 1740 004c 70BD     		pop	{r4, r5, r6, pc}
 1741              	.LVL157:
 1742              	.L221:
 1743 004e 00BF     		.align	2
 1744              	.L220:
 1745 0050 00000000 		.word	get_capture_group
 1746 0054 C0FF0100 		.word	131008
 1747 0058 00000000 		.word	light_system
 1748 005c 00000000 		.word	idx_to_object
 1749              		.cfi_endproc
 1750              	.LFE10:
 1752              		.section	.text.usecase_hires_setup,"ax",%progbits
 1753              		.align	1
 1754              		.global	usecase_hires_setup
 1755              		.thumb
 1756              		.thumb_func
 1758              	usecase_hires_setup:
 1759              	.LFB15:
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* uint8_t image_type; */
 1760              		.loc 1 1006 0
 1761              		.cfi_startproc
 1762              		@ args = 4, pretend = 0, frame = 40
 1763              		@ frame_needed = 0, uses_anonymous_args = 0
 1764              	.LVL158:
 1765 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1766              	.LCFI12:
 1767              		.cfi_def_cfa_offset 36
 1768              		.cfi_offset 4, -36
 1769              		.cfi_offset 5, -32
 1770              		.cfi_offset 6, -28
 1771              		.cfi_offset 7, -24
 1772              		.cfi_offset 8, -20
 1773              		.cfi_offset 9, -16
 1774              		.cfi_offset 10, -12
 1775              		.cfi_offset 11, -8
 1776              		.cfi_offset 14, -4
 1777 0004 8DB0     		sub	sp, sp, #52
 1778              	.LCFI13:
 1779              		.cfi_def_cfa_offset 88
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* uint8_t image_type; */
 1780              		.loc 1 1006 0
 1781 0006 8846     		mov	r8, r1
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1782              		.loc 1 1025 0
 1783 0008 0027     		movs	r7, #0
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* uint8_t image_type; */
 1784              		.loc 1 1006 0
 1785 000a 0593     		str	r3, [sp, #20]
1017:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1786              		.loc 1 1017 0
 1787 000c 7F4B     		ldr	r3, .L296
 1788              	.LVL159:
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* uint8_t image_type; */
 1789              		.loc 1 1006 0
 1790 000e 0390     		str	r0, [sp, #12]
 1791 0010 0492     		str	r2, [sp, #16]
1017:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1792              		.loc 1 1017 0
 1793 0012 9847     		blx	r3
 1794              	.LVL160:
1023:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	cam_idx = 0;
 1795              		.loc 1 1023 0
 1796 0014 7E4B     		ldr	r3, .L296+4
 1797 0016 1D68     		ldr	r5, [r3]
 1798 0018 039B     		ldr	r3, [sp, #12]
 1799 001a AC69     		ldr	r4, [r5, #24]
 1800 001c 03EA0406 		and	r6, r3, r4
 1801              	.LVL161:
 1802              	.L223:
 1803 0020 F8B2     		uxtb	r0, r7
 1804              	.LVL162:
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1805              		.loc 1 1025 0
 1806 0022 002E     		cmp	r6, #0
 1807 0024 5AD0     		beq	.L292
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1808              		.loc 1 1028 0
 1809 0026 F307     		lsls	r3, r6, #31
 1810 0028 55D5     		bpl	.L258
1032:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
 1811              		.loc 1 1032 0
 1812 002a 7A4B     		ldr	r3, .L296+8
 1813 002c 9847     		blx	r3
 1814              	.LVL163:
1033:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 1815              		.loc 1 1033 0
 1816 002e 0446     		mov	r4, r0
 1817 0030 0028     		cmp	r0, #0
 1818 0032 50D0     		beq	.L258
1035:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read image width */
 1819              		.loc 1 1035 0
 1820 0034 2120     		movs	r0, #33
 1821              	.LVL164:
 1822 0036 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 1823 003a 774E     		ldr	r6, .L296+12
 1824              	.LVL165:
 1825 003c 0821     		movs	r1, #8
 1826 003e 774A     		ldr	r2, .L296+16
 1827 0040 B146     		mov	r9, r6
 1828 0042 B047     		blx	r6
 1829              	.LVL166:
1037:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(width == 0)
 1830              		.loc 1 1037 0
 1831 0044 2068     		ldr	r0, [r4]
 1832 0046 B0F84670 		ldrh	r7, [r0, #70]
 1833              	.LVL167:
1038:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 1834              		.loc 1 1038 0
 1835 004a 2FB9     		cbnz	r7, .L225
1040:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							pcam->image,
 1836              		.loc 1 1040 0
 1837 004c 4FF45371 		mov	r1, #844
 1838 0050 0222     		movs	r2, #2
 1839 0052 734B     		ldr	r3, .L296+20
 1840 0054 9847     		blx	r3
 1841              	.LVL168:
 1842 0056 0746     		mov	r7, r0
 1843              	.LVL169:
 1844              	.L225:
1046:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(height == 0)
 1845              		.loc 1 1046 0
 1846 0058 2068     		ldr	r0, [r4]
 1847 005a B0F84860 		ldrh	r6, [r0, #72]
 1848              	.LVL170:
1047:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 1849              		.loc 1 1047 0
 1850 005e 2EB9     		cbnz	r6, .L226
1049:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							pcam->image,
 1851              		.loc 1 1049 0
 1852 0060 40F24E31 		movw	r1, #846
 1853 0064 0222     		movs	r2, #2
 1854 0066 6E4B     		ldr	r3, .L296+20
 1855 0068 9847     		blx	r3
 1856              	.LVL171:
 1857 006a 0646     		mov	r6, r0
 1858              	.LVL172:
 1859              	.L226:
1055:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read image VC */
 1860              		.loc 1 1055 0
 1861 006c A368     		ldr	r3, [r4, #8]
 1862 006e 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 1863              	.LVL173:
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1864              		.loc 1 1060 0
 1865 0070 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1866 0072 1B09     		lsrs	r3, r3, #4
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 1867              		.loc 1 1062 0
 1868 0074 012B     		cmp	r3, #1
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1869              		.loc 1 1060 0
 1870 0076 6B4A     		ldr	r2, .L296+24
 1871 0078 1370     		strb	r3, [r2]
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 1872              		.loc 1 1062 0
 1873 007a 03D0     		beq	.L228
 1874 007c 022B     		cmp	r3, #2
 1875 007e 24D1     		bne	.L293
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
 1876              		.loc 1 1069 0
 1877 0080 0123     		movs	r3, #1
 1878 0082 00E0     		b	.L290
 1879              	.L228:
1065:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
 1880              		.loc 1 1065 0
 1881 0084 0023     		movs	r3, #0
 1882              	.L290:
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
 1883              		.loc 1 1069 0
 1884 0086 1370     		strb	r3, [r2]
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1885              		.loc 1 1057 0
 1886 0088 01F00F03 		and	r3, r1, #15
1080:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "IMAGE HEIGHT: %d", height);
 1887              		.loc 1 1080 0
 1888 008c DFF88891 		ldr	r9, .L296+12
1055:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Read image VC */
 1889              		.loc 1 1055 0
 1890 0090 0C09     		lsrs	r4, r1, #4
 1891              	.LVL174:
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 1892              		.loc 1 1057 0
 1893 0092 0293     		str	r3, [sp, #8]
1080:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "IMAGE HEIGHT: %d", height);
 1894              		.loc 1 1080 0
 1895 0094 2120     		movs	r0, #33
 1896 0096 3B46     		mov	r3, r7
 1897 0098 1021     		movs	r1, #16
 1898              	.LVL175:
 1899 009a 634A     		ldr	r2, .L296+28
 1900 009c C847     		blx	r9
 1901              	.LVL176:
1081:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "MIPI TX : %d", (int)axi2mipi_tx_bridge);
 1902              		.loc 1 1081 0
 1903 009e 3346     		mov	r3, r6
 1904 00a0 2120     		movs	r0, #33
 1905 00a2 1021     		movs	r1, #16
 1906 00a4 614A     		ldr	r2, .L296+32
 1907 00a6 C847     		blx	r9
 1908              	.LVL177:
1082:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "THUMBNAIL VC: %d", vc_id_thumbnail);
 1909              		.loc 1 1082 0
 1910 00a8 2120     		movs	r0, #33
 1911 00aa 1021     		movs	r1, #16
 1912 00ac 604A     		ldr	r2, .L296+36
 1913 00ae 5D4B     		ldr	r3, .L296+24
 1914 00b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1915 00b2 C847     		blx	r9
 1916              	.LVL178:
1083:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_DEBUG, "SNAPSHOT  VC: %d", vc_id_snapshot);
 1917              		.loc 1 1083 0
 1918 00b4 2346     		mov	r3, r4
 1919 00b6 2120     		movs	r0, #33
 1920 00b8 1021     		movs	r1, #16
 1921 00ba 5E4A     		ldr	r2, .L296+40
 1922 00bc C847     		blx	r9
 1923              	.LVL179:
1084:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				break;
 1924              		.loc 1 1084 0
 1925 00be 2120     		movs	r0, #33
 1926 00c0 1021     		movs	r1, #16
 1927 00c2 5D4A     		ldr	r2, .L296+44
 1928 00c4 029B     		ldr	r3, [sp, #8]
 1929 00c6 C847     		blx	r9
 1930              	.LVL180:
1085:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 1931              		.loc 1 1085 0
 1932 00c8 0BE0     		b	.L232
 1933              	.LVL181:
 1934              	.L293:
1073:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 								SLOG_ERROR,
 1935              		.loc 1 1073 0
 1936 00ca 2120     		movs	r0, #33
 1937 00cc 0221     		movs	r1, #2
 1938              	.LVL182:
 1939 00ce 5B4A     		ldr	r2, .L296+48
 1940 00d0 C847     		blx	r9
 1941              	.LVL183:
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						break;
 1942              		.loc 1 1077 0
 1943 00d2 0520     		movs	r0, #5
 1944 00d4 65E1     		b	.L287
 1945              	.LVL184:
 1946              	.L258:
1089:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 1947              		.loc 1 1089 0
 1948 00d6 7608     		lsrs	r6, r6, #1
 1949              	.LVL185:
 1950 00d8 0137     		adds	r7, r7, #1
 1951              	.LVL186:
 1952 00da A1E7     		b	.L223
 1953              	.LVL187:
 1954              	.L292:
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* TODO: this should be get from cache */
 1955              		.loc 1 1012 0
 1956 00dc 3446     		mov	r4, r6
1008:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t height = 0;
 1957              		.loc 1 1008 0
 1958 00de 2746     		mov	r7, r4
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* TODO: this should be get from cache */
 1959              		.loc 1 1012 0
 1960 00e0 0296     		str	r6, [sp, #8]
 1961              	.LVL188:
 1962              	.L232:
 1963              	.LBB52:
 1964              	.LBB53:
 500:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 1965              		.loc 1 500 0
 1966 00e2 AB69     		ldr	r3, [r5, #24]
 1967 00e4 4FF0000B 		mov	fp, #0
 1968 00e8 039A     		ldr	r2, [sp, #12]
 493:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_idx;
 1969              		.loc 1 493 0
 1970 00ea D946     		mov	r9, fp
 500:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 1971              		.loc 1 500 0
 1972 00ec 02EA030A 		and	r10, r2, r3
 1973              	.LVL189:
 1974              	.L234:
 1975 00f0 5FFA8BF0 		uxtb	r0, fp
 1976              	.LVL190:
 501:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 1977              		.loc 1 501 0
 1978 00f4 BAF1000F 		cmp	r10, #0
 1979 00f8 22D0     		beq	.L294
 504:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 1980              		.loc 1 504 0
 1981 00fa 1AF0010F 		tst	r10, #1
 1982 00fe 1AD0     		beq	.L235
 507:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
 1983              		.loc 1 507 0
 1984 0100 444B     		ldr	r3, .L296+8
 1985 0102 9847     		blx	r3
 1986              	.LVL191:
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 1987              		.loc 1 508 0
 1988 0104 B8B1     		cbz	r0, .L235
 1989              	.LVL192:
 511:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get numerical order of CAM in memory
 1990              		.loc 1 511 0
 1991 0106 90F82830 		ldrb	r3, [r0, #40]	@ zero_extendqisi2
 1992 010a C3F30303 		ubfx	r3, r3, #0, #4
 1993 010e 013B     		subs	r3, r3, #1
 515:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_rx[cam_port_mipi2axi].active = 1;
 1994              		.loc 1 515 0
 1995 0110 4B4A     		ldr	r2, .L296+52
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get camera port mask on ASIC EVB board
 1996              		.loc 1 516 0
 1997 0112 0121     		movs	r1, #1
 515:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_rx[cam_port_mipi2axi].active = 1;
 1998              		.loc 1 515 0
 1999 0114 DBB2     		uxtb	r3, r3
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get camera port mask on ASIC EVB board
 2000              		.loc 1 516 0
 2001 0116 4B48     		ldr	r0, .L296+56
 2002              	.LVL193:
 515:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi_rx[cam_port_mipi2axi].active = 1;
 2003              		.loc 1 515 0
 2004 0118 02F80390 		strb	r9, [r2, r3]
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get camera port mask on ASIC EVB board
 2005              		.loc 1 516 0
 2006 011c 0622     		movs	r2, #6
 522:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 2007              		.loc 1 522 0
 2008 011e 09F10109 		add	r9, r9, #1
 2009              	.LVL194:
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get camera port mask on ASIC EVB board
 2010              		.loc 1 516 0
 2011 0122 5A43     		muls	r2, r3, r2
 522:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 2012              		.loc 1 522 0
 2013 0124 5FFA89F9 		uxtb	r9, r9
 2014              	.LVL195:
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get camera port mask on ASIC EVB board
 2015              		.loc 1 516 0
 2016 0128 8154     		strb	r1, [r0, r2]
 520:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Get total number of cameras on board */
 2017              		.loc 1 520 0
 2018 012a 9940     		lsls	r1, r1, r3
 2019 012c 4648     		ldr	r0, .L296+60
 2020 012e 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 2021 0130 1143     		orrs	r1, r1, r2
 2022 0132 C9B2     		uxtb	r1, r1
 2023 0134 0170     		strb	r1, [r0]
 2024              	.L235:
 2025              	.LVL196:
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2026              		.loc 1 527 0
 2027 0136 4FEA5A0A 		lsr	r10, r10, #1
 2028              	.LVL197:
 2029 013a 0BF1010B 		add	fp, fp, #1
 2030              	.LVL198:
 2031 013e D7E7     		b	.L234
 2032              	.LVL199:
 2033              	.L294:
 2034              	.LBE53:
 2035              	.LBE52:
1097:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2036              		.loc 1 1097 0
 2037 0140 424A     		ldr	r2, .L296+64
 2038 0142 9DF81010 		ldrb	r1, [sp, #16]	@ zero_extendqisi2
 2039              	.LBB55:
 2040              	.LBB54:
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 2041              		.loc 1 530 0
 2042 0146 424B     		ldr	r3, .L296+68
 2043 0148 83F80090 		strb	r9, [r3]
 2044              	.LBE54:
 2045              	.LBE55:
1097:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2046              		.loc 1 1097 0
 2047 014c 1170     		strb	r1, [r2]
1100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2048              		.loc 1 1100 0
 2049 014e A8F12A02 		sub	r2, r8, #42
 2050 0152 032A     		cmp	r2, #3
 2051 0154 DFF8C090 		ldr	r9, .L296+12
 2052              	.LVL200:
 2053 0158 09D9     		bls	.L237
1100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2054              		.loc 1 1100 0 is_stmt 0 discriminator 2
 2055 015a B8F1300F 		cmp	r8, #48
 2056 015e 06D0     		beq	.L237
1102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_IMG_DATA_TYPE_ERROR;
 2057              		.loc 1 1102 0 is_stmt 1
 2058 0160 2120     		movs	r0, #33
 2059              	.LVL201:
 2060 0162 0221     		movs	r1, #2
 2061 0164 3B4A     		ldr	r2, .L296+72
 2062 0166 4346     		mov	r3, r8
 2063 0168 C847     		blx	r9
 2064              	.LVL202:
1103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2065              		.loc 1 1103 0
 2066 016a 0420     		movs	r0, #4
 2067 016c 19E1     		b	.L287
 2068              	.LVL203:
 2069              	.L237:
1105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2070              		.loc 1 1105 0
 2071 016e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2072 0170 062A     		cmp	r2, #6
 2073 0172 02D8     		bhi	.L255
1105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2074              		.loc 1 1105 0 is_stmt 0 discriminator 1
 2075 0174 364A     		ldr	r2, .L296+68
 2076 0176 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2077 0178 32B9     		cbnz	r2, .L239
 2078              	.L255:
1107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_TOTAL_ERROR;
 2079              		.loc 1 1107 0 is_stmt 1
 2080 017a 2120     		movs	r0, #33
 2081              	.LVL204:
 2082 017c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2083 017e 0221     		movs	r1, #2
 2084 0180 354A     		ldr	r2, .L296+76
 2085 0182 C847     		blx	r9
 2086              	.LVL205:
1108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2087              		.loc 1 1108 0
 2088 0184 0120     		movs	r0, #1
 2089 0186 0CE1     		b	.L287
 2090              	.LVL206:
 2091              	.L239:
1110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2092              		.loc 1 1110 0
 2093 0188 07B1     		cbz	r7, .L240
1110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2094              		.loc 1 1110 0 is_stmt 0 discriminator 1
 2095 018a 3EB9     		cbnz	r6, .L241
 2096              	.L240:
1112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_RESOLUTION_ERROR;
 2097              		.loc 1 1112 0 is_stmt 1
 2098 018c 2120     		movs	r0, #33
 2099              	.LVL207:
 2100 018e 0096     		str	r6, [sp]
 2101 0190 0221     		movs	r1, #2
 2102 0192 324A     		ldr	r2, .L296+80
 2103 0194 3B46     		mov	r3, r7
 2104 0196 C847     		blx	r9
 2105              	.LVL208:
1113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2106              		.loc 1 1113 0
 2107 0198 0220     		movs	r0, #2
 2108 019a 02E1     		b	.L287
 2109              	.LVL209:
 2110              	.L241:
1115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2111              		.loc 1 1115 0
 2112 019c 049B     		ldr	r3, [sp, #16]
 2113 019e 2BB9     		cbnz	r3, .L242
1117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_CAM_FRAME_ERROR;
 2114              		.loc 1 1117 0
 2115 01a0 2120     		movs	r0, #33
 2116              	.LVL210:
 2117 01a2 0221     		movs	r1, #2
 2118 01a4 2E4A     		ldr	r2, .L296+84
 2119 01a6 C847     		blx	r9
 2120              	.LVL211:
1118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2121              		.loc 1 1118 0
 2122 01a8 0320     		movs	r0, #3
 2123 01aa FAE0     		b	.L287
 2124              	.LVL212:
 2125              	.L242:
1120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2126              		.loc 1 1120 0
 2127 01ac 029B     		ldr	r3, [sp, #8]
 2128 01ae 032B     		cmp	r3, #3
 2129 01b0 05D9     		bls	.L243
1122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_VC_SNAPSHOT_INVALID;
 2130              		.loc 1 1122 0
 2131 01b2 2120     		movs	r0, #33
 2132              	.LVL213:
 2133 01b4 0221     		movs	r1, #2
 2134 01b6 2B4A     		ldr	r2, .L296+88
 2135 01b8 C847     		blx	r9
 2136              	.LVL214:
1123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2137              		.loc 1 1123 0
 2138 01ba 0720     		movs	r0, #7
 2139 01bc F1E0     		b	.L287
 2140              	.LVL215:
 2141              	.L243:
1125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2142              		.loc 1 1125 0
 2143 01be 032C     		cmp	r4, #3
 2144 01c0 06D9     		bls	.L244
1127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return USECASE_HIRES_VC_THUMBNAIL_INVALID;
 2145              		.loc 1 1127 0
 2146 01c2 2120     		movs	r0, #33
 2147              	.LVL216:
 2148 01c4 0221     		movs	r1, #2
 2149 01c6 284A     		ldr	r2, .L296+92
 2150 01c8 2346     		mov	r3, r4
 2151 01ca C847     		blx	r9
 2152              	.LVL217:
1128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2153              		.loc 1 1128 0
 2154 01cc 0620     		movs	r0, #6
 2155 01ce E8E0     		b	.L287
 2156              	.LVL218:
 2157              	.L244:
1132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2158              		.loc 1 1132 0
 2159 01d0 059A     		ldr	r2, [sp, #20]
 2160              	.LBB56:
 2161              	.LBB57:
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 2162              		.loc 1 481 0
 2163 01d2 B8F1000F 		cmp	r8, #0
 2164              	.LBE57:
 2165              	.LBE56:
1132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2166              		.loc 1 1132 0
 2167 01d6 254B     		ldr	r3, .L296+96
1135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Setup MIPI RX and TX */
 2168              		.loc 1 1135 0
 2169 01d8 BFB2     		uxth	r7, r7
 2170              	.LVL219:
1132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2171              		.loc 1 1132 0
 2172 01da 1A60     		str	r2, [r3]
 2173              	.LBB59:
 2174              	.LBB58:
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 2175              		.loc 1 481 0
 2176 01dc 0CBF     		ite	eq
 2177 01de 0022     		moveq	r2, #0
 2178 01e0 4FF08072 		movne	r2, #16777216
 2179              	.LBE58:
 2180              	.LBE59:
1135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Setup MIPI RX and TX */
 2181              		.loc 1 1135 0
 2182 01e4 224B     		ldr	r3, .L296+100
 2183 01e6 B6B2     		uxth	r6, r6
 2184              	.LVL220:
 2185 01e8 1A60     		str	r2, [r3]
 2186              	.LVL221:
 2187              	.LBB60:
 2188              	.LBB61:
 809:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(cam_thumbnail != NULL)
 2189              		.loc 1 809 0
 2190 01ea 0398     		ldr	r0, [sp, #12]
 2191              	.LVL222:
 2192 01ec 214B     		ldr	r3, .L296+104
 2193 01ee 9847     		blx	r3
 2194              	.LVL223:
 2195 01f0 214B     		ldr	r3, .L296+108
 810:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2196              		.loc 1 810 0
 2197 01f2 8246     		mov	r10, r0
 2198              	.LVL224:
 2199 01f4 0028     		cmp	r0, #0
 2200 01f6 43D0     		beq	.L246
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "CAM THUMBNAIL: %X", cam_thumbnail->info.module);
 2201              		.loc 1 812 0
 2202 01f8 0122     		movs	r2, #1
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2203              		.loc 1 813 0
 2204 01fa 2120     		movs	r0, #33
 2205              	.LVL225:
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "CAM THUMBNAIL: %X", cam_thumbnail->info.module);
 2206              		.loc 1 812 0
 2207 01fc 1A70     		strb	r2, [r3]
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2208              		.loc 1 813 0
 2209 01fe 0821     		movs	r1, #8
 2210 0200 1E4A     		ldr	r2, .L296+112
 2211 0202 9AF82930 		ldrb	r3, [r10, #41]	@ zero_extendqisi2
 2212 0206 C847     		blx	r9
 2213              	.LVL226:
 2214 0208 3FE0     		b	.L247
 2215              	.L297:
 2216 020a 00BF     		.align	2
 2217              	.L296:
 2218 020c 00000000 		.word	clear_global_variable
 2219 0210 00000000 		.word	light_system
 2220 0214 00000000 		.word	idx_to_object
 2221 0218 00000000 		.word	slogf
 2222 021c E2000000 		.word	.LC8
 2223 0220 00000000 		.word	img_sensor_read_reg
 2224 0224 00000000 		.word	.LANCHOR5
 2225 0228 0C010000 		.word	.LC10
 2226 022c 1D010000 		.word	.LC11
 2227 0230 2E010000 		.word	.LC12
 2228 0234 3B010000 		.word	.LC13
 2229 0238 4C010000 		.word	.LC14
 2230 023c F8000000 		.word	.LC9
 2231 0240 00000000 		.word	.LANCHOR2
 2232 0244 00000000 		.word	.LANCHOR16
 2233 0248 00000000 		.word	.LANCHOR21
 2234 024c 00000000 		.word	.LANCHOR14
 2235 0250 00000000 		.word	.LANCHOR1
 2236 0254 1C020000 		.word	.LC22
 2237 0258 5D010000 		.word	.LC15
 2238 025c 6E010000 		.word	.LC16
 2239 0260 90010000 		.word	.LC17
 2240 0264 AD010000 		.word	.LC18
 2241 0268 CD010000 		.word	.LC19
 2242 026c 00000000 		.word	.LANCHOR15
 2243 0270 00000000 		.word	.LANCHOR4
 2244 0274 00000000 		.word	get_cam_thumbnail
 2245 0278 00000000 		.word	.LANCHOR8
 2246 027c EE010000 		.word	.LC20
 2247              	.LVL227:
 2248              	.L246:
 817:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_INFO, "DOES NOT HAVE CAM THUMBNAIL");
 2249              		.loc 1 817 0
 2250 0280 1870     		strb	r0, [r3]
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2251              		.loc 1 818 0
 2252 0282 0821     		movs	r1, #8
 2253 0284 2120     		movs	r0, #33
 2254              	.LVL228:
 2255 0286 484A     		ldr	r2, .L298
 2256 0288 C847     		blx	r9
 2257              	.LVL229:
 2258              	.L247:
 821:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	while(m_bitmask)
 2259              		.loc 1 821 0
 2260 028a AB69     		ldr	r3, [r5, #24]
 2261 028c 039A     		ldr	r2, [sp, #12]
 2262 028e 02EA0308 		and	r8, r2, r3
 2263              	.LVL230:
 2264 0292 0023     		movs	r3, #0
 2265              	.LVL231:
 2266              	.L291:
 2267 0294 0493     		str	r3, [sp, #16]
 2268 0296 9DF81000 		ldrb	r0, [sp, #16]	@ zero_extendqisi2
 2269              	.LVL232:
 822:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2270              		.loc 1 822 0
 2271 029a B8F1000F 		cmp	r8, #0
 2272 029e 63D0     		beq	.L295
 825:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 2273              		.loc 1 825 0
 2274 02a0 18F0010F 		tst	r8, #1
 2275 02a4 5BD0     		beq	.L250
 828:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if(pcam != NULL)
 2276              		.loc 1 828 0
 2277 02a6 414B     		ldr	r3, .L298+4
 2278 02a8 9847     		blx	r3
 2279              	.LVL233:
 829:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 2280              		.loc 1 829 0
 2281 02aa 0028     		cmp	r0, #0
 2282 02ac 57D0     		beq	.L250
 2283              	.LBB62:
 832:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				//ddr_address = GET_RX_DDR_ADDR(cam_mem_idx[port_idx], mem_idx) + sizeof(lightheader_info_t);
 2284              		.loc 1 832 0
 2285 02ae 90F82850 		ldrb	r5, [r0, #40]	@ zero_extendqisi2
 2286 02b2 C5F30305 		ubfx	r5, r5, #0, #4
 2287 02b6 013D     		subs	r5, r5, #1
 2288              	.LBB63:
 2289              	.LBB64:
 2290              	.LBB65:
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return address;
 2291              		.loc 1 248 0
 2292 02b8 3D4B     		ldr	r3, .L298+8
 2293 02ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2294              	.LBE65:
 2295              	.LBE64:
 2296              	.LBE63:
 832:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				//ddr_address = GET_RX_DDR_ADDR(cam_mem_idx[port_idx], mem_idx) + sizeof(lightheader_info_t);
 2297              		.loc 1 832 0
 2298 02bc EDB2     		uxtb	r5, r5
 2299              	.LVL234:
 834:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2300              		.loc 1 834 0
 2301 02be 3D4B     		ldr	r3, .L298+12
 2302              	.LBB68:
 2303              	.LBB67:
 2304              	.LBB66:
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return address;
 2305              		.loc 1 248 0
 2306 02c0 13F80590 		ldrb	r9, [r3, r5]	@ zero_extendqisi2
 2307 02c4 3C4B     		ldr	r3, .L298+16
 2308 02c6 1B68     		ldr	r3, [r3]
 2309 02c8 03FB09F9 		mul	r9, r3, r9
 2310 02cc 09F18069 		add	r9, r9, #67108864
 2311 02d0 09F12009 		add	r9, r9, #32
 2312              	.LVL235:
 2313              	.LBE66:
 2314              	.LBE67:
 2315              	.LBE68:
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 2316              		.loc 1 837 0
 2317 02d4 BAF1000F 		cmp	r10, #0
 2318 02d8 07D0     		beq	.L252
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						cam_thumb_mem_idx = port_idx;
 2319              		.loc 1 839 0
 2320 02da 90F82930 		ldrb	r3, [r0, #41]	@ zero_extendqisi2
 2321 02de 9AF82920 		ldrb	r2, [r10, #41]	@ zero_extendqisi2
 2322 02e2 9A42     		cmp	r2, r3
 840:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 2323              		.loc 1 840 0
 2324 02e4 04BF     		itt	eq
 2325 02e6 354B     		ldreq	r3, .L298+20
 2326 02e8 1D70     		strbeq	r5, [r3]
 2327              	.L252:
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2328              		.loc 1 848 0
 2329 02ea 2846     		mov	r0, r5
 2330              	.LVL236:
 852:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.addr.dst_addr			= ddr_address;
 2331              		.loc 1 852 0
 2332 02ec 4FF0010B 		mov	fp, #1
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2333              		.loc 1 848 0
 2334 02f0 334B     		ldr	r3, .L298+24
 2335 02f2 9847     		blx	r3
 2336              	.LVL237:
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_size.height		= height;
 2337              		.loc 1 856 0
 2338 02f4 2B23     		movs	r3, #43
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.addr.alu_src_addr 	= 0; /* don't care */
 2339              		.loc 1 853 0
 2340 02f6 CDF82490 		str	r9, [sp, #36]
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_type.vc_will_captured = MIPI2AXI_VC0_CH;
 2341              		.loc 1 854 0
 2342 02fa 4FF00009 		mov	r9, #0
 2343              	.LVL238:
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_size.height		= height;
 2344              		.loc 1 856 0
 2345 02fe 8DF82830 		strb	r3, [sp, #40]
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_frame_control_cfg(port_idx, MIPI2AXI_VC0_CH, 0, DISABLE);
 2346              		.loc 1 860 0
 2347 0302 2846     		mov	r0, r5
 2348 0304 07A9     		add	r1, sp, #28
 2349 0306 2F4B     		ldr	r3, .L298+28
 852:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.addr.dst_addr			= ddr_address;
 2350              		.loc 1 852 0
 2351 0308 8DF81CB0 		strb	fp, [sp, #28]
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_type.vc_will_captured = MIPI2AXI_VC0_CH;
 2352              		.loc 1 854 0
 2353 030c CDF82090 		str	r9, [sp, #32]
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_type.data_type	= image_type;
 2354              		.loc 1 855 0
 2355 0310 8DF829B0 		strb	fp, [sp, #41]
 857:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.img_size.width		= width;
 2356              		.loc 1 857 0
 2357 0314 ADF82C60 		strh	r6, [sp, #44]	@ movhi
 858:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				mipi2axi_property.stream_mode 			= MIPI2AXI_SNAPSHOT_MODE;
 2358              		.loc 1 858 0
 2359 0318 ADF82A70 		strh	r7, [sp, #42]	@ movhi
 859:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_set_stream_property(port_idx, &mipi2axi_property);
 2360              		.loc 1 859 0
 2361 031c 8DF81D90 		strb	r9, [sp, #29]
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				hal_mipi2axi_frame_control_cfg(port_idx, MIPI2AXI_VC0_CH, 0, DISABLE);
 2362              		.loc 1 860 0
 2363 0320 9847     		blx	r3
 2364              	.LVL239:
 861:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Configure wrap */
 2365              		.loc 1 861 0
 2366 0322 2846     		mov	r0, r5
 2367 0324 5946     		mov	r1, fp
 2368 0326 4A46     		mov	r2, r9
 2369 0328 4B46     		mov	r3, r9
 2370 032a DFF8B8C0 		ldr	ip, .L298+60
 2371 032e E047     		blx	ip
 2372              	.LVL240:
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2373              		.loc 1 863 0
 2374 0330 2846     		mov	r0, r5
 2375 0332 5946     		mov	r1, fp
 2376 0334 3246     		mov	r2, r6
 2377 0336 4B46     		mov	r3, r9
 2378 0338 DFF8ACC0 		ldr	ip, .L298+64
 2379 033c E047     		blx	ip
 2380              	.LVL241:
 866:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						port_idx,
 2381              		.loc 1 866 0
 2382 033e 2846     		mov	r0, r5
 2383 0340 3021     		movs	r1, #48
 2384 0342 4FF01122 		mov	r2, #285217024
 2385 0346 5B46     		mov	r3, fp
 2386 0348 DFF8A0C0 		ldr	ip, .L298+68
 2387 034c E047     		blx	ip
 2388              	.LVL242:
 872:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2389              		.loc 1 872 0
 2390 034e 2846     		mov	r0, r5
 2391 0350 1D4B     		ldr	r3, .L298+32
 2392 0352 4A46     		mov	r2, r9
 2393 0354 1D49     		ldr	r1, .L298+36
 2394 0356 9847     		blx	r3
 2395              	.LVL243:
 875:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 2396              		.loc 1 875 0
 2397 0358 2846     		mov	r0, r5
 2398 035a 1D4B     		ldr	r3, .L298+40
 2399 035c 9847     		blx	r3
 2400              	.LVL244:
 2401              	.L250:
 2402 035e 049B     		ldr	r3, [sp, #16]
 2403              	.LBE62:
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2404              		.loc 1 880 0
 2405 0360 4FEA5808 		lsr	r8, r8, #1
 2406              	.LVL245:
 2407 0364 0133     		adds	r3, r3, #1
 2408 0366 95E7     		b	.L291
 2409              	.LVL246:
 2410              	.L295:
 2411              	.LBE61:
 2412              	.LBE60:
1145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.mbitmask = m_bitmask;
 2413              		.loc 1 1145 0
 2414 0368 1A4B     		ldr	r3, .L298+44
 2415 036a 1B4D     		ldr	r5, .L298+48
 2416 036c 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 2417              	.LVL247:
 2418 036e 9847     		blx	r3
 2419              	.LVL248:
1146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(has_cam_thumb)
 2420              		.loc 1 1146 0
 2421 0370 1A4B     		ldr	r3, .L298+52
 2422 0372 039A     		ldr	r2, [sp, #12]
 2423 0374 1A60     		str	r2, [r3]
 2424 0376 DFF87890 		ldr	r9, .L298+72
1147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2425              		.loc 1 1147 0
 2426 037a 194B     		ldr	r3, .L298+56
 2427 037c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2428 037e 3BB1     		cbz	r3, .L254
1150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				axi2mipi_tx_bridge,
 2429              		.loc 1 1150 0
 2430 0380 2B23     		movs	r3, #43
 2431 0382 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 2432 0384 2146     		mov	r1, r4
 2433 0386 4246     		mov	r2, r8
 2434 0388 0193     		str	r3, [sp, #4]
 2435 038a 3B46     		mov	r3, r7
 2436 038c 0096     		str	r6, [sp]
 2437 038e C847     		blx	r9
 2438              	.LVL249:
 2439              	.L254:
1162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			axi2mipi_tx_bridge,
 2440              		.loc 1 1162 0
 2441 0390 3023     		movs	r3, #48
 2442 0392 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 2443 0394 0299     		ldr	r1, [sp, #8]
 2444 0396 0122     		movs	r2, #1
 2445 0398 0193     		str	r3, [sp, #4]
 2446 039a 3B46     		mov	r3, r7
 2447 039c 0096     		str	r6, [sp]
 2448 039e C847     		blx	r9
 2449              	.LVL250:
1173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 2450              		.loc 1 1173 0
 2451 03a0 0020     		movs	r0, #0
 2452              	.LVL251:
 2453              	.L287:
1174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2454              		.loc 1 1174 0
 2455 03a2 0DB0     		add	sp, sp, #52
 2456              	.LCFI14:
 2457              		.cfi_def_cfa_offset 36
 2458              		@ sp needed
 2459 03a4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2460              	.LVL252:
 2461              	.L299:
 2462              		.align	2
 2463              	.L298:
 2464 03a8 00020000 		.word	.LC21
 2465 03ac 00000000 		.word	idx_to_object
 2466 03b0 00000000 		.word	.LANCHOR1
 2467 03b4 00000000 		.word	.LANCHOR2
 2468 03b8 00000000 		.word	.LANCHOR4
 2469 03bc 00000000 		.word	.LANCHOR3
 2470 03c0 00000000 		.word	hal_mipi2axi_init
 2471 03c4 00000000 		.word	hal_mipi2axi_set_stream_property
 2472 03c8 00000000 		.word	hal_mipi2axi_irq_enable
 2473 03cc 00000000 		.word	mipi_rx_snapshot_isr
 2474 03d0 00000000 		.word	hal_mipi2axi_start
 2475 03d4 00000000 		.word	hal_axi2mipi_init
 2476 03d8 00000000 		.word	.LANCHOR5
 2477 03dc 00000000 		.word	.LANCHOR10
 2478 03e0 00000000 		.word	.LANCHOR8
 2479 03e4 00000000 		.word	hal_mipi2axi_frame_control_cfg
 2480 03e8 00000000 		.word	hal_mipi2axi_wrap_cfg
 2481 03ec 00000000 		.word	hal_mipi2axi_irq_mask
 2482 03f0 00000000 		.word	setup_mipi_tx_snapshot.isra.1.constprop.5
 2483              		.cfi_endproc
 2484              	.LFE15:
 2486              		.section	.text.task_tx_transfer,"ax",%progbits
 2487              		.align	1
 2488              		.global	task_tx_transfer
 2489              		.thumb
 2490              		.thumb_func
 2492              	task_tx_transfer:
 2493              	.LFB16:
1177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t skip_frame_mask = 0;
 2494              		.loc 1 1177 0
 2495              		.cfi_startproc
 2496              		@ args = 0, pretend = 0, frame = 0
 2497              		@ frame_needed = 0, uses_anonymous_args = 0
 2498              	.LVL253:
 2499 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2500              	.LCFI15:
 2501              		.cfi_def_cfa_offset 36
 2502              		.cfi_offset 4, -36
 2503              		.cfi_offset 5, -32
 2504              		.cfi_offset 6, -28
 2505              		.cfi_offset 7, -24
 2506              		.cfi_offset 8, -20
 2507              		.cfi_offset 9, -16
 2508              		.cfi_offset 10, -12
 2509              		.cfi_offset 11, -8
 2510              		.cfi_offset 14, -4
1184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		fifo_x = SNAPSHOT_AXI2MIPI_FIFO | THUMBNAIL_AXI2MIPI_FIFO;
 2511              		.loc 1 1184 0
 2512 0004 854E     		ldr	r6, .L347
 2513 0006 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
1187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2514              		.loc 1 1187 0
 2515 0008 002B     		cmp	r3, #0
1177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t skip_frame_mask = 0;
 2516              		.loc 1 1177 0
 2517 000a 87B0     		sub	sp, sp, #28
 2518              	.LCFI16:
 2519              		.cfi_def_cfa_offset 64
1187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2520              		.loc 1 1187 0
 2521 000c 14BF     		ite	ne
 2522 000e 4FF00608 		movne	r8, #6
 2523 0012 4FF00408 		moveq	r8, #4
 2524              	.LVL254:
1189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		skip_frame_mask = *(uint8_t *)params;
 2525              		.loc 1 1189 0
 2526 0016 08B1     		cbz	r0, .L325
1190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2527              		.loc 1 1190 0
 2528 0018 0478     		ldrb	r4, [r0]	@ zero_extendqisi2
 2529              	.LVL255:
 2530 001a 00E0     		b	.L302
 2531              	.LVL256:
 2532              	.L325:
1178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t cam_module = 0;
 2533              		.loc 1 1178 0
 2534 001c 0446     		mov	r4, r0
 2535              	.LVL257:
 2536              	.L302:
 2537              	.LBB69:
1197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if (rx_frame_count & skip_frame_mask)
 2538              		.loc 1 1197 0
 2539 001e 44F6206A 		movw	r10, #20000
 2540 0022 4FF0000B 		mov	fp, #0
 2541              	.LVL258:
 2542              	.L303:
 2543              	.LBE69:
1192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2544              		.loc 1 1192 0
 2545 0026 7E49     		ldr	r1, .L347+4
 2546 0028 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 2547 002a 7E4D     		ldr	r5, .L347+8
 2548 002c 2F78     		ldrb	r7, [r5]	@ zero_extendqisi2
 2549 002e 8742     		cmp	r7, r0
 2550 0030 8946     		mov	r9, r1
 2551 0032 80F09180 		bcs	.L314
1192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2552              		.loc 1 1192 0 is_stmt 0 discriminator 1
 2553 0036 5AEA0B03 		orrs	r3, r10, fp
 2554 003a 00F09080 		beq	.L316
 2555              	.LBB73:
1194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		if((mipi_tx_fr_cnt < rx_frame_count))
 2556              		.loc 1 1194 0 is_stmt 1
 2557 003e 7A48     		ldr	r0, .L347+12
 2558 0040 0621     		movs	r1, #6
 2559 0042 7A4B     		ldr	r3, .L347+16
 2560 0044 9847     		blx	r3
 2561              	.LVL259:
1195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 2562              		.loc 1 1195 0
 2563 0046 8742     		cmp	r7, r0
 2564 0048 7DD2     		bcs	.L304
 2565              	.LVL260:
1198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 2566              		.loc 1 1198 0
 2567 004a 00EA0403 		and	r3, r0, r4
 2568 004e 13F0FF0B 		ands	fp, r3, #255
 2569 0052 DFF854A2 		ldr	r10, .L347+140
 2570 0056 764F     		ldr	r7, .L347+20
 2571 0058 4BD0     		beq	.L305
 2572              	.LBB70:
1200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				tx_ddr_mem_idx =
 2573              		.loc 1 1200 0
 2574 005a DFF85092 		ldr	r9, .L347+144
 2575 005e 99F80000 		ldrb	r0, [r9]	@ zero_extendqisi2
 2576              	.LVL261:
 2577 0062 0130     		adds	r0, r0, #1
1203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(light_header_cnt >= MAX_AREA_MEM)
 2578              		.loc 1 1203 0
 2579 0064 9AF80030 		ldrb	r3, [r10]	@ zero_extendqisi2
 2580 0068 0133     		adds	r3, r3, #1
1200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				tx_ddr_mem_idx =
 2581              		.loc 1 1200 0
 2582 006a C0B2     		uxtb	r0, r0
1203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(light_header_cnt >= MAX_AREA_MEM)
 2583              		.loc 1 1203 0
 2584 006c DBB2     		uxtb	r3, r3
1201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
 2585              		.loc 1 1201 0
 2586 006e 0628     		cmp	r0, #6
 2587 0070 28BF     		it	cs
 2588 0072 0020     		movcs	r0, #0
1204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt = 0;
 2589              		.loc 1 1204 0
 2590 0074 052B     		cmp	r3, #5
1205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Switch next address */
 2591              		.loc 1 1205 0
 2592 0076 88BF     		it	hi
 2593 0078 0023     		movhi	r3, #0
1201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
 2594              		.loc 1 1201 0
 2595 007a 89F80000 		strb	r0, [r9]
1205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Switch next address */
 2596              		.loc 1 1205 0
 2597 007e 8AF80030 		strb	r3, [r10]
1207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					tx_ddr_mem_idx);
 2598              		.loc 1 1207 0
 2599 0082 6C4B     		ldr	r3, .L347+24
 2600 0084 9847     		blx	r3
 2601              	.LVL262:
1210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2602              		.loc 1 1210 0
 2603 0086 DFF8F0A1 		ldr	r10, .L347+92
 2604 008a 1021     		movs	r1, #16
 2605 008c 6A4A     		ldr	r2, .L347+28
1207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					tx_ddr_mem_idx);
 2606              		.loc 1 1207 0
 2607 008e 8346     		mov	fp, r0
 2608              	.LVL263:
1210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2609              		.loc 1 1210 0
 2610 0090 2120     		movs	r0, #33
 2611              	.LVL264:
 2612 0092 5B46     		mov	r3, fp
 2613 0094 D047     		blx	r10
 2614              	.LVL265:
1213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					DISABLE);
 2615              		.loc 1 1213 0
 2616 0096 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 2617 0098 1B03     		lsls	r3, r3, #12
 2618 009a 03F10072 		add	r2, r3, #33554432
 2619 009e 02F53432 		add	r2, r2, #184320
 2620 00a2 0021     		movs	r1, #0
1221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 2621              		.loc 1 1221 0
 2622 00a4 0127     		movs	r7, #1
1213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					DISABLE);
 2623              		.loc 1 1213 0
 2624 00a6 1160     		str	r1, [r2]
1216:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 2625              		.loc 1 1216 0
 2626 00a8 644A     		ldr	r2, .L347+32
 2627 00aa 42F803B0 		str	fp, [r2, r3]
1221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					axi2mipi_tx_bridge,
 2628              		.loc 1 1221 0
 2629 00ae 3C32     		adds	r2, r2, #60
 2630 00b0 D750     		str	r7, [r2, r3]
1225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 2631              		.loc 1 1225 0
 2632 00b2 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2633 00b4 ABB1     		cbz	r3, .L309
 2634              	.LBB71:
1227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_DEBUG, "New thumb address: 0x%08x \r\n", (int)thumb_address);
 2635              		.loc 1 1227 0
 2636 00b6 624A     		ldr	r2, .L347+36
 2637 00b8 99F80010 		ldrb	r1, [r9]	@ zero_extendqisi2
 2638 00bc 614B     		ldr	r3, .L347+40
 2639 00be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2640 00c0 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 2641 00c2 614B     		ldr	r3, .L347+44
 2642 00c4 9847     		blx	r3
 2643              	.LVL266:
1228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					WRITE_AXI2MIPI_REG(
 2644              		.loc 1 1228 0
 2645 00c6 614A     		ldr	r2, .L347+48
 2646 00c8 1021     		movs	r1, #16
1227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_DEBUG, "New thumb address: 0x%08x \r\n", (int)thumb_address);
 2647              		.loc 1 1227 0
 2648 00ca 8146     		mov	r9, r0
 2649              	.LVL267:
1228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					WRITE_AXI2MIPI_REG(
 2650              		.loc 1 1228 0
 2651 00cc 2120     		movs	r0, #33
 2652              	.LVL268:
 2653 00ce 4B46     		mov	r3, r9
 2654 00d0 D047     		blx	r10
 2655              	.LVL269:
1229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									axi2mipi_tx_bridge,
 2656              		.loc 1 1229 0
 2657 00d2 5F4A     		ldr	r2, .L347+52
 2658 00d4 564B     		ldr	r3, .L347+20
 2659 00d6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2660 00d8 1B03     		lsls	r3, r3, #12
 2661 00da 42F80390 		str	r9, [r2, r3]
1233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 									axi2mipi_tx_bridge,
 2662              		.loc 1 1233 0
 2663 00de 4032     		adds	r2, r2, #64
 2664 00e0 D750     		str	r7, [r2, r3]
 2665              	.LVL270:
 2666              	.L309:
 2667              	.LBE71:
1240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_INFO, "Skipping this frame");
 2668              		.loc 1 1240 0
 2669 00e2 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 2670 00e4 0133     		adds	r3, r3, #1
1241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 2671              		.loc 1 1241 0
 2672 00e6 2120     		movs	r0, #33
 2673 00e8 0821     		movs	r1, #8
 2674 00ea 5A4A     		ldr	r2, .L347+56
1240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				SLOGF(SLOG_INFO, "Skipping this frame");
 2675              		.loc 1 1240 0
 2676 00ec 2B70     		strb	r3, [r5]
1241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 2677              		.loc 1 1241 0
 2678 00ee D047     		blx	r10
 2679              	.LVL271:
 2680 00f0 25E0     		b	.L344
 2681              	.LVL272:
 2682              	.L305:
 2683              	.LBE70:
 2684              	.LBB72:
1245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				light_header_cnt++;
 2685              		.loc 1 1245 0
 2686 00f2 594D     		ldr	r5, .L347+60
 2687 00f4 9AF80010 		ldrb	r1, [r10]	@ zero_extendqisi2
 2688 00f8 584A     		ldr	r2, .L347+64
 2689 00fa 2868     		ldr	r0, [r5]
 2690              	.LVL273:
 2691 00fc 9047     		blx	r2
 2692              	.LVL274:
1246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(light_header_cnt >= MAX_AREA_MEM)
 2693              		.loc 1 1246 0
 2694 00fe 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
 2695 0102 0132     		adds	r2, r2, #1
1250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2696              		.loc 1 1250 0
 2697 0104 3878     		ldrb	r0, [r7]	@ zero_extendqisi2
 2698 0106 4146     		mov	r1, r8
1246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(light_header_cnt >= MAX_AREA_MEM)
 2699              		.loc 1 1246 0
 2700 0108 D2B2     		uxtb	r2, r2
1247:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					light_header_cnt = 0;
 2701              		.loc 1 1247 0
 2702 010a 052A     		cmp	r2, #5
1250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2703              		.loc 1 1250 0
 2704 010c 544B     		ldr	r3, .L347+68
1246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				if(light_header_cnt >= MAX_AREA_MEM)
 2705              		.loc 1 1246 0
 2706 010e 94BF     		ite	ls
 2707 0110 8AF80020 		strbls	r2, [r10]
1248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				/* Start MIPI TX */
 2708              		.loc 1 1248 0
 2709 0114 8AF800B0 		strbhi	fp, [r10]
1250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2710              		.loc 1 1250 0
 2711 0118 9847     		blx	r3
 2712              	.LVL275:
1252:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							EVENT_TX_FRAME_COMPLETE, pdTRUE, pdTRUE, 5000);
 2713              		.loc 1 1252 0
 2714 011a 41F28833 		movw	r3, #5000
 2715 011e 0122     		movs	r2, #1
 2716 0120 6868     		ldr	r0, [r5, #4]
 2717 0122 0221     		movs	r1, #2
 2718 0124 0093     		str	r3, [sp]
 2719 0126 1346     		mov	r3, r2
 2720 0128 4E4D     		ldr	r5, .L347+72
 2721 012a A847     		blx	r5
 2722              	.LVL276:
1254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 2723              		.loc 1 1254 0
 2724 012c 8307     		lsls	r3, r0, #30
 2725 012e 03D4     		bmi	.L312
1256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					goto release;
 2726              		.loc 1 1256 0
 2727 0130 2120     		movs	r0, #33
 2728              	.LVL277:
 2729 0132 0221     		movs	r1, #2
 2730 0134 4C4A     		ldr	r2, .L347+76
 2731 0136 15E0     		b	.L345
 2732              	.LVL278:
 2733              	.L312:
1259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 2734              		.loc 1 1259 0
 2735 0138 0022     		movs	r2, #0
 2736 013a 4C4B     		ldr	r3, .L347+80
 2737 013c 1A70     		strb	r2, [r3]
 2738              	.LVL279:
 2739              	.L344:
 2740              	.LBE72:
1197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if (rx_frame_count & skip_frame_mask)
 2741              		.loc 1 1197 0
 2742 013e 44F6206A 		movw	r10, #20000
 2743 0142 4FF0000B 		mov	fp, #0
 2744              	.LVL280:
 2745              	.L304:
1262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		vTaskDelay(1);
 2746              		.loc 1 1262 0
 2747 0146 1AF1FF3A 		adds	r10, r10, #-1
 2748              	.LVL281:
1263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2749              		.loc 1 1263 0
 2750 014a 4FF00100 		mov	r0, #1
 2751 014e 4849     		ldr	r1, .L347+84
1262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		vTaskDelay(1);
 2752              		.loc 1 1262 0
 2753 0150 4BF1FF3B 		adc	fp, fp, #-1
 2754              	.LVL282:
1263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2755              		.loc 1 1263 0
 2756 0154 8847     		blx	r1
 2757              	.LVL283:
 2758 0156 66E7     		b	.L303
 2759              	.L314:
 2760              	.LBE73:
1266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Didn't receive frames from all sensors");
 2761              		.loc 1 1266 0
 2762 0158 5AEA0B03 		orrs	r3, r10, fp
 2763 015c 04D1     		bne	.L313
 2764              	.L316:
1267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 2765              		.loc 1 1267 0
 2766 015e 454A     		ldr	r2, .L347+88
 2767 0160 2120     		movs	r0, #33
 2768 0162 0221     		movs	r1, #2
 2769              	.LVL284:
 2770              	.L345:
 2771 0164 444B     		ldr	r3, .L347+92
 2772 0166 9847     		blx	r3
 2773              	.LVL285:
 2774              	.L313:
1270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2775              		.loc 1 1270 0
 2776 0168 99F80030 		ldrb	r3, [r9]	@ zero_extendqisi2
 2777 016c 2D4A     		ldr	r2, .L347+8
 2778 016e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2779 0170 9A42     		cmp	r2, r3
1272:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2780              		.loc 1 1272 0
 2781 0172 4FF02100 		mov	r0, #33
 2782 0176 4FF00801 		mov	r1, #8
 2783 017a 3F4D     		ldr	r5, .L347+92
 2784              	.LBB74:
1197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			if (rx_frame_count & skip_frame_mask)
 2785              		.loc 1 1197 0
 2786 017c 4FF00004 		mov	r4, #0
 2787              	.LBE74:
1272:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2788              		.loc 1 1272 0
 2789 0180 2CBF     		ite	cs
 2790 0182 3E4A     		ldrcs	r2, .L347+96
1276:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 2791              		.loc 1 1276 0
 2792 0184 3E4A     		ldrcc	r2, .L347+100
 2793 0186 A847     		blx	r5
 2794              	.LVL286:
 2795              	.L322:
 2796              	.LBB75:
1280:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 2797              		.loc 1 1280 0
 2798 0188 0623     		movs	r3, #6
 2799 018a 2748     		ldr	r0, .L347+12
 2800 018c 6343     		muls	r3, r4, r3
 2801 018e C35C     		ldrb	r3, [r0, r3]	@ zero_extendqisi2
 2802 0190 0246     		mov	r2, r0
 2803 0192 4BB3     		cbz	r3, .L319
1287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 2804              		.loc 1 1287 0
 2805 0194 54B1     		cbz	r4, .L327
1287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 2806              		.loc 1 1287 0 is_stmt 0 discriminator 1
 2807 0196 012C     		cmp	r4, #1
 2808 0198 0CD0     		beq	.L330
1287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 2809              		.loc 1 1287 0 discriminator 3
 2810 019a 022C     		cmp	r4, #2
 2811 019c 08D0     		beq	.L329
1287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 2812              		.loc 1 1287 0 discriminator 5
 2813 019e 032C     		cmp	r4, #3
 2814 01a0 08D0     		beq	.L330
1287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 2815              		.loc 1 1287 0 discriminator 7
 2816 01a2 042C     		cmp	r4, #4
 2817 01a4 0CBF     		ite	eq
 2818 01a6 C423     		moveq	r3, #196
 2819 01a8 C323     		movne	r3, #195
 2820 01aa 04E0     		b	.L320
 2821              	.L327:
1287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 2822              		.loc 1 1287 0
 2823 01ac C623     		movs	r3, #198
 2824 01ae 02E0     		b	.L320
 2825              	.L329:
 2826 01b0 C123     		movs	r3, #193
 2827 01b2 00E0     		b	.L320
 2828              	.L330:
 2829 01b4 0023     		movs	r3, #0
 2830              	.L320:
 2831              	.LVL287:
1289:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					"RX[%d]: CAM[%02X] - ACT[%s] - FS[%d] - FE[%d] - DONE[%d]",
 2832              		.loc 1 1289 0 is_stmt 1 discriminator 20
 2833 01b6 0621     		movs	r1, #6
 2834 01b8 6143     		muls	r1, r4, r1
 2835 01ba 465C     		ldrb	r6, [r0, r1]	@ zero_extendqisi2
 2836 01bc 3148     		ldr	r0, .L347+104
 2837 01be 0A44     		add	r2, r2, r1
 2838 01c0 3149     		ldr	r1, .L347+108
 2839 01c2 012E     		cmp	r6, #1
 2840 01c4 08BF     		it	eq
 2841 01c6 0146     		moveq	r1, r0
 2842 01c8 D678     		ldrb	r6, [r2, #3]	@ zero_extendqisi2
 2843 01ca 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 2844 01cc 5279     		ldrb	r2, [r2, #5]	@ zero_extendqisi2
 2845 01ce 0093     		str	r3, [sp]
 2846 01d0 2346     		mov	r3, r4
 2847              	.LVL288:
 2848 01d2 0191     		str	r1, [sp, #4]
 2849 01d4 0821     		movs	r1, #8
 2850 01d6 0390     		str	r0, [sp, #12]
 2851 01d8 2120     		movs	r0, #33
 2852 01da 0492     		str	r2, [sp, #16]
 2853 01dc 0296     		str	r6, [sp, #8]
 2854 01de 2B4A     		ldr	r2, .L347+112
 2855 01e0 A847     		blx	r5
 2856              	.LVL289:
1297:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 2857              		.loc 1 1297 0 discriminator 20
 2858 01e2 E0B2     		uxtb	r0, r4
 2859 01e4 2A4B     		ldr	r3, .L347+116
 2860 01e6 9847     		blx	r3
 2861              	.LVL290:
 2862              	.L319:
1278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2863              		.loc 1 1278 0 discriminator 2
 2864 01e8 0134     		adds	r4, r4, #1
 2865              	.LVL291:
 2866 01ea 062C     		cmp	r4, #6
 2867 01ec CCD1     		bne	.L322
 2868              	.LBE75:
1300:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		vEventGroupDelete(priv_data.hires_evhdl);
 2869              		.loc 1 1300 0
 2870 01ee 1A4C     		ldr	r4, .L347+60
 2871              	.LVL292:
 2872 01f0 6368     		ldr	r3, [r4, #4]
 2873 01f2 13B1     		cbz	r3, .L323
1301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	priv_data.hires_evhdl = NULL;
 2874              		.loc 1 1301 0
 2875 01f4 6068     		ldr	r0, [r4, #4]
 2876 01f6 274B     		ldr	r3, .L347+120
 2877 01f8 9847     		blx	r3
 2878              	.LVL293:
 2879              	.L323:
1302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	tx_transfer_done = 1;
 2880              		.loc 1 1302 0
 2881 01fa 0026     		movs	r6, #0
1303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
 2882              		.loc 1 1303 0
 2883 01fc 0122     		movs	r2, #1
 2884 01fe 264B     		ldr	r3, .L347+124
1304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	vTaskDelete(NULL);
 2885              		.loc 1 1304 0
 2886 0200 1021     		movs	r1, #16
1302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	tx_transfer_done = 1;
 2887              		.loc 1 1302 0
 2888 0202 6660     		str	r6, [r4, #4]
1304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	vTaskDelete(NULL);
 2889              		.loc 1 1304 0
 2890 0204 2120     		movs	r0, #33
1303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_DEBUG, "Deleting %s", __FUNCTION__);
 2891              		.loc 1 1303 0
 2892 0206 1A70     		strb	r2, [r3]
1304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	vTaskDelete(NULL);
 2893              		.loc 1 1304 0
 2894 0208 244A     		ldr	r2, .L347+128
 2895 020a 254B     		ldr	r3, .L347+132
 2896 020c A847     		blx	r5
 2897              	.LVL294:
1305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 2898              		.loc 1 1305 0
 2899 020e 3046     		mov	r0, r6
 2900 0210 244B     		ldr	r3, .L347+136
 2901 0212 9847     		blx	r3
 2902              	.LVL295:
1306:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t snapshot_hdl(uint32_t time_out, uint8_t skip_mask)
 2903              		.loc 1 1306 0
 2904 0214 07B0     		add	sp, sp, #28
 2905              	.LCFI17:
 2906              		.cfi_def_cfa_offset 36
 2907              		@ sp needed
 2908 0216 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2909              	.LVL296:
 2910              	.L348:
 2911 021a 00BF     		.align	2
 2912              	.L347:
 2913 021c 00000000 		.word	.LANCHOR8
 2914 0220 00000000 		.word	.LANCHOR14
 2915 0224 00000000 		.word	.LANCHOR12
 2916 0228 00000000 		.word	.LANCHOR16
 2917 022c 00000000 		.word	min_frame_done
 2918 0230 00000000 		.word	.LANCHOR5
 2919 0234 00000000 		.word	get_real_tx_ddr_address
 2920 0238 40020000 		.word	.LC25
 2921 023c 14D00202 		.word	33738772
 2922 0240 00000000 		.word	.LANCHOR2
 2923 0244 00000000 		.word	.LANCHOR3
 2924 0248 00000000 		.word	get_real_rx_ddr_address
 2925 024c 5B020000 		.word	.LC26
 2926 0250 0CD00202 		.word	33738764
 2927 0254 78020000 		.word	.LC27
 2928 0258 00000000 		.word	.LANCHOR10
 2929 025c 00000000 		.word	prepare_capture_info
 2930 0260 00000000 		.word	hal_axi2mipi_start
 2931 0264 00000000 		.word	xEventGroupWaitBits
 2932 0268 8C020000 		.word	.LC28
 2933 026c 00000000 		.word	.LANCHOR13
 2934 0270 00000000 		.word	vTaskDelay
 2935 0274 A2020000 		.word	.LC29
 2936 0278 00000000 		.word	slogf
 2937 027c C9020000 		.word	.LC30
 2938 0280 DC020000 		.word	.LC31
 2939 0284 38020000 		.word	.LC23
 2940 0288 3C020000 		.word	.LC24
 2941 028c EA020000 		.word	.LC32
 2942 0290 00000000 		.word	hal_syncio_disable
 2943 0294 00000000 		.word	vEventGroupDelete
 2944 0298 00000000 		.word	.LANCHOR22
 2945 029c 87000000 		.word	.LC5
 2946 02a0 00000000 		.word	.LANCHOR24
 2947 02a4 00000000 		.word	vTaskDelete
 2948 02a8 00000000 		.word	.LANCHOR23
 2949 02ac 00000000 		.word	.LANCHOR11
 2950              		.cfi_endproc
 2951              	.LFE16:
 2953              		.section	.text.snapshot_hdl,"ax",%progbits
 2954              		.align	1
 2955              		.global	snapshot_hdl
 2956              		.thumb
 2957              		.thumb_func
 2959              	snapshot_hdl:
 2960              	.LFB17:
1308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t tx_time_out = 0;
 2961              		.loc 1 1308 0
 2962              		.cfi_startproc
 2963              		@ args = 0, pretend = 0, frame = 8
 2964              		@ frame_needed = 0, uses_anonymous_args = 0
 2965              	.LVL297:
 2966 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2967              	.LCFI18:
 2968              		.cfi_def_cfa_offset 36
 2969              		.cfi_offset 4, -36
 2970              		.cfi_offset 5, -32
 2971              		.cfi_offset 6, -28
 2972              		.cfi_offset 7, -24
 2973              		.cfi_offset 8, -20
 2974              		.cfi_offset 9, -16
 2975              		.cfi_offset 10, -12
 2976              		.cfi_offset 11, -8
 2977              		.cfi_offset 14, -4
 2978 0004 0646     		mov	r6, r0
 2979 0006 89B0     		sub	sp, sp, #36
 2980              	.LCFI19:
 2981              		.cfi_def_cfa_offset 72
1308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint32_t tx_time_out = 0;
 2982              		.loc 1 1308 0
 2983 0008 8946     		mov	r9, r1
1310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	uint8_t rx_frame_count = 0;
 2984              		.loc 1 1310 0
 2985 000a 0024     		movs	r4, #0
 2986              	.LVL298:
 2987              	.L350:
1317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2988              		.loc 1 1317 0
 2989 000c 664F     		ldr	r7, .L375
 2990 000e 3D78     		ldrb	r5, [r7]	@ zero_extendqisi2
 2991 0010 664B     		ldr	r3, .L375+4
 2992 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2993 0014 9542     		cmp	r5, r2
 2994 0016 BA46     		mov	r10, r7
 2995 0018 9B46     		mov	fp, r3
 2996 001a 80F08580 		bcs	.L361
1317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 2997              		.loc 1 1317 0 is_stmt 0 discriminator 1
 2998 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2999 0020 9C42     		cmp	r4, r3
 3000 0022 80F08180 		bcs	.L361
1317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 3001              		.loc 1 1317 0 discriminator 2
 3002 0026 002E     		cmp	r6, #0
 3003 0028 7ED0     		beq	.L361
1319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 3004              		.loc 1 1319 0 is_stmt 1
 3005 002a 6148     		ldr	r0, .L375+8
 3006 002c 0621     		movs	r1, #6
 3007 002e 614B     		ldr	r3, .L375+12
 3008 0030 9847     		blx	r3
 3009              	.LVL299:
1321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		{
 3010              		.loc 1 1321 0
 3011 0032 8542     		cmp	r5, r0
 3012 0034 73D2     		bcs	.L351
 3013              	.LBB76:
1326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							EVENT_LIGHT_HEADER_READY, pdTRUE, pdTRUE, time_out);
 3014              		.loc 1 1326 0
 3015 0036 DFF8CC81 		ldr	r8, .L375+92
 3016 003a 0121     		movs	r1, #1
 3017 003c 0790     		str	r0, [sp, #28]
 3018 003e 0B46     		mov	r3, r1
 3019 0040 5D4D     		ldr	r5, .L375+16
 3020 0042 0A46     		mov	r2, r1
 3021 0044 D8F80400 		ldr	r0, [r8, #4]
 3022              	.LVL300:
1324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Wait for Light Header to populated */
 3023              		.loc 1 1324 0
 3024 0048 0134     		adds	r4, r4, #1
 3025              	.LVL301:
1326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							EVENT_LIGHT_HEADER_READY, pdTRUE, pdTRUE, time_out);
 3026              		.loc 1 1326 0
 3027 004a 0096     		str	r6, [sp]
 3028 004c A847     		blx	r5
 3029              	.LVL302:
1324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			/* Wait for Light Header to populated */
 3030              		.loc 1 1324 0
 3031 004e E4B2     		uxtb	r4, r4
 3032              	.LVL303:
 3033 0050 5A4D     		ldr	r5, .L375+20
1328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			{
 3034              		.loc 1 1328 0
 3035 0052 10F00103 		ands	r3, r0, #1
 3036 0056 55D0     		beq	.L352
1330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				{
 3037              		.loc 1 1330 0
 3038 0058 DDF81CC0 		ldr	ip, [sp, #28]
 3039 005c DFF8A881 		ldr	r8, .L375+96
 3040 0060 1CEA090F 		tst	ip, r9
 3041 0064 27D0     		beq	.L353
 3042              	.LBB77:
1332:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					tx_ddr_mem_idx =
 3043              		.loc 1 1332 0
 3044 0066 564B     		ldr	r3, .L375+24
 3045 0068 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3046              	.LVL304:
 3047 006a 0130     		adds	r0, r0, #1
 3048 006c C0B2     		uxtb	r0, r0
1333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
 3049              		.loc 1 1333 0
 3050 006e 0628     		cmp	r0, #6
 3051 0070 28BF     		it	cs
 3052 0072 0020     		movcs	r0, #0
 3053 0074 1870     		strb	r0, [r3]
1337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						tx_ddr_mem_idx);
 3054              		.loc 1 1337 0
 3055 0076 534B     		ldr	r3, .L375+28
 3056 0078 9847     		blx	r3
 3057              	.LVL305:
1340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Stop MIPI TX */
 3058              		.loc 1 1340 0
 3059 007a 0821     		movs	r1, #8
 3060 007c 524A     		ldr	r2, .L375+32
1337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						tx_ddr_mem_idx);
 3061              		.loc 1 1337 0
 3062 007e 8246     		mov	r10, r0
 3063              	.LVL306:
1340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					/* Stop MIPI TX */
 3064              		.loc 1 1340 0
 3065 0080 2120     		movs	r0, #33
 3066              	.LVL307:
 3067 0082 5346     		mov	r3, r10
 3068 0084 A847     		blx	r5
 3069              	.LVL308:
1342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						DISABLE);
 3070              		.loc 1 1342 0
 3071 0086 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 3072 008a 1B03     		lsls	r3, r3, #12
 3073 008c 03F10072 		add	r2, r3, #33554432
 3074 0090 02F53432 		add	r2, r2, #184320
 3075 0094 0021     		movs	r1, #0
1357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 3076              		.loc 1 1357 0
 3077 0096 2120     		movs	r0, #33
1342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						DISABLE);
 3078              		.loc 1 1342 0
 3079 0098 1160     		str	r1, [r2]
1357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 3080              		.loc 1 1357 0
 3081 009a 0821     		movs	r1, #8
1345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 3082              		.loc 1 1345 0
 3083 009c 4B4A     		ldr	r2, .L375+36
 3084 009e 42F803A0 		str	r10, [r2, r3]
1350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						axi2mipi_tx_bridge,
 3085              		.loc 1 1350 0
 3086 00a2 3C32     		adds	r2, r2, #60
 3087 00a4 1A44     		add	r2, r2, r3
 3088 00a6 0123     		movs	r3, #1
 3089 00a8 1360     		str	r3, [r2]
1356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_INFO, "Skipping this frame");
 3090              		.loc 1 1356 0
 3091 00aa 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 3092 00ac 0133     		adds	r3, r3, #1
1357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 3093              		.loc 1 1357 0
 3094 00ae 484A     		ldr	r2, .L375+40
1356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_INFO, "Skipping this frame");
 3095              		.loc 1 1356 0
 3096 00b0 3B70     		strb	r3, [r7]
1357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				}
 3097              		.loc 1 1357 0
 3098 00b2 A847     		blx	r5
 3099              	.LVL309:
 3100              	.LBE77:
 3101 00b4 AAE7     		b	.L350
 3102              	.LVL310:
 3103              	.L353:
 3104              	.LBB78:
1361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_INFO, "TX Transfer address: 0x%x", ddr_address);
 3105              		.loc 1 1361 0
 3106 00b6 98F80020 		ldrb	r2, [r8]	@ zero_extendqisi2
 3107 00ba 444B     		ldr	r3, .L375+36
 3108 00bc 1203     		lsls	r2, r2, #12
1362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if (has_cam_thumb)
 3109              		.loc 1 1362 0
 3110 00be 2120     		movs	r0, #33
 3111              	.LVL311:
 3112 00c0 0821     		movs	r1, #8
1361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					SLOGF(SLOG_INFO, "TX Transfer address: 0x%x", ddr_address);
 3113              		.loc 1 1361 0
 3114 00c2 9B58     		ldr	r3, [r3, r2]
 3115              	.LVL312:
1362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if (has_cam_thumb)
 3116              		.loc 1 1362 0
 3117 00c4 434A     		ldr	r2, .L375+44
 3118 00c6 A847     		blx	r5
 3119              	.LVL313:
1363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 3120              		.loc 1 1363 0
 3121 00c8 434B     		ldr	r3, .L375+48
 3122 00ca 98F80000 		ldrb	r0, [r8]	@ zero_extendqisi2
 3123 00ce 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3124 00d0 424B     		ldr	r3, .L375+52
 3125 00d2 0AB1     		cbz	r2, .L356
1366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							axi2mipi_tx_bridge,
 3126              		.loc 1 1366 0
 3127 00d4 0621     		movs	r1, #6
 3128 00d6 00E0     		b	.L373
 3129              	.L356:
1373:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 							axi2mipi_tx_bridge,
 3130              		.loc 1 1373 0
 3131 00d8 0421     		movs	r1, #4
 3132              	.L373:
 3133 00da 9847     		blx	r3
 3134              	.LVL314:
 3135              	.LBE78:
 3136              	.LBB79:
1333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						(tx_ddr_mem_idx >= MAX_AREA_MEM) ? 0 : tx_ddr_mem_idx;
 3137              		.loc 1 1333 0
 3138 00dc 4FF4FA67 		mov	r7, #2000
 3139              	.L358:
 3140              	.LVL315:
 3141              	.LBE79:
 3142              	.LBB80:
1378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 3143              		.loc 1 1378 0
 3144 00e0 3F4B     		ldr	r3, .L375+56
 3145 00e2 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3146 00e4 2AB9     		cbnz	r2, .L359
1378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 3147              		.loc 1 1378 0 is_stmt 0 discriminator 1
 3148 00e6 27B1     		cbz	r7, .L359
1380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						tx_time_out--;
 3149              		.loc 1 1380 0 is_stmt 1
 3150 00e8 0120     		movs	r0, #1
 3151 00ea 3E4B     		ldr	r3, .L375+60
1381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
 3152              		.loc 1 1381 0
 3153 00ec 013F     		subs	r7, r7, #1
 3154              	.LVL316:
1380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						tx_time_out--;
 3155              		.loc 1 1380 0
 3156 00ee 9847     		blx	r3
 3157              	.LVL317:
 3158 00f0 F6E7     		b	.L358
 3159              	.L359:
1383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					if (!tx_time_out)
 3160              		.loc 1 1383 0
 3161 00f2 0022     		movs	r2, #0
 3162 00f4 1A70     		strb	r2, [r3]
1384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					{
 3163              		.loc 1 1384 0
 3164 00f6 002F     		cmp	r7, #0
 3165 00f8 88D1     		bne	.L350
1386:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 						error = 1;
 3166              		.loc 1 1386 0
 3167 00fa 2120     		movs	r0, #33
 3168 00fc 0221     		movs	r1, #2
 3169 00fe 3A4A     		ldr	r2, .L375+64
 3170 0100 A847     		blx	r5
 3171              	.LVL318:
1388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 					}
 3172              		.loc 1 1388 0
 3173 0102 11E0     		b	.L361
 3174              	.LVL319:
 3175              	.L352:
 3176              	.LBE80:
1395:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				vEventGroupDelete(priv_data.hires_evhdl);
 3177              		.loc 1 1395 0
 3178 0104 2120     		movs	r0, #33
 3179              	.LVL320:
 3180 0106 0221     		movs	r1, #2
 3181 0108 384A     		ldr	r2, .L375+68
 3182 010a 0793     		str	r3, [sp, #28]
 3183 010c A847     		blx	r5
 3184              	.LVL321:
1396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				priv_data.hires_evhdl = NULL;
 3185              		.loc 1 1396 0
 3186 010e D8F80400 		ldr	r0, [r8, #4]
 3187 0112 374A     		ldr	r2, .L375+72
 3188 0114 9047     		blx	r2
 3189              	.LVL322:
1397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				error = 1;
 3190              		.loc 1 1397 0
 3191 0116 079B     		ldr	r3, [sp, #28]
 3192 0118 C8F80430 		str	r3, [r8, #4]
 3193              	.LVL323:
1399:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			}
 3194              		.loc 1 1399 0
 3195 011c 04E0     		b	.L361
 3196              	.LVL324:
 3197              	.L351:
 3198              	.LBE76:
1406:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 3199              		.loc 1 1406 0
 3200 011e 0120     		movs	r0, #1
 3201              	.LVL325:
 3202 0120 304B     		ldr	r3, .L375+60
1405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 			vTaskDelay(1);
 3203              		.loc 1 1405 0
 3204 0122 013E     		subs	r6, r6, #1
 3205              	.LVL326:
1406:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		}
 3206              		.loc 1 1406 0
 3207 0124 9847     		blx	r3
 3208              	.LVL327:
 3209 0126 71E7     		b	.L350
 3210              	.LVL328:
 3211              	.L361:
1411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		error = 0; /* No error, snapshot done */
 3212              		.loc 1 1411 0
 3213 0128 9AF80060 		ldrb	r6, [r10]	@ zero_extendqisi2
 3214              	.LVL329:
 3215 012c 9BF80030 		ldrb	r3, [fp]	@ zero_extendqisi2
1412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	else
 3216              		.loc 1 1412 0
 3217 0130 0025     		movs	r5, #0
 3218 0132 9E42     		cmp	r6, r3
 3219 0134 2CBF     		ite	cs
 3220 0136 0026     		movcs	r6, #0
 3221 0138 0126     		movcc	r6, #1
 3222              	.LVL330:
1417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 3223              		.loc 1 1417 0
 3224 013a 2C46     		mov	r4, r5
 3225              	.LVL331:
1424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 3226              		.loc 1 1424 0
 3227 013c C623     		movs	r3, #198
 3228              	.LVL332:
 3229              	.L363:
1426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				"RX[%d]: CAM[%02X] - ACT[%s] - FS[%d] - FE[%d] - DONE[%d]",
 3230              		.loc 1 1426 0 discriminator 20
 3231 013e 0622     		movs	r2, #6
 3232 0140 1B49     		ldr	r1, .L375+8
 3233 0142 6A43     		muls	r2, r5, r2
 3234 0144 8F5C     		ldrb	r7, [r1, r2]	@ zero_extendqisi2
 3235 0146 8818     		adds	r0, r1, r2
 3236 0148 90F803E0 		ldrb	lr, [r0, #3]	@ zero_extendqisi2
 3237 014c 2949     		ldr	r1, .L375+76
 3238 014e 2A4A     		ldr	r2, .L375+80
 3239 0150 012F     		cmp	r7, #1
 3240 0152 08BF     		it	eq
 3241 0154 0A46     		moveq	r2, r1
 3242 0156 0779     		ldrb	r7, [r0, #4]	@ zero_extendqisi2
 3243 0158 4179     		ldrb	r1, [r0, #5]	@ zero_extendqisi2
 3244 015a 0093     		str	r3, [sp]
 3245 015c 0192     		str	r2, [sp, #4]
 3246 015e 2120     		movs	r0, #33
 3247 0160 CDF808E0 		str	lr, [sp, #8]
 3248 0164 2B46     		mov	r3, r5
 3249              	.LVL333:
 3250 0166 0397     		str	r7, [sp, #12]
 3251 0168 0491     		str	r1, [sp, #16]
 3252 016a 0821     		movs	r1, #8
 3253 016c 234A     		ldr	r2, .L375+84
 3254 016e 134F     		ldr	r7, .L375+20
 3255 0170 B847     		blx	r7
 3256              	.LVL334:
1434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 3257              		.loc 1 1434 0 discriminator 20
 3258 0172 2046     		mov	r0, r4
 3259 0174 224B     		ldr	r3, .L375+88
1417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 3260              		.loc 1 1417 0 discriminator 20
 3261 0176 0134     		adds	r4, r4, #1
1434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
 3262              		.loc 1 1434 0 discriminator 20
 3263 0178 9847     		blx	r3
 3264              	.LVL335:
1417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
 3265              		.loc 1 1417 0 discriminator 20
 3266 017a 052D     		cmp	r5, #5
 3267 017c E4B2     		uxtb	r4, r4
 3268              	.LVL336:
 3269 017e 0FD0     		beq	.L374
1424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 3270              		.loc 1 1424 0 discriminator 1
 3271 0180 012C     		cmp	r4, #1
 3272 0182 0AD0     		beq	.L370
1424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 3273              		.loc 1 1424 0 is_stmt 0 discriminator 3
 3274 0184 022C     		cmp	r4, #2
 3275 0186 06D0     		beq	.L369
1424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 3276              		.loc 1 1424 0 discriminator 5
 3277 0188 032C     		cmp	r4, #3
 3278 018a 06D0     		beq	.L370
1424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 3279              		.loc 1 1424 0 discriminator 7
 3280 018c 042C     		cmp	r4, #4
 3281 018e 0CBF     		ite	eq
 3282 0190 C423     		moveq	r3, #196
 3283 0192 C323     		movne	r3, #195
 3284 0194 02E0     		b	.L364
 3285              	.L369:
1424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
 3286              		.loc 1 1424 0
 3287 0196 C123     		movs	r3, #193
 3288 0198 00E0     		b	.L364
 3289              	.L370:
 3290 019a 0023     		movs	r3, #0
 3291              	.L364:
 3292 019c 0135     		adds	r5, r5, #1
 3293 019e CEE7     		b	.L363
 3294              	.L374:
1437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
 3295              		.loc 1 1437 0 is_stmt 1
 3296 01a0 3046     		mov	r0, r6
 3297 01a2 09B0     		add	sp, sp, #36
 3298              	.LCFI20:
 3299              		.cfi_def_cfa_offset 36
 3300              		@ sp needed
 3301 01a4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3302              	.LVL337:
 3303              	.L376:
 3304              		.align	2
 3305              	.L375:
 3306 01a8 00000000 		.word	.LANCHOR12
 3307 01ac 00000000 		.word	.LANCHOR14
 3308 01b0 00000000 		.word	.LANCHOR16
 3309 01b4 00000000 		.word	min_frame_done
 3310 01b8 00000000 		.word	xEventGroupWaitBits
 3311 01bc 00000000 		.word	slogf
 3312 01c0 00000000 		.word	.LANCHOR11
 3313 01c4 00000000 		.word	get_real_tx_ddr_address
 3314 01c8 23030000 		.word	.LC33
 3315 01cc 14D00202 		.word	33738772
 3316 01d0 78020000 		.word	.LC27
 3317 01d4 42030000 		.word	.LC34
 3318 01d8 00000000 		.word	.LANCHOR8
 3319 01dc 00000000 		.word	hal_axi2mipi_start
 3320 01e0 00000000 		.word	.LANCHOR13
 3321 01e4 00000000 		.word	vTaskDelay
 3322 01e8 5C030000 		.word	.LC35
 3323 01ec 68030000 		.word	.LC36
 3324 01f0 00000000 		.word	vEventGroupDelete
 3325 01f4 38020000 		.word	.LC23
 3326 01f8 3C020000 		.word	.LC24
 3327 01fc EA020000 		.word	.LC32
 3328 0200 00000000 		.word	hal_syncio_disable
 3329 0204 00000000 		.word	.LANCHOR10
 3330 0208 00000000 		.word	.LANCHOR5
 3331              		.cfi_endproc
 3332              	.LFE17:
 3334              		.global	__aeabi_dmul
 3335              		.global	__aeabi_d2uiz
 3336              		.global	__aeabi_dadd
 3337              		.section	.text.cam_capture_syncio_config,"ax",%progbits
 3338              		.align	1
 3339              		.global	cam_capture_syncio_config
 3340              		.thumb
 3341              		.thumb_func
 3343              	cam_capture_syncio_config:
 3344              	.LFB19:
1444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	//printf("\r\nSYNC IO CH[%d]: Count: %d\r\n",(int)chid, synio_count);
1445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
1446:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** uint8_t cam_capture_syncio_config(cam_typedef_t *cam, uint8_t frame_num,
1448:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 				double latency_time, syncio_trig_mode_t mode)
1449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** {
 3345              		.loc 1 1449 0
 3346              		.cfi_startproc
 3347              		@ args = 4, pretend = 0, frame = 32
 3348              		@ frame_needed = 0, uses_anonymous_args = 0
 3349              	.LVL338:
 3350 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3351              	.LCFI21:
 3352              		.cfi_def_cfa_offset 32
 3353              		.cfi_offset 4, -32
 3354              		.cfi_offset 5, -28
 3355              		.cfi_offset 6, -24
 3356              		.cfi_offset 7, -20
 3357              		.cfi_offset 8, -16
 3358              		.cfi_offset 9, -12
 3359              		.cfi_offset 10, -8
 3360              		.cfi_offset 14, -4
1450:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Initialize sync IO */
1451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_syncio_cfg_t syncio_cfg;
1452:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	int8_t cam_ch = cam->info.ch - 1;
 3361              		.loc 1 1452 0
 3362 0004 90F82840 		ldrb	r4, [r0, #40]	@ zero_extendqisi2
 3363 0008 C4F30304 		ubfx	r4, r4, #0, #4
 3364 000c 013C     		subs	r4, r4, #1
1449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Initialize sync IO */
 3365              		.loc 1 1449 0
 3366 000e 88B0     		sub	sp, sp, #32
 3367              	.LCFI22:
 3368              		.cfi_def_cfa_offset 64
 3369              		.loc 1 1452 0
 3370 0010 E4B2     		uxtb	r4, r4
 3371              	.LVL339:
1453:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	if(cam_ch < 0 || cam_ch > 5)
 3372              		.loc 1 1453 0
 3373 0012 052C     		cmp	r4, #5
1449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Initialize sync IO */
 3374              		.loc 1 1449 0
 3375 0014 8946     		mov	r9, r1
 3376 0016 1646     		mov	r6, r2
 3377 0018 1F46     		mov	r7, r3
 3378 001a 2B4D     		ldr	r5, .L380+24
 3379              		.loc 1 1453 0
 3380 001c 06D9     		bls	.L378
1454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	{
1455:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		SLOGF(SLOG_ERROR, "Does not support channel [%d]", cam_ch);
 3381              		.loc 1 1455 0
 3382 001e 2120     		movs	r0, #33
 3383              	.LVL340:
 3384 0020 0221     		movs	r1, #2
 3385              	.LVL341:
 3386 0022 2A4A     		ldr	r2, .L380+28
 3387              	.LVL342:
 3388 0024 63B2     		sxtb	r3, r4
 3389 0026 A847     		blx	r5
 3390              	.LVL343:
1456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		/* return 1 that mean error */
1457:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 		return 1;
 3391              		.loc 1 1457 0
 3392 0028 0120     		movs	r0, #1
 3393 002a 3DE0     		b	.L379
 3394              	.LVL344:
 3395              	.L378:
1458:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	}
1459:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_DEBUG, "Latency time (x10^6): %d",
 3396              		.loc 1 1459 0
 3397 002c DFF8C0A0 		ldr	r10, .L380+64
 3398 0030 1046     		mov	r0, r2
 3399              	.LVL345:
 3400 0032 1946     		mov	r1, r3
 3401              	.LVL346:
 3402 0034 1EA3     		adr	r3, .L380
 3403 0036 D3E90023 		ldrd	r2, [r3]
 3404              	.LVL347:
 3405 003a D047     		blx	r10
 3406              	.LVL348:
 3407 003c DFF8B480 		ldr	r8, .L380+68
 3408 0040 C047     		blx	r8
 3409              	.LVL349:
 3410 0042 1021     		movs	r1, #16
 3411 0044 224A     		ldr	r2, .L380+32
 3412 0046 0346     		mov	r3, r0
 3413 0048 2120     		movs	r0, #33
 3414 004a A847     		blx	r5
 3415              	.LVL350:
1460:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 										(unsigned int)(latency_time * 1000000));
1461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Configures sync IO */
1462:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.inf_mode = SG_INF_DIS;
 3416              		.loc 1 1462 0
 3417 004c 0025     		movs	r5, #0
1463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.repeat = frame_num;
1464:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* In snapshot flow, the trigger mode should be HW trigger */
1465:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.trig_mode = mode;
 3418              		.loc 1 1465 0
 3419 004e 9DF84030 		ldrb	r3, [sp, #64]	@ zero_extendqisi2
 3420 0052 8DF80930 		strb	r3, [sp, #9]
1466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.width1 = 1 * SPG_MILISECOND;
 3421              		.loc 1 1466 0
 3422 0056 1F4B     		ldr	r3, .L380+36
1467:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.lat1 = (uint32_t)((latency_time + 0.001206) * SPG_SECOND);
 3423              		.loc 1 1467 0
 3424 0058 3046     		mov	r0, r6
1466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.width1 = 1 * SPG_MILISECOND;
 3425              		.loc 1 1466 0
 3426 005a 0593     		str	r3, [sp, #20]
 3427              		.loc 1 1467 0
 3428 005c 3946     		mov	r1, r7
 3429 005e 16A3     		adr	r3, .L380+8
 3430 0060 D3E90023 		ldrd	r2, [r3]
1462:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.repeat = frame_num;
 3431              		.loc 1 1462 0
 3432 0064 8DF80850 		strb	r5, [sp, #8]
1463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* In snapshot flow, the trigger mode should be HW trigger */
 3433              		.loc 1 1463 0
 3434 0068 8DF81C90 		strb	r9, [sp, #28]
 3435              		.loc 1 1467 0
 3436 006c 1A4E     		ldr	r6, .L380+40
 3437 006e B047     		blx	r6
 3438              	.LVL351:
 3439 0070 13A3     		adr	r3, .L380+16
 3440 0072 D3E90023 		ldrd	r2, [r3]
 3441 0076 D047     		blx	r10
 3442              	.LVL352:
 3443 0078 C047     		blx	r8
 3444              	.LVL353:
1468:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.width2 = 0;
1469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.lat2 = 0;
1470:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
1471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	SLOGF(SLOG_DEBUG, "Syncio[%d] latency %d, frame_num %d", cam_ch, syncio_cfg.lat1, frame_num);
1472:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #endif
1473:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1474:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Start initialize to default */
1475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_syncio_init(cam_ch);
 3445              		.loc 1 1475 0
 3446 007a 184B     		ldr	r3, .L380+44
1468:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.width2 = 0;
 3447              		.loc 1 1468 0
 3448 007c 0695     		str	r5, [sp, #24]
1469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** #ifdef MIPI_DEBUG
 3449              		.loc 1 1469 0
 3450 007e 0495     		str	r5, [sp, #16]
1467:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	syncio_cfg.width2 = 0;
 3451              		.loc 1 1467 0
 3452 0080 0390     		str	r0, [sp, #12]
 3453              		.loc 1 1475 0
 3454 0082 2046     		mov	r0, r4
 3455 0084 9847     		blx	r3
 3456              	.LVL354:
1476:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_syncio_config(cam_ch, &syncio_cfg);
 3457              		.loc 1 1476 0
 3458 0086 2046     		mov	r0, r4
 3459 0088 02A9     		add	r1, sp, #8
 3460 008a 154B     		ldr	r3, .L380+48
 3461 008c 9847     		blx	r3
 3462              	.LVL355:
1477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_syncio_irq_t intr;
1478:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	intr.irq_modes = SG_INTR_PULSE_DONE;
 3463              		.loc 1 1478 0
 3464 008e 0123     		movs	r3, #1
1479:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	intr.callback_handler = syncio_intr;
1480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_syncio_enable_irq(cam_ch, &intr);
 3465              		.loc 1 1480 0
 3466 0090 2046     		mov	r0, r4
 3467 0092 6946     		mov	r1, sp
1478:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	intr.callback_handler = syncio_intr;
 3468              		.loc 1 1478 0
 3469 0094 ADF80030 		strh	r3, [sp]	@ movhi
1479:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	intr.callback_handler = syncio_intr;
 3470              		.loc 1 1479 0
 3471 0098 124B     		ldr	r3, .L380+52
 3472 009a 0193     		str	r3, [sp, #4]
 3473              		.loc 1 1480 0
 3474 009c 124B     		ldr	r3, .L380+56
 3475 009e 9847     		blx	r3
 3476              	.LVL356:
1481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	hal_syncio_enable(cam_ch);
 3477              		.loc 1 1481 0
 3478 00a0 2046     		mov	r0, r4
 3479 00a2 124B     		ldr	r3, .L380+60
 3480 00a4 9847     		blx	r3
 3481              	.LVL357:
1482:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 
1483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	/* Not error */
1484:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** 	return 0;
 3482              		.loc 1 1484 0
 3483 00a6 2846     		mov	r0, r5
 3484              	.L379:
1485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase_hires.c **** }
 3485              		.loc 1 1485 0
 3486 00a8 08B0     		add	sp, sp, #32
 3487              	.LCFI23:
 3488              		.cfi_def_cfa_offset 32
 3489              		@ sp needed
 3490 00aa BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3491              	.LVL358:
 3492              	.L381:
 3493 00ae 00BF     		.align	3
 3494              	.L380:
 3495 00b0 00000000 		.word	0
 3496 00b4 80842E41 		.word	1093567616
 3497 00b8 4643C6A3 		.word	-1547287738
 3498 00bc 54C2533F 		.word	1062453844
 3499 00c0 00000000 		.word	0
 3500 00c4 ADB59F41 		.word	1100985773
 3501 00c8 00000000 		.word	slogf
 3502 00cc 83030000 		.word	.LC37
 3503 00d0 A1030000 		.word	.LC38
 3504 00d4 88070200 		.word	133000
 3505 00d8 00000000 		.word	__aeabi_dadd
 3506 00dc 00000000 		.word	hal_syncio_init
 3507 00e0 00000000 		.word	hal_syncio_config
 3508 00e4 00000000 		.word	syncio_intr
 3509 00e8 00000000 		.word	hal_syncio_enable_irq
 3510 00ec 00000000 		.word	hal_syncio_enable
 3511 00f0 00000000 		.word	__aeabi_dmul
 3512 00f4 00000000 		.word	__aeabi_d2uiz
 3513              		.cfi_endproc
 3514              	.LFE19:
 3516              		.global	callback_hdl
 3517              		.global	synio_count
 3518              		.global	light_header_cnt
 3519              		.global	snapshot_tx
 3520              		.global	thumbnail_tx
 3521              		.global	priv_data
 3522              		.global	axi2mipi_tx_bridge
 3523              		.global	cam_mem_idx
 3524              		.global	mipi_rx
 3525              		.global	lh_populate_done
 3526              		.global	tx_transfer_done
 3527              		.global	img_bytes
 3528              		.section	.bss.mipi_rx,"aw",%nobits
 3529              		.set	.LANCHOR16,. + 0
 3532              	mipi_rx:
 3533 0000 00000000 		.space	36
 3533      00000000 
 3533      00000000 
 3533      00000000 
 3533      00000000 
 3534              		.section	.bss.lh_populate_done,"aw",%nobits
 3535              		.set	.LANCHOR19,. + 0
 3538              	lh_populate_done:
 3539 0000 00       		.space	1
 3540              		.section	.rodata.__FUNCTION__.10804,"a",%progbits
 3541              		.set	.LANCHOR20,. + 0
 3544              	__FUNCTION__.10804:
 3545 0000 7461736B 		.ascii	"task_populate_header\000"
 3545      5F706F70 
 3545      756C6174 
 3545      655F6865 
 3545      61646572 
 3546              		.section	.bss.cam_asic_port_mask,"aw",%nobits
 3547              		.set	.LANCHOR21,. + 0
 3550              	cam_asic_port_mask:
 3551 0000 00       		.space	1
 3552              		.section	.bss.tx_ddr_mem_idx,"aw",%nobits
 3553              		.set	.LANCHOR11,. + 0
 3556              	tx_ddr_mem_idx:
 3557 0000 00       		.space	1
 3558              		.section	.rodata.str1.1,"aMS",%progbits,1
 3559              	.LC0:
 3560 0000 54582074 		.ascii	"TX transfer #line = %d\000"
 3560      72616E73 
 3560      66657220 
 3560      236C696E 
 3560      65203D20 
 3561              	.LC1:
 3562 0017 48445220 		.ascii	"HDR INFO %d and PADDING %d\000"
 3562      494E464F 
 3562      20256420 
 3562      616E6420 
 3562      50414444 
 3563              	.LC2:
 3564 0032 48445220 		.ascii	"HDR INFO ADDRESS: 0x%08x\000"
 3564      494E464F 
 3564      20414444 
 3564      52455353 
 3564      3A203078 
 3565              	.LC3:
 3566 004b 4C696768 		.ascii	"LightHeader size %d at 0x%08x\000"
 3566      74486561 
 3566      64657220 
 3566      73697A65 
 3566      20256420 
 3567              	.LC4:
 3568 0069 4C696768 		.ascii	"LightHeader populating failed\000"
 3568      74486561 
 3568      64657220 
 3568      706F7075 
 3568      6C617469 
 3569              	.LC5:
 3570 0087 44656C65 		.ascii	"Deleting %s\000"
 3570      74696E67 
 3570      20257300 
 3571              	.LC6:
 3572 0093 54696D65 		.ascii	"Timeout waiting for snapshot events\000"
 3572      6F757420 
 3572      77616974 
 3572      696E6720 
 3572      666F7220 
 3573              	.LC7:
 3574 00b7 416C7265 		.ascii	"Already populate Light Header for this RAW\000"
 3574      61647920 
 3574      706F7075 
 3574      6C617465 
 3574      204C6967 
 3575              	.LC8:
 3576 00e2 52454144 		.ascii	"READ INFO FROM CAM-%X\000"
 3576      20494E46 
 3576      4F204652 
 3576      4F4D2043 
 3576      414D2D25 
 3577              	.LC9:
 3578 00f8 4E6F7420 		.ascii	"Not support CSI[%d]\000"
 3578      73757070 
 3578      6F727420 
 3578      4353495B 
 3578      25645D00 
 3579              	.LC10:
 3580 010c 494D4147 		.ascii	"IMAGE WIDTH : %d\000"
 3580      45205749 
 3580      44544820 
 3580      3A202564 
 3580      00
 3581              	.LC11:
 3582 011d 494D4147 		.ascii	"IMAGE HEIGHT: %d\000"
 3582      45204845 
 3582      49474854 
 3582      3A202564 
 3582      00
 3583              	.LC12:
 3584 012e 4D495049 		.ascii	"MIPI TX : %d\000"
 3584      20545820 
 3584      3A202564 
 3584      00
 3585              	.LC13:
 3586 013b 5448554D 		.ascii	"THUMBNAIL VC: %d\000"
 3586      424E4149 
 3586      4C205643 
 3586      3A202564 
 3586      00
 3587              	.LC14:
 3588 014c 534E4150 		.ascii	"SNAPSHOT  VC: %d\000"
 3588      53484F54 
 3588      20205643 
 3588      3A202564 
 3588      00
 3589              	.LC15:
 3590 015d 43616D65 		.ascii	"Camera total: %d\000"
 3590      72612074 
 3590      6F74616C 
 3590      3A202564 
 3590      00
 3591              	.LC16:
 3592 016e 4E6F7420 		.ascii	"Not support resolution: [%x] [%x]\000"
 3592      73757070 
 3592      6F727420 
 3592      7265736F 
 3592      6C757469 
 3593              	.LC17:
 3594 0190 4E6F7420 		.ascii	"Not support burst input = 0!\000"
 3594      73757070 
 3594      6F727420 
 3594      62757273 
 3594      7420696E 
 3595              	.LC18:
 3596 01ad 4E6F7420 		.ascii	"Not support VCID snapshot: 0x%X\000"
 3596      73757070 
 3596      6F727420 
 3596      56434944 
 3596      20736E61 
 3597              	.LC19:
 3598 01cd 4E6F7420 		.ascii	"Not support VCID thumbnail: 0x%X\000"
 3598      73757070 
 3598      6F727420 
 3598      56434944 
 3598      20746875 
 3599              	.LC20:
 3600 01ee 43414D20 		.ascii	"CAM THUMBNAIL: %X\000"
 3600      5448554D 
 3600      424E4149 
 3600      4C3A2025 
 3600      5800
 3601              	.LC21:
 3602 0200 444F4553 		.ascii	"DOES NOT HAVE CAM THUMBNAIL\000"
 3602      204E4F54 
 3602      20484156 
 3602      45204341 
 3602      4D205448 
 3603              	.LC22:
 3604 021c 4E6F7420 		.ascii	"Not support data type: 0x%X\000"
 3604      73757070 
 3604      6F727420 
 3604      64617461 
 3604      20747970 
 3605              	.LC23:
 3606 0238 454E4100 		.ascii	"ENA\000"
 3607              	.LC24:
 3608 023c 44495300 		.ascii	"DIS\000"
 3609              	.LC25:
 3610 0240 4E657720 		.ascii	"New LRI address: 0x%08x \015\012\000"
 3610      4C524920 
 3610      61646472 
 3610      6573733A 
 3610      20307825 
 3611              	.LC26:
 3612 025b 4E657720 		.ascii	"New thumb address: 0x%08x \015\012\000"
 3612      7468756D 
 3612      62206164 
 3612      64726573 
 3612      733A2030 
 3613              	.LC27:
 3614 0278 536B6970 		.ascii	"Skipping this frame\000"
 3614      70696E67 
 3614      20746869 
 3614      73206672 
 3614      616D6500 
 3615              	.LC28:
 3616 028c 54582074 		.ascii	"TX transfer timed out\000"
 3616      72616E73 
 3616      66657220 
 3616      74696D65 
 3616      64206F75 
 3617              	.LC29:
 3618 02a2 4469646E 		.ascii	"Didn't receive frames from all sensors\000"
 3618      27742072 
 3618      65636569 
 3618      76652066 
 3618      72616D65 
 3619              	.LC30:
 3620 02c9 536E6170 		.ascii	"Snapshot completed\000"
 3620      73686F74 
 3620      20636F6D 
 3620      706C6574 
 3620      656400
 3621              	.LC31:
 3622 02dc 536E6170 		.ascii	"Snapshot fail\000"
 3622      73686F74 
 3622      20666169 
 3622      6C00
 3623              	.LC32:
 3624 02ea 52585B25 		.ascii	"RX[%d]: CAM[%02X] - ACT[%s] - FS[%d] - FE[%d] - DON"
 3624      645D3A20 
 3624      43414D5B 
 3624      25303258 
 3624      5D202D20 
 3625 031d 455B2564 		.ascii	"E[%d]\000"
 3625      5D00
 3626              	.LC33:
 3627 0323 5458206E 		.ascii	"TX next DDR address: 0x%08x \015\012\000"
 3627      65787420 
 3627      44445220 
 3627      61646472 
 3627      6573733A 
 3628              	.LC34:
 3629 0342 54582054 		.ascii	"TX Transfer address: 0x%x\000"
 3629      72616E73 
 3629      66657220 
 3629      61646472 
 3629      6573733A 
 3630              	.LC35:
 3631 035c 54582074 		.ascii	"TX time out\000"
 3631      696D6520 
 3631      6F757400 
 3632              	.LC36:
 3633 0368 57616974 		.ascii	"Wait Light Header time out\000"
 3633      204C6967 
 3633      68742048 
 3633      65616465 
 3633      72207469 
 3634              	.LC37:
 3635 0383 446F6573 		.ascii	"Does not support channel [%d]\000"
 3635      206E6F74 
 3635      20737570 
 3635      706F7274 
 3635      20636861 
 3636              	.LC38:
 3637 03a1 4C617465 		.ascii	"Latency time (x10^6): %d\000"
 3637      6E637920 
 3637      74696D65 
 3637      20287831 
 3637      305E3629 
 3638              		.section	.bss.callback_hdl,"aw",%nobits
 3639              		.align	2
 3640              		.set	.LANCHOR15,. + 0
 3643              	callback_hdl:
 3644 0000 00000000 		.space	4
 3645              		.section	.rodata.__FUNCTION__.10957,"a",%progbits
 3646              		.set	.LANCHOR24,. + 0
 3649              	__FUNCTION__.10957:
 3650 0000 7461736B 		.ascii	"task_tx_transfer\000"
 3650      5F74785F 
 3650      7472616E 
 3650      73666572 
 3650      00
 3651              		.section	.bss.priv_data,"aw",%nobits
 3652              		.align	3
 3653              		.set	.LANCHOR10,. + 0
 3656              	priv_data:
 3657 0000 00000000 		.space	24
 3657      00000000 
 3657      00000000 
 3657      00000000 
 3657      00000000 
 3658              		.section	.bss.mipi_tx_done_flag,"aw",%nobits
 3659              		.set	.LANCHOR13,. + 0
 3662              	mipi_tx_done_flag:
 3663 0000 00       		.space	1
 3664              		.section	.bss.set_next_addr_flag,"aw",%nobits
 3665              		.set	.LANCHOR17,. + 0
 3668              	set_next_addr_flag:
 3669 0000 00000000 		.space	6
 3669      0000
 3670              		.section	.bss.has_cam_thumb,"aw",%nobits
 3671              		.set	.LANCHOR8,. + 0
 3674              	has_cam_thumb:
 3675 0000 00       		.space	1
 3676              		.section	.bss.light_header_cnt,"aw",%nobits
 3677              		.set	.LANCHOR23,. + 0
 3680              	light_header_cnt:
 3681 0000 00       		.space	1
 3682              		.section	.bss.mem_idx_rx,"aw",%nobits
 3683              		.set	.LANCHOR18,. + 0
 3686              	mem_idx_rx:
 3687 0000 00000000 		.space	6
 3687      0000
 3688              		.section	.bss.tx_transfer_done,"aw",%nobits
 3689              		.set	.LANCHOR22,. + 0
 3692              	tx_transfer_done:
 3693 0000 00       		.space	1
 3694              		.section	.bss.snapshot_tx,"aw",%nobits
 3695              		.align	2
 3696              		.set	.LANCHOR6,. + 0
 3699              	snapshot_tx:
 3700 0000 00000000 		.space	12
 3700      00000000 
 3700      00000000 
 3701              		.section	.bss.mipi_tx_fr_cnt,"aw",%nobits
 3702              		.set	.LANCHOR12,. + 0
 3705              	mipi_tx_fr_cnt:
 3706 0000 00       		.space	1
 3707              		.section	.bss.thumbnail_mem_idx,"aw",%nobits
 3708              		.set	.LANCHOR9,. + 0
 3711              	thumbnail_mem_idx:
 3712 0000 00       		.space	1
 3713              		.section	.bss.axi2mipi_tx_bridge,"aw",%nobits
 3714              		.set	.LANCHOR5,. + 0
 3717              	axi2mipi_tx_bridge:
 3718 0000 00       		.space	1
 3719              		.section	.bss.thumbnail_tx,"aw",%nobits
 3720              		.align	2
 3721              		.set	.LANCHOR7,. + 0
 3724              	thumbnail_tx:
 3725 0000 00000000 		.space	12
 3725      00000000 
 3725      00000000 
 3726              		.section	.bss.cam_mem_idx,"aw",%nobits
 3727              		.set	.LANCHOR2,. + 0
 3730              	cam_mem_idx:
 3731 0000 00000000 		.space	6
 3731      0000
 3732              		.section	.bss.num_of_frame,"aw",%nobits
 3733              		.set	.LANCHOR14,. + 0
 3736              	num_of_frame:
 3737 0000 00       		.space	1
 3738              		.section	.bss.synio_count,"aw",%nobits
 3739              		.set	.LANCHOR0,. + 0
 3742              	synio_count:
 3743 0000 00       		.space	1
 3744              		.section	.bss.cam_total,"aw",%nobits
 3745              		.set	.LANCHOR1,. + 0
 3748              	cam_total:
 3749 0000 00       		.space	1
 3750              		.section	.bss.img_bytes,"aw",%nobits
 3751              		.align	2
 3752              		.set	.LANCHOR4,. + 0
 3755              	img_bytes:
 3756 0000 00000000 		.space	4
 3757              		.section	.bss.cam_thumb_mem_idx,"aw",%nobits
 3758              		.set	.LANCHOR3,. + 0
 3761              	cam_thumb_mem_idx:
 3762 0000 00       		.space	1
 3763              		.text
 3764              	.Letext0:
 3765              		.file 2 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/machine/_default_types
 3766              		.file 3 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/stdint.h"
 3767              		.file 4 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/lib/gcc/arm-none-eabi/4.9.3/include/stddef.h
 3768              		.file 5 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/portable/GCC/cortex-r4/portmacro
 3769              		.file 6 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/task.h"
 3770              		.file 7 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/queue.h"
 3771              		.file 8 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/semphr.h"
 3772              		.file 9 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/event_groups.h"
 3773              		.file 10 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_syncio.h"
 3774              		.file 11 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_i2c.h"
 3775              		.file 12 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_mipi2axi.h"
 3776              		.file 13 "/home/tienluong/workspace/atlantis_fw/platform/common/lcc_system.h"
 3777              		.file 14 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/img_sensor.h"
 3778              		.file 15 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/optical.h"
 3779              		.file 16 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/pwr_ctrl.h"
 3780              		.file 17 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/eeprom.h"
 3781              		.file 18 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/task_af_ctrl.h"
 3782              		.file 19 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/light_system.h"
 3783              		.file 20 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_axi2mipi.h"
 3784              		.file 21 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/usecase_hires.h"
 3785              		.file 22 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/usecase.h"
 3786              		.file 23 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/protobuf-c/pro
 3787              		.file 24 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/camera_id.pb-c
 3788              		.file 25 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/point2i.pb-c.h
 3789              		.file 26 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/point2f.pb-c.h
 3790              		.file 27 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/camera_module.
 3791              		.file 28 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/time_stamp.pb-
 3792              		.file 29 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/matrix3x3f.pb-
 3793              		.file 30 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/point3f.pb-c.h
 3794              		.file 31 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/range2f.pb-c.h
 3795              		.file 32 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/mirror_system.
 3796              		.file 33 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/distortion.pb-
 3797              		.file 34 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/device_temp.pb
 3798              		.file 35 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/geometric_cali
 3799              		.file 36 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/color_calibrat
 3800              		.file 37 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/sensor_charact
 3801              		.file 38 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/matrix4x4f.pb-
 3802              		.file 39 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/vignetting_cha
 3803              		.file 40 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/hot_pixel_map.
 3804              		.file 41 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/dead_pixel_map
 3805              		.file 42 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/tof_calibratio
 3806              		.file 43 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/flash_calibrat
 3807              		.file 44 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/sensor_type.pb
 3808              		.file 45 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/hw_info.pb-c.h
 3809              		.file 46 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/view_preferenc
 3810              		.file 47 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/proximity_sens
 3811              		.file 48 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/imu_data.pb-c.
 3812              		.file 49 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/lightheader.pb
 3813              		.file 50 "/home/tienluong/workspace/atlantis_fw/platform/common/lightheader/include/light_header.h
DEFINED SYMBOLS
                            *ABS*:00000000 usecase_hires.c
     /tmp/cc3X8KJb.s:19     .text.syncio_intr:00000000 $t
     /tmp/cc3X8KJb.s:23     .text.syncio_intr:00000000 syncio_intr
     /tmp/cc3X8KJb.s:41     .text.syncio_intr:0000000c $d
     /tmp/cc3X8KJb.s:46     .text.setup_mipi_tx_snapshot.isra.1.constprop.5:00000000 $t
     /tmp/cc3X8KJb.s:50     .text.setup_mipi_tx_snapshot.isra.1.constprop.5:00000000 setup_mipi_tx_snapshot.isra.1.constprop.5
     /tmp/cc3X8KJb.s:281    .text.setup_mipi_tx_snapshot.isra.1.constprop.5:00000114 $d
     /tmp/cc3X8KJb.s:639    .text.mipi_tx_snapshot_isr:00000000 mipi_tx_snapshot_isr
     /tmp/cc3X8KJb.s:300    .text.min_frame_done:00000000 $t
     /tmp/cc3X8KJb.s:305    .text.min_frame_done:00000000 min_frame_done
     /tmp/cc3X8KJb.s:348    .text.prepare_capture_info:00000000 $t
     /tmp/cc3X8KJb.s:353    .text.prepare_capture_info:00000000 prepare_capture_info
     /tmp/cc3X8KJb.s:567    .text.prepare_capture_info:000000e8 $d
     /tmp/cc3X8KJb.s:583    .text.get_real_tx_ddr_address:00000000 $t
     /tmp/cc3X8KJb.s:588    .text.get_real_tx_ddr_address:00000000 get_real_tx_ddr_address
     /tmp/cc3X8KJb.s:628    .text.get_real_tx_ddr_address:0000001c $d
     /tmp/cc3X8KJb.s:634    .text.mipi_tx_snapshot_isr:00000000 $t
     /tmp/cc3X8KJb.s:893    .text.mipi_tx_snapshot_isr:00000134 $d
     /tmp/cc3X8KJb.s:918    .text.get_real_rx_ddr_address:00000000 $t
     /tmp/cc3X8KJb.s:923    .text.get_real_rx_ddr_address:00000000 get_real_rx_ddr_address
     /tmp/cc3X8KJb.s:969    .text.get_real_rx_ddr_address:00000024 $d
     /tmp/cc3X8KJb.s:975    .text.mipi_rx_snapshot_isr:00000000 $t
     /tmp/cc3X8KJb.s:979    .text.mipi_rx_snapshot_isr:00000000 mipi_rx_snapshot_isr
     /tmp/cc3X8KJb.s:1114   .text.mipi_rx_snapshot_isr:000000ac $d
     /tmp/cc3X8KJb.s:1125   .text.task_populate_header:00000000 $t
     /tmp/cc3X8KJb.s:1130   .text.task_populate_header:00000000 task_populate_header
     /tmp/cc3X8KJb.s:1334   .text.task_populate_header:000000dc $d
     /tmp/cc3X8KJb.s:1352   .text.clear_global_variable:00000000 $t
     /tmp/cc3X8KJb.s:1357   .text.clear_global_variable:00000000 clear_global_variable
     /tmp/cc3X8KJb.s:1490   .text.clear_global_variable:00000090 $d
     /tmp/cc3X8KJb.s:1517   .text.get_capture_group:00000000 $t
     /tmp/cc3X8KJb.s:1522   .text.get_capture_group:00000000 get_capture_group
     /tmp/cc3X8KJb.s:1640   .text.get_capture_group:00000078 $d
     /tmp/cc3X8KJb.s:1647   .text.get_cam_thumbnail:00000000 $t
     /tmp/cc3X8KJb.s:1652   .text.get_cam_thumbnail:00000000 get_cam_thumbnail
     /tmp/cc3X8KJb.s:1745   .text.get_cam_thumbnail:00000050 $d
     /tmp/cc3X8KJb.s:1753   .text.usecase_hires_setup:00000000 $t
     /tmp/cc3X8KJb.s:1758   .text.usecase_hires_setup:00000000 usecase_hires_setup
     /tmp/cc3X8KJb.s:2218   .text.usecase_hires_setup:0000020c $d
     /tmp/cc3X8KJb.s:2250   .text.usecase_hires_setup:00000280 $t
     /tmp/cc3X8KJb.s:2464   .text.usecase_hires_setup:000003a8 $d
     /tmp/cc3X8KJb.s:2487   .text.task_tx_transfer:00000000 $t
     /tmp/cc3X8KJb.s:2492   .text.task_tx_transfer:00000000 task_tx_transfer
     /tmp/cc3X8KJb.s:2913   .text.task_tx_transfer:0000021c $d
     /tmp/cc3X8KJb.s:2954   .text.snapshot_hdl:00000000 $t
     /tmp/cc3X8KJb.s:2959   .text.snapshot_hdl:00000000 snapshot_hdl
     /tmp/cc3X8KJb.s:3306   .text.snapshot_hdl:000001a8 $d
     /tmp/cc3X8KJb.s:3338   .text.cam_capture_syncio_config:00000000 $t
     /tmp/cc3X8KJb.s:3343   .text.cam_capture_syncio_config:00000000 cam_capture_syncio_config
     /tmp/cc3X8KJb.s:3495   .text.cam_capture_syncio_config:000000b0 $d
     /tmp/cc3X8KJb.s:3643   .bss.callback_hdl:00000000 callback_hdl
     /tmp/cc3X8KJb.s:3742   .bss.synio_count:00000000 synio_count
     /tmp/cc3X8KJb.s:3680   .bss.light_header_cnt:00000000 light_header_cnt
     /tmp/cc3X8KJb.s:3699   .bss.snapshot_tx:00000000 snapshot_tx
     /tmp/cc3X8KJb.s:3724   .bss.thumbnail_tx:00000000 thumbnail_tx
     /tmp/cc3X8KJb.s:3656   .bss.priv_data:00000000 priv_data
     /tmp/cc3X8KJb.s:3717   .bss.axi2mipi_tx_bridge:00000000 axi2mipi_tx_bridge
     /tmp/cc3X8KJb.s:3730   .bss.cam_mem_idx:00000000 cam_mem_idx
     /tmp/cc3X8KJb.s:3532   .bss.mipi_rx:00000000 mipi_rx
     /tmp/cc3X8KJb.s:3538   .bss.lh_populate_done:00000000 lh_populate_done
     /tmp/cc3X8KJb.s:3692   .bss.tx_transfer_done:00000000 tx_transfer_done
     /tmp/cc3X8KJb.s:3755   .bss.img_bytes:00000000 img_bytes
     /tmp/cc3X8KJb.s:3533   .bss.mipi_rx:00000000 $d
     /tmp/cc3X8KJb.s:3539   .bss.lh_populate_done:00000000 $d
     /tmp/cc3X8KJb.s:3544   .rodata.__FUNCTION__.10804:00000000 __FUNCTION__.10804
     /tmp/cc3X8KJb.s:3550   .bss.cam_asic_port_mask:00000000 cam_asic_port_mask
     /tmp/cc3X8KJb.s:3551   .bss.cam_asic_port_mask:00000000 $d
     /tmp/cc3X8KJb.s:3556   .bss.tx_ddr_mem_idx:00000000 tx_ddr_mem_idx
     /tmp/cc3X8KJb.s:3557   .bss.tx_ddr_mem_idx:00000000 $d
     /tmp/cc3X8KJb.s:3639   .bss.callback_hdl:00000000 $d
     /tmp/cc3X8KJb.s:3649   .rodata.__FUNCTION__.10957:00000000 __FUNCTION__.10957
     /tmp/cc3X8KJb.s:3652   .bss.priv_data:00000000 $d
     /tmp/cc3X8KJb.s:3662   .bss.mipi_tx_done_flag:00000000 mipi_tx_done_flag
     /tmp/cc3X8KJb.s:3663   .bss.mipi_tx_done_flag:00000000 $d
     /tmp/cc3X8KJb.s:3668   .bss.set_next_addr_flag:00000000 set_next_addr_flag
     /tmp/cc3X8KJb.s:3669   .bss.set_next_addr_flag:00000000 $d
     /tmp/cc3X8KJb.s:3674   .bss.has_cam_thumb:00000000 has_cam_thumb
     /tmp/cc3X8KJb.s:3675   .bss.has_cam_thumb:00000000 $d
     /tmp/cc3X8KJb.s:3681   .bss.light_header_cnt:00000000 $d
     /tmp/cc3X8KJb.s:3686   .bss.mem_idx_rx:00000000 mem_idx_rx
     /tmp/cc3X8KJb.s:3687   .bss.mem_idx_rx:00000000 $d
     /tmp/cc3X8KJb.s:3693   .bss.tx_transfer_done:00000000 $d
     /tmp/cc3X8KJb.s:3695   .bss.snapshot_tx:00000000 $d
     /tmp/cc3X8KJb.s:3705   .bss.mipi_tx_fr_cnt:00000000 mipi_tx_fr_cnt
     /tmp/cc3X8KJb.s:3706   .bss.mipi_tx_fr_cnt:00000000 $d
     /tmp/cc3X8KJb.s:3711   .bss.thumbnail_mem_idx:00000000 thumbnail_mem_idx
     /tmp/cc3X8KJb.s:3712   .bss.thumbnail_mem_idx:00000000 $d
     /tmp/cc3X8KJb.s:3718   .bss.axi2mipi_tx_bridge:00000000 $d
     /tmp/cc3X8KJb.s:3720   .bss.thumbnail_tx:00000000 $d
     /tmp/cc3X8KJb.s:3731   .bss.cam_mem_idx:00000000 $d
     /tmp/cc3X8KJb.s:3736   .bss.num_of_frame:00000000 num_of_frame
     /tmp/cc3X8KJb.s:3737   .bss.num_of_frame:00000000 $d
     /tmp/cc3X8KJb.s:3743   .bss.synio_count:00000000 $d
     /tmp/cc3X8KJb.s:3748   .bss.cam_total:00000000 cam_total
     /tmp/cc3X8KJb.s:3749   .bss.cam_total:00000000 $d
     /tmp/cc3X8KJb.s:3751   .bss.img_bytes:00000000 $d
     /tmp/cc3X8KJb.s:3761   .bss.cam_thumb_mem_idx:00000000 cam_thumb_mem_idx
     /tmp/cc3X8KJb.s:3762   .bss.cam_thumb_mem_idx:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
hal_axi2mipi_set_stream_property
hal_axi2mipi_irq_mask
hal_axi2mipi_irq_enable
hal_axi2mipi_programming_valid
hal_axi2mipi_set_frame_mode
slogf
alloc_init_light_header
get_light_header
ltpb__light_header__pack
free_mem_light_header
flush_cache
xEventGroupSetBitsFromISR
ulPortYieldRequired
xEventGroupWaitBits
xEventGroupSetBits
vTaskDelete
memset
vEventGroupDelete
xEventGroupCreate
light_system
idx_to_object
img_sensor_read_reg
hal_mipi2axi_init
hal_mipi2axi_set_stream_property
hal_mipi2axi_irq_enable
hal_mipi2axi_start
hal_axi2mipi_init
hal_mipi2axi_frame_control_cfg
hal_mipi2axi_wrap_cfg
hal_mipi2axi_irq_mask
hal_axi2mipi_start
vTaskDelay
hal_syncio_disable
__aeabi_dmul
__aeabi_d2uiz
__aeabi_dadd
hal_syncio_init
hal_syncio_config
hal_syncio_enable_irq
hal_syncio_enable
