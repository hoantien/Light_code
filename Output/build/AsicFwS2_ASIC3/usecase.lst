   1              		.syntax unified
   2              		.cpu cortex-r4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"usecase.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.snapshot_complete_callback,"ax",%progbits
  19              		.align	1
  20              		.thumb
  21              		.thumb_func
  23              	snapshot_complete_callback:
  24              	.LFB4:
  25              		.file 1 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c"
   1:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** /*******************************************************************************
   2:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * Copyright (c) 2016, The LightCo
   3:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * All rights reserved.
   4:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * Redistribution and use in source and binary forms, with or without
   5:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * modification,are strictly prohibited without prior permission of The LightCo.
   6:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * @file    usecase.h
   7:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * @author  The LightCo
   8:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * @version V1.0.0
   9:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * @date    Jul-13-2016
  10:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  * @brief   This file contain the real implementation for each UCID handler.
  11:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  *
  12:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****  ******************************************************************************/
  13:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "cortex_r4.h"
  14:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "std_type.h"
  15:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "assert.h"
  16:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "ar1335.h"
  17:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "hal_axi2mipi.h"
  18:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "hal_mipi2axi.h"
  19:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "hal_syncio.h"
  20:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "hal_pwm.h"
  21:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "timer.h"
  22:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "log.h"
  23:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "light_system.h"
  24:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "task_cam_ctrl.h"
  25:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "usecase.h"
  26:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "usecase_hires.h"
  27:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #include "light_header.h"
  28:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  29:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define SHIFT_TO_BIT14			14
  30:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define SHIFT_TO_BIT12			12
  31:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define SCU_SOFT_RESET_REG		0x40
  32:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define ISR_SELECT_ALL			(uint32_t)(0xFFFFFFFF)
  33:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  34:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define SLOGF_ID				SLOG_ID_LCC_CMD_BASE_0000
  35:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define SPG_TO_IT				(SPG_SECOND / (2 * MHZ_TO_HZ))
  36:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  37:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define VC_ID_MASK		0x0f
  38:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define CSI_MASK		0xf0
  39:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  40:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define LLPCLK_GRP_AB_RATE				((float)(70 / 28))
  41:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define LLPCLK_GRP_BC_RATE				((float)(150 / 70))
  42:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define LLPCLK_GRP_C_RATE				1
  43:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #define LLPCLK_GRP_RATE_DEFAULT			1
  44:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  45:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** extern void task_tx_transfer(void *params);
  46:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** extern volatile uint8_t tx_transfer_done;
  47:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** extern volatile uint8_t lh_populate_done;
  48:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #if (ASIC_NUM == ASIC1)
  49:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** extern TaskHandle_t task_asic_read_handle;
  50:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
  51:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  52:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** unsigned int prev_tick = 0;
  53:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** SemaphoreHandle_t preview_sem = NULL;
  54:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** uint8_t tx_end_flag = 0; /* TX0 - BIT[0-3]: VC0 - VC3; TX1 - BIT[4-7]: VC0 - VC3; */
  55:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** uint8_t rx_end_flag = 0; /* RX0: BIT0, RX1: BIT1...RX5: BIT 5 */
  56:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** uint32_t cur_counter = 0;
  57:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** unsigned int frame_count = 0;
  58:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** /* Exposure change */
  59:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** hal_syncio_cfg_t g_spg_cfg;
  60:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** uint8_t reconfig_syncio;
  61:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** /* I2C speed change */
  62:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef EVT3_REWORK
  63:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** float i2c_write_delay_sec_asic1 = I2C_WRITE_DELAY_SEC_ASIC1_400KHZ;
  64:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** float i2c_write_delay_sec_asic23 = I2C_WRITE_DELAY_SEC_ASIC23_400KHZ;
  65:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #else
  66:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** float i2c_write_delay_sec_asic1 = I2C_WRITE_DELAY_SEC_ASIC1_100KHZ;
  67:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** float i2c_write_delay_sec_asic23 = I2C_WRITE_DELAY_SEC_ASIC23_100KHZ;
  68:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
  69:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** uint8_t config_llpclk(capt_grp_t cam_group, float *rate_out, uint8_t *grp_change_llpclk);
  70:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  71:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void snapshot_timer_irq(void *param)
  72:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
  73:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  74:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	snapshot_timer_data_t *timer_data = (snapshot_timer_data_t *)param;
  75:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(timer_data)
  76:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timer_data->irq_cnt ++;
  78:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		snapshot_info_t **sinfo = timer_data->sinfo;
  79:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		for(int i = 0; i < timer_data->sinfo_cnt; i++)
  80:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
  81:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(sinfo[i]->inused && timer_data->irq_cnt >= sinfo[i]->offset)
  82:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
  83:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				sinfo[i]->inused = 0;
  84:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				BaseType_t woken;
  85:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				if(pdFAIL != xEventGroupSetBitsFromISR(timer_data->evenhdl,
  86:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											(1 << sinfo[i]->cam_idx), &woken))
  87:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
  88:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					portYIELD_FROM_ISR(woken);
  89:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				}
  90:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
  91:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
  92:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
  93:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
  94:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
  95:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** int wait_trigger(hal_syncio_channel_t ch)
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
  97:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	volatile uint32_t timeout = 1000000;
  98:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t cnt = hal_syncio_get_counter(ch);
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	while(!cnt && timeout)
 100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cnt = hal_syncio_get_counter(ch);
 102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timeout--;
 103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(timeout <= 0)
 105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		return 0;
 107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "The counter is: 0x%x ", cnt);
 109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return 1;
 110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void stop_mipi_for_cam(uint8_t cam_ch, uint8_t vc, uint8_t tx_ch)
 113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(!preview_sem)
 115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		preview_sem = xSemaphoreCreateMutex();
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	xSemaphoreTake(preview_sem, portMAX_DELAY);
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	tx_end_flag |= ((1 << vc) << (tx_ch * 4));
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	rx_end_flag |= (1 << cam_ch);
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "RX end mask 0x%x", rx_end_flag);
 120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	xSemaphoreGive(preview_sem);
 121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void snapshot_complete_callback(void)
 124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
  26              		.loc 1 124 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31 0000 7047     		bx	lr
  32              		.cfi_endproc
  33              	.LFE4:
  35              		.section	.text.syncio_pulse_interrupt,"ax",%progbits
  36              		.align	1
  37              		.thumb
  38              		.thumb_func
  40              	syncio_pulse_interrupt:
  41              	.LFB19:
 125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****     // printf("\r\nSNAPSHOT COMPLETED CALLBACK\r\n");
 126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void tx_cb(axi2mipi_channel_t channel, axi2mipi_isr_flag_t detail,  void *user_data)
 129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	unsigned int tick = xTaskGetTickCountFromISR();
 132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(detail & 0xFFFF0000)
 134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		printf("\r\nTX error: 0x%x\r\n", detail);
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_irq_disable(channel);
 137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t force_stop = 0;
 139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_end_shift = 0;
 140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(AXI2MIPI_BRIDGE_0 == channel)
 141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		force_stop = tx_end_flag & 0xF & detail;
 143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_shift = 0;
 144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	else
 146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		force_stop = (tx_end_flag >> 4) & 0xF & detail;
 148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_shift = 4;
 149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(detail & FS_INT_FIFO_A)
 151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		unsigned int tick = xTaskGetTickCountFromISR();
 154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		printf("\r\nTX SOF [ts: %d]\r\n", tick);
 155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		printf("\r\nFrame time: %d, Frame cnt: %d\r\n", (tick - prev_tick), frame_count);
 156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		prev_tick = tick;
 157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(detail & FE_INT_FIFO_A)
 160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		printf("\r\nTX EOF [ts: %d]\r\n", tick);
 163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(force_stop & FE_INT_FIFO_A)
 166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* printf("\r\nTX%d FIFO A stopped\r\n", channel); */
 168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_flag &= ~(FE_INT_FIFO_A << tx_end_shift);
 169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(force_stop & FE_INT_FIFO_B)
 171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* printf("\r\nTX%d FIFO B stopped\r\n", channel); */
 173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_flag &= ~(FE_INT_FIFO_B << tx_end_shift);
 174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(force_stop & FE_INT_FIFO_C)
 176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* printf("\r\nTX%d FIFO C stopped\r\n", channel); */
 178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_flag &= ~(FE_INT_FIFO_C << tx_end_shift);
 179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(force_stop & FE_INT_FIFO_D)
 181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* printf("\r\nTX%d FIFO D stopped\r\n", channel); */
 183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_flag &= ~(FE_INT_FIFO_D << tx_end_shift);
 184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 186:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void rx_cb(uint8_t iidx,	uint32_t detail, uint32_t error_irq_detail, void *user_data)
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	unsigned int tick = xTaskGetTickCountFromISR();
 191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(detail & R1_VC0_FRAME_START)
 192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		printf("\r\nRX SOF [ts: %d]\r\n", tick);
 194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(detail & R1_VC0_FRAME_END)
 197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		unsigned int tick = xTaskGetTickCountFromISR();
 200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		printf("\r\nRX EOF [ts: %d]\r\n", tick);
 201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		frame_count++;
 202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(rx_end_flag & (1 << iidx))
 204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			xSemaphoreTakeFromISR(preview_sem, NULL);
 206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			rx_end_flag &= ~(uint8_t)(1 << iidx);
 207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_syncio_disable(iidx);
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			xSemaphoreGiveFromISR(preview_sem, NULL);
 209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 211:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 213:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(error_irq_detail)
 214:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		printf("\r\nRX Error: %d\r\n", (unsigned int)error_irq_detail);
 215:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 216:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 217:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 218:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void setup_mipi_rx_preview(cam_typedef_t *pcam,
 219:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				streaming_csi_t preview_csi, uint16_t width, uint16_t height)
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_fifo = pcam->settings->stream[1];
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 223:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_init(preview_ins);
 225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(preview_csi == CSI_0)
 226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_mipi2axi_set_tx_base_addr(preview_ins, TXS0_BASE);
 227:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	else
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_mipi2axi_set_tx_base_addr(preview_ins, TXS1_BASE);
 229:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 230:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property_t mipi2axi_property;
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.vc_option				= MIPI2AXI_VC0_CH;
 232:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.dst_addr			= tx_fifo << 30;
 233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.alu_src_addr		= 0;
 234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.vc_will_captured	= MIPI2AXI_VC0_CH;
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.data_type	= MIPI2AXI_RAW10;
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.height	= height;
 237:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.width	= width;
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.stream_mode		= MIPI2AXI_PREVIEW_MODE;
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_set_stream_property(preview_ins, &mipi2axi_property);
 240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_wrap_cfg(preview_ins, MIPI2AXI_VC0_CH, height, DISABLE);
 241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_frame_control_cfg(preview_ins, MIPI2AXI_VC0_CH, 0, DISABLE);
 242:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_irq_mask(
 243:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_ins,
 244:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			MIPI2AXI_SIGNAL_MASK_INTR,
 245:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			R1_VC0_FRAME_START | R1_VC0_FRAME_END,
 246:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			ENABLE);
 247:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_irq_enable(preview_ins, rx_cb, NULL);
 249:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_start(preview_ins);
 250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 251:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 252:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void setup_mipi_rx_snapshot(cam_typedef_t *pcam,
 253:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				streaming_csi_t preview_csi, uint16_t width, uint16_t height)
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 256:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t dst_addr = 0x03400000;
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_init(preview_ins);
 258:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property_t mipi2axi_property;
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.vc_option				= MIPI2AXI_VC0_CH;
 260:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.dst_addr			= dst_addr;
 261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.alu_src_addr		= 0;
 262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.vc_will_captured	= MIPI2AXI_VC0_CH;
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.data_type	= MIPI2AXI_RAW10;
 264:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.height	= height;
 265:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.width	= width;
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.stream_mode		= MIPI2AXI_SNAPSHOT_MODE;
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_set_stream_property(preview_ins, &mipi2axi_property);
 268:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_wrap_cfg(preview_ins, MIPI2AXI_VC0_CH, 10, ENABLE);
 269:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_irq_mask(
 271:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_ins,
 272:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			MIPI2AXI_SIGNAL_MASK_INTR,
 273:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			R1_VC0_FRAME_START | R1_VC0_FRAME_END,
 274:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			ENABLE);
 275:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 276:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_irq_enable(preview_ins, rx_cb, NULL);
 277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_start(preview_ins);
 278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 279:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static uint8_t stream_vc_to_tx_ff(uint8_t vc)
 280:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 281:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t ffa = AXI2MIPI_FIFO_A;
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return (ffa << vc);
 283:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 284:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 285:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void syncio_preview_interrupt(hal_syncio_channel_t chid,
 286:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											hal_syncio_irq_mode_t irq_status)
 287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(reconfig_syncio)
 289:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 290:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		reconfig_syncio = FALSE;
 291:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/*printf("\r\nEXPOSURE CHANGE [%d]:\r\n",(int)chid);*/
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_disable(chid);
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_config(chid, &g_spg_cfg);
 294:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_enable(chid);
 295:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_trigger();
 296:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 297:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 298:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void setup_spg_preview(cam_typedef_t *pcam, int ispreview, int numpulse)
 300:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 301:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* The camera channel run from [1-6]
 302:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 * We need to remap to find the RX channel
 303:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 */
 304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t rx_ins = pcam->info.ch - 1;
 305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t llpclk = (uint32_t)img_sensor_read_reg(pcam->image,
 306:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t fll = (uint32_t)img_sensor_read_reg(pcam->image,
 308:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											FLL_CAM_REG, TWO_BYTES);
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t vtpixclk = (uint32_t)img_sensor_get_vt_pix_clk_mhz(pcam->image);
 310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "LLPCLK: 0x%x, FLL: 0x%x, VTPIXCLK: %d \r\n",
 311:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 									(int)llpclk, (int)fll, (int)vtpixclk);
 312:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_cfg_t spg_cfg;
 313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.inf_mode = ispreview ? SG_INF_EN : SG_INF_DIS;
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.repeat = numpulse;
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.trig_mode = SG_TRIG_SW;
 316:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.lat1 = 0;
 317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.width1 = 0;
 318:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.width2 = 1 * SPG_MILISECOND;
 319:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* 1usec for buffer and subtract with pulse width */
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.lat2 = (uint32_t)((SPG_TO_IT * llpclk * (fll)) / vtpixclk);
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****     spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG latency: %d", spg_cfg.lat2);
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG : %d", (unsigned int)((llpclk * fll) / (vtpixclk * 2)));
 324:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	reconfig_syncio = FALSE;
 326:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_irq_t intr;
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.irq_modes = SG_INTR_FALLING_EDGE;
 328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.callback_handler = syncio_preview_interrupt;
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable_irq(rx_ins, &intr);
 330:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 331:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_config(rx_ins, &spg_cfg);
 332:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable(rx_ins);
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 334:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 335:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void reconfig_spg_for_previewing_sensor(cam_typedef_t *pcam)
 336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 337:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 338:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t llpclk = (uint32_t)img_sensor_read_reg(pcam->image,
 340:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t fll = (uint32_t)img_sensor_read_reg(pcam->image,
 342:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					FLL_CAM_REG, TWO_BYTES);
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t vtpixclk = (uint32_t)img_sensor_get_vt_pix_clk_mhz(pcam->image);
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(
 345:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOG_DEBUG,
 346:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			"llpclk: 0x%x, fll: 0x%x, vtpixclk: 0x%x",
 347:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			llpclk,
 348:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			fll,
 349:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vtpixclk);
 350:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.inf_mode = SG_INF_EN;
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.repeat = 1;
 353:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.trig_mode = SG_TRIG_SW;
 354:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	spg_cfg.width1 = 1 * SPG_MICROSECOND;
 355:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	spg_cfg.lat1 = (uint32_t)((SPG_TO_IT * llpclk * (fll + 1)) / vtpixclk);
 356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.width1 = 0;
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat1 = 0;
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.width2 = 1 * SPG_MILISECOND;
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat2 = (uint32_t)((SPG_TO_IT * llpclk * (fll)) / vtpixclk);
 360:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 361:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 362:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	spg_cfg.lat2 = spg_cfg.lat2 - 2*SPG_MILISECOND;
 363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	double ft = (llpclk * fll * 1.0)/(2 * vtpixclk * MHZ_TO_HZ);
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_INFO, "Frame time: %.04f", (float)ft);
 365:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG latency: %d", g_spg_cfg.lat2);
 366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	reconfig_syncio = TRUE;
 367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 368:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 369:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void ucid_debug_hdl(void)
 370:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 371:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 372:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 373:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void tx_fix_pattern(uint32_t mbitmask, uint8_t mnumber)
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 375:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 376:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t cam_idx;
 377:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cam_typedef_t *pcam = NULL;
 378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_ff_mask[2] = {0};
 379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	axi2mipi_isr_flag_t tx_intr[2] = {0};
 380:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 381:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_csi;
 382:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint16_t img_width = 0;
 383:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint16_t img_height = 0;
 384:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t tmp_bitmask = mbitmask;
 385:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t read_src_addr = 0x03400000;
 386:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "Starting fix pattern");
 388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_1);
 390:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = 0; i < mnumber; i++)
 392:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cam_idx = __builtin_ctz(tmp_bitmask);
 394:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(cam_idx == 0)
 395:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tmp_bitmask &= ~(1 << cam_idx);
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		pcam = idx_to_object(cam_idx);
 398:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(pcam)
 399:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 400:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_vc = pcam->settings->stream[1];
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & 0xF0) >> 4;
 402:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 403:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi != CSI_0 && preview_csi != CSI_1)
 404:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				SLOGF(SLOG_ERROR, "Not support CSI[%d]", (int)preview_csi);
 406:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 407:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 408:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 409:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_vc < VC0_FOR_FIFO || preview_vc > VC3_FOR_FIFO)
 410:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				SLOGF(SLOG_ERROR, "Not support VC[%d]", (int )preview_vc);
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 413:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 414:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 415:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*TODO: Read from resolution setting will be faster*/
 416:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_width = img_sensor_read_reg(pcam->image,
 417:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_height = img_sensor_read_reg(pcam->image,
 419:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 420:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_width = 320;
 421:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_height = 240;
 422:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			uint8_t tx_ff = stream_vc_to_tx_ff(preview_vc);
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi == CSI_0)
 424:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 425:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_ff_mask[0] |= tx_ff;
 426:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[0] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[0] |= 0xFFFFFFFF;
 428:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 429:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			else
 430:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 431:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_ff_mask[1] |= tx_ff;
 432:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[1] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[1] |= 0xFFFFFFFF;
 434:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 435:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property_t axi2mipi_property;
 436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.fifo_x = tx_ff;
 437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.rx_dt = AXI2MIPI_RAW10;
 438:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.pack = AXI2MIPI_PACKED_DATA;
 440:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 441:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.width = img_width;
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.height = img_height;
 443:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.src_addr = read_src_addr;
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW CSI: %x ", preview_csi);
 445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 446:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW VC: %x ", preview_vc);
 447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE WIDTH: %x ", img_width);
 448:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE HEIGHT: %x ", img_height);
 449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Source address: %x ", read_src_addr);
 450:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.stream_mode = AXI2MIPI_SNAPSHOT_MODE;
 452:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.vc_for_ff = preview_vc;
 453:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.wrap.wrap_en = DISABLE;
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_set_stream_property(preview_csi - 1, &axi2mipi_property);
 455:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 456:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 457:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(tx_ff_mask[0] || tx_ff_mask[1])
 458:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 459:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], NONE_CONTINUOUS);
 460:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], FRAME_CONTINUOUS);
 461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], ENABLE);
 462:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], ENABLE);
 463:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 464:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_ff_mask[0])
 465:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_mask(AXI2MIPI_BRIDGE_0, tx_intr[0], ENABLE);
 467:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_0, tx_cb, NULL);
 468:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);
 470:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_ff_mask[1])
 472:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 473:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_mask(AXI2MIPI_BRIDGE_1, tx_intr[1], ENABLE);
 474:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_1, tx_cb, NULL);
 475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_1, tx_ff_mask[1]);
 476:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_DEBUG, "Start writing...\r\n");
 478:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 479:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 480:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void ucid_preview_hdl_snapshot(uint32_t mbitmask, uint8_t mnumber)
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 482:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 483:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t cam_idx;
 484:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cam_typedef_t *pcam = NULL;
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_ff_mask[2] = {0};
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	axi2mipi_isr_flag_t tx_intr[2] = {0};
 487:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 488:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_csi;
 489:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint16_t img_width = 0;
 490:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint16_t img_height = 0;
 491:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t tmp_bitmask = mbitmask;
 492:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "Starting preview UCID");
 493:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 494:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	hal_axi2mipi_init(AXI2MIPI_BRIDGE_1);
 495:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = 0; i < mnumber; i++)
 497:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 498:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cam_idx = __builtin_ctz(tmp_bitmask);
 499:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(cam_idx == 0)
 500:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 501:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tmp_bitmask &= ~(1 << cam_idx);
 502:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		pcam = idx_to_object(cam_idx);
 503:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(pcam)
 504:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 505:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_config_mode(pcam->image, SLAVE_MODE);
 506:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_pattern_mode(pcam->image, PAT_COLOR_BAR);
 507:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_vc = pcam->settings->stream[1] & VC_ID_MASK;
 509:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & CSI_MASK) >> 4;
 510:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 511:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi != CSI_0 && preview_csi != CSI_1)
 512:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 513:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				SLOGF(SLOG_ERROR, "Not support CSI[%d]", (int)preview_csi);
 514:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 515:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 516:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 517:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_vc < VC0_FOR_FIFO || preview_vc > VC3_FOR_FIFO)
 518:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 519:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				SLOGF(SLOG_ERROR, "Not support VC[%d]", (int )preview_vc);
 520:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 521:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 522:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 523:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*TODO: Read from resolution setting will be faster*/
 524:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 525:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_width = img_sensor_read_reg(pcam->image,
 526:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_height = img_sensor_read_reg(pcam->image,
 528:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 529:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			setup_spg_preview(pcam, 0, 1);
 531:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			setup_mipi_rx_snapshot(pcam, preview_csi, img_width, img_height);
 532:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			uint8_t tx_ff = stream_vc_to_tx_ff(preview_vc);
 533:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi == CSI_0)
 534:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 535:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_ff_mask[0] |= tx_ff;
 536:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[0] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 537:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[0] |= 0xFFFFFFFF;
 538:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 539:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			else
 540:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 541:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_ff_mask[1] |= tx_ff;
 542:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[1] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 543:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[1] |= 0xFFFFFFFF;
 544:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 545:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property_t axi2mipi_property;
 546:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.fifo_x = tx_ff;
 547:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.rx_dt = AXI2MIPI_RAW10;
 548:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 549:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.pack = AXI2MIPI_UNPACKED_DATA;
 550:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 551:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.width = img_width;
 552:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.height = img_height;
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW CSI: %x ", preview_csi);
 554:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 555:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW VC: %x ", preview_vc);
 556:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE WIDTH: %x ", img_width);
 557:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE HEIGHT: %x ", img_height);
 558:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi == CSI_0)
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				axi2mipi_property.src_addr = TXS0_BASE;
 560:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			else
 561:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				axi2mipi_property.src_addr = TXS1_BASE;
 562:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.stream_mode = AXI2MIPI_PREVIEW_MODE;
 563:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.vc_for_ff = preview_vc;
 564:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.wrap.wrap_en = DISABLE;
 565:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_set_stream_property(preview_csi - 1, &axi2mipi_property);
 566:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 567:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 568:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(tx_ff_mask[0] || tx_ff_mask[1])
 569:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 570:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], FRAME_CONTINUOUS);
 571:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], FRAME_CONTINUOUS);
 572:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], ENABLE);
 573:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], ENABLE);
 574:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 575:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_ff_mask[0])
 576:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 577:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_mask(AXI2MIPI_BRIDGE_0, tx_intr[0], ENABLE);
 578:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_0, tx_cb, NULL);
 579:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);*/
 580:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_ff_mask[1])
 582:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 583:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_mask(AXI2MIPI_BRIDGE_1, tx_intr[1], ENABLE);
 584:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_1, tx_cb, NULL);
 585:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*hal_axi2mipi_start(AXI2MIPI_BRIDGE_1, tx_ff_mask[1]);*/
 586:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 587:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* Stream on in slave mode */
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		for(i = 0; i < mnumber; i++)
 589:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 590:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_idx = __builtin_ctz(mbitmask);
 591:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(cam_idx == 0)
 592:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				break;
 593:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			mbitmask &= ~(1 << cam_idx);
 594:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			pcam = idx_to_object(cam_idx);
 595:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(pcam)
 596:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 597:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				img_sensor_stream_on(pcam->image, SLAVE_MODE);
 598:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				/* Update the cam status */
 599:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				uint32_t *cam_status = (uint32_t *) pcam->settings->status;
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				*cam_status |= S_MODULE_STREAM_ON;
 601:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 602:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 603:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_DEBUG, "Preview started");
 604:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_trigger();
 605:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 606:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 607:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** lcc_cmd_status_t ucid_preview_hdl(uint32_t mbitmask, uint8_t mnumber)
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 609:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 610:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t cam_idx;
 611:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cam_typedef_t *pcam = NULL;
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_ff_mask[2] = {0};
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	axi2mipi_isr_flag_t tx_intr[2] = {0};
 614:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 615:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_csi;
 616:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint16_t img_width = 0;
 617:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint16_t img_height = 0;
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t tmp_bitmask = mbitmask & light_system->m_filter;
 619:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t num_of_preview = 0;
 620:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	lcc_cmd_status_t cmd_status = LCC_CMD_SUCCESS;
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "Starting preview UCID");
 622:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 623:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Reset MIPI TX */
 624:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi_tx_reset(AXI2MIPI_BRIDGE_0);
 625:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* mipi_tx_reset(AXI2MIPI_BRIDGE_1); */
 626:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 627:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Initializing MIPI */
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_1);
 630:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = 0; i < mnumber; i++)
 632:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cam_idx = __builtin_ctz(tmp_bitmask);
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(cam_idx == 0)
 635:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 636:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tmp_bitmask &= ~(1 << cam_idx);
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		pcam = idx_to_object(cam_idx);
 638:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(pcam)
 639:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 640:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_reset_trigger(pcam->image);
 641:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****             /*img_sensor_config_mode(pcam->image, I2C_MODE);*/
 642:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_config_mode(pcam->image, SLAVE_MODE);
 643:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*img_sensor_pattern_mode(pcam->image, PAT_COLOR_BAR);*/
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_vc = pcam->settings->stream[1];
 645:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & 0xF0) >> 4;
 646:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 647:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi != CSI_0 && preview_csi != CSI_1)
 648:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 649:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				SLOGF(SLOG_ERROR, "Not support CSI[%d]", (int)preview_csi);
 650:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				cmd_status = LCC_CMD_UNSUCCESS;
 651:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				goto release_resource;
 652:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 653:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 654:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_vc < VC0_FOR_FIFO || preview_vc > VC3_FOR_FIFO)
 655:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 656:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				SLOGF(SLOG_ERROR, "Not support VC[%d]", (int )preview_vc);
 657:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				cmd_status = LCC_CMD_UNSUCCESS;
 658:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				goto release_resource;
 659:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 660:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 661:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_resolution(pcam);
 662:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_fps(pcam);
 663:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_sensitivity(pcam);
 664:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_exposure(pcam);
 665:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 666:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****             /* Flip the image as necessary here */
 667:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****             /* If the pixel order is not zero, flip it */
 668:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****            img_sensor_flip_preview(pcam->image, pcam->image->flip);
 669:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 670:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*TODO: Read from resolution setting will be faster*/
 671:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_width = img_sensor_read_reg(pcam->image,
 672:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 673:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_height = img_sensor_read_reg(pcam->image,
 674:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 675:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_INFO, "Preview resolution %dx%d for CAM-%X",
 676:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 									img_width, img_height, pcam->info.module);
 677:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			setup_spg_preview(pcam, 1, 1);
 678:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			setup_mipi_rx_preview(pcam, preview_csi, img_width, img_height);
 679:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 680:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 681:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			uint8_t tx_ff = stream_vc_to_tx_ff(preview_vc);
 682:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi == CSI_0)
 683:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 684:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_ff_mask[0] |= tx_ff;
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[0] |= 0xFFFFFFFF;
 686:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 687:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			else
 688:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 689:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_ff_mask[1] |= tx_ff;
 690:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[1] |= 0xFFFFFFFF;
 691:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 692:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property_t axi2mipi_property;
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.fifo_x = tx_ff;
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.rx_dt = AXI2MIPI_RAW10;
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 696:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.pack = AXI2MIPI_UNPACKED_DATA;
 697:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 698:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.width = img_width;
 699:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.height = img_height;
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW CSI    : %x ", preview_csi);
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW TX FIFO: %x ", tx_ff);
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW TX VC  : %x ", preview_vc);
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE WIDTH    : %x ", img_width);
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE HEIGHT   : %x ", img_height);
 705:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi == CSI_0)
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				axi2mipi_property.src_addr = TXS0_BASE;
 707:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			else
 708:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				axi2mipi_property.src_addr = TXS1_BASE;
 709:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.stream_mode = AXI2MIPI_PREVIEW_MODE;
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.vc_for_ff = preview_vc;
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.wrap.wrap_en = DISABLE;
 712:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 713:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_set_stream_property(preview_csi - 1, &axi2mipi_property);
 714:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			num_of_preview++;
 716:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 717:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(tx_ff_mask[0] || tx_ff_mask[1])
 719:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], ENABLE);
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], ENABLE);
 722:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], FRAME_CONTINUOUS);
 723:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], FRAME_CONTINUOUS);
 724:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_ff_mask[0])
 725:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 726:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_mask(AXI2MIPI_BRIDGE_0, tx_intr[0], ENABLE);
 727:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_0, tx_cb, NULL);
 728:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);
 729:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*hal_mipi2axi_start(0);*/
 730:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 731:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_ff_mask[1])
 732:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 733:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_mask(AXI2MIPI_BRIDGE_1, tx_intr[1], ENABLE);
 734:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_1, tx_cb, NULL);
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_1, tx_ff_mask[1]);
 736:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 737:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* Stream on in slave mode */
 738:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		for(i = 0; i < mnumber; i++)
 739:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 740:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_idx = __builtin_ctz(mbitmask);
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(cam_idx == 0)
 742:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				break;
 743:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			mbitmask &= ~(1 << cam_idx);
 744:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			pcam = idx_to_object(cam_idx);
 745:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(pcam)
 746:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 747:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				if(num_of_preview > 1)
 748:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
 749:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					pcam->image->old_llpclk = img_sensor_read_reg(pcam->image,
 750:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 751:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					uint32_t new_llpclk = pcam->image->old_llpclk * num_of_preview;
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					if(new_llpclk > MAX_SENSOR_REG_VAL)
 753:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					{
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						SLOGF(SLOG_ERROR, "Not support previewing %d cameras",
 755:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 																num_of_preview);
 756:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						cmd_status = LCC_CMD_UNSUCCESS;
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						goto release_resource;
 758:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					}
 759:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					SLOGF(SLOG_DEBUG, "New LLPCLK [0x%x] for multiple preview", (int)new_llpclk);
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					img_sensor_write_reg(pcam->image, LINE_LENGTH_PCLK_CAM_REG,
 761:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 														new_llpclk, TWO_BYTES);
 762:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				}
 763:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				/*img_sensor_stream_on(pcam->image, I2C_MODE);*/
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				img_sensor_stream_on(pcam->image, SLAVE_MODE);
 765:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 766:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				/* Update the cam status */
 767:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				uint32_t *cam_status = (uint32_t *) pcam->settings->status;
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				*cam_status |= S_MODULE_STREAM_ON;
 769:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 770:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 771:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_DEBUG, "Preview started");
 772:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_trigger();
 773:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 774:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** release_resource:
 775:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return cmd_status;
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 777:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 778:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** uint8_t check_ddr(void)
 779:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 780:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t start_addr, end_addr, read_back, i;
 781:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t ret = 0;
 782:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	start_addr = DDR_BASE;
 783:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	end_addr = DDR_BASE + 0x10000;
 784:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = start_addr; i <= end_addr; i += 4)
 786:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		writel(i, (uint32_t)0x11223344);
 788:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		read_back = readl(i);
 789:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 790:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(read_back != (uint32_t)(0x11223344))
 791:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 792:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			ret = 1;
 793:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 794:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 795:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 796:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(ret)
 797:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 798:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_ERROR, "TEST DDR FAILT");
 799:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 800:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	else
 801:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 802:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_INFO, "TEST DDR DONE!!!");
 803:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 804:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return ret;
 805:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 806:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 807:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void update_it_tolerance(snapshot_info_t *sinfo, uint8_t idx, uint8_t total)
 808:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 809:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t offset = 0;
 810:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	sinfo->it_tolerance = 0;
 811:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #if (ASIC_NUM == ASIC1)
 812:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	offset = (total - idx - 1);
 813:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	sinfo->it_tolerance -= (offset * 1.0 * i2c_write_delay_sec_asic1);
 814:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #else
 815:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	offset = (idx + 1);
 816:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	sinfo->it_tolerance += (offset * 1.0 * i2c_write_delay_sec_asic23);
 817:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_INFO, "CAM-%X has tolerance %.06f",
 819:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						sinfo->pcam->info.module, (float)sinfo->it_tolerance);
 820:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 821:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void syncio_pulse_interrupt(hal_syncio_channel_t chid,
 822:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											hal_syncio_irq_mode_t irq_status)
 823:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
  42              		.loc 1 823 0
  43              		.cfi_startproc
  44              		@ args = 0, pretend = 0, frame = 0
  45              		@ frame_needed = 0, uses_anonymous_args = 0
  46              		@ link register save eliminated.
  47              	.LVL0:
 824:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cur_counter++;
  48              		.loc 1 824 0
  49 0000 024A     		ldr	r2, .L3
  50 0002 1368     		ldr	r3, [r2]
  51 0004 0133     		adds	r3, r3, #1
  52 0006 1360     		str	r3, [r2]
  53 0008 7047     		bx	lr
  54              	.L4:
  55 000a 00BF     		.align	2
  56              	.L3:
  57 000c 00000000 		.word	.LANCHOR0
  58              		.cfi_endproc
  59              	.LFE19:
  61              		.section	.text.tx_cb,"ax",%progbits
  62              		.align	1
  63              		.thumb
  64              		.thumb_func
  66              	tx_cb:
  67              	.LFB5:
 129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
  68              		.loc 1 129 0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              	.LVL1:
  73 0000 38B5     		push	{r3, r4, r5, lr}
  74              	.LCFI0:
  75              		.cfi_def_cfa_offset 16
  76              		.cfi_offset 3, -16
  77              		.cfi_offset 4, -12
  78              		.cfi_offset 5, -8
  79              		.cfi_offset 14, -4
 133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
  80              		.loc 1 133 0
  81 0002 0B0C     		lsrs	r3, r1, #16
 129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
  82              		.loc 1 129 0
  83 0004 0546     		mov	r5, r0
  84 0006 0C46     		mov	r4, r1
 133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
  85              		.loc 1 133 0
  86 0008 1B04     		lsls	r3, r3, #16
  87 000a 2BB1     		cbz	r3, .L6
 135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_irq_disable(channel);
  88              		.loc 1 135 0
  89 000c 1A4B     		ldr	r3, .L29
  90 000e 1B48     		ldr	r0, .L29+4
  91              	.LVL2:
  92 0010 9847     		blx	r3
  93              	.LVL3:
 136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
  94              		.loc 1 136 0
  95 0012 2846     		mov	r0, r5
  96 0014 1A4B     		ldr	r3, .L29+8
  97 0016 9847     		blx	r3
  98              	.LVL4:
  99              	.L6:
 100 0018 1A4B     		ldr	r3, .L29+12
 101 001a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 102              		.loc 1 140 0
 103 001c 25B9     		cbnz	r5, .L7
 104 001e 01F00F01 		and	r1, r1, #15
 142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_shift = 0;
 105              		.loc 1 142 0
 106 0022 2140     		ands	r1, r1, r4
 107              	.LVL5:
 143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 108              		.loc 1 143 0
 109 0024 2846     		mov	r0, r5
 110 0026 02E0     		b	.L8
 111              	.LVL6:
 112              	.L7:
 147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tx_end_shift = 4;
 113              		.loc 1 147 0
 114 0028 04EA1111 		and	r1, r4, r1, lsr #4
 115              	.LVL7:
 148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 116              		.loc 1 148 0
 117 002c 0420     		movs	r0, #4
 118              	.LVL8:
 119              	.L8:
 165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 120              		.loc 1 165 0
 121 002e CA07     		lsls	r2, r1, #31
 168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 122              		.loc 1 168 0
 123 0030 41BF     		itttt	mi
 124 0032 1C78     		ldrbmi	r4, [r3]	@ zero_extendqisi2
 125              	.LVL9:
 126 0034 0122     		movmi	r2, #1
 127 0036 8240     		lslmi	r2, r2, r0
 128 0038 24EA0202 		bicmi	r2, r4, r2
 129 003c 48BF     		it	mi
 130 003e 1A70     		strbmi	r2, [r3]
 170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 131              		.loc 1 170 0
 132 0040 8D07     		lsls	r5, r1, #30
 173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 133              		.loc 1 173 0
 134 0042 41BF     		itttt	mi
 135 0044 0222     		movmi	r2, #2
 136 0046 1C78     		ldrbmi	r4, [r3]	@ zero_extendqisi2
 137 0048 8240     		lslmi	r2, r2, r0
 138 004a 24EA0202 		bicmi	r2, r4, r2
 139 004e 48BF     		it	mi
 140 0050 1A70     		strbmi	r2, [r3]
 175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 141              		.loc 1 175 0
 142 0052 4C07     		lsls	r4, r1, #29
 178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 143              		.loc 1 178 0
 144 0054 41BF     		itttt	mi
 145 0056 0422     		movmi	r2, #4
 146 0058 1C78     		ldrbmi	r4, [r3]	@ zero_extendqisi2
 147 005a 8240     		lslmi	r2, r2, r0
 148 005c 24EA0202 		bicmi	r2, r4, r2
 149 0060 48BF     		it	mi
 150 0062 1A70     		strbmi	r2, [r3]
 180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 151              		.loc 1 180 0
 152 0064 0A07     		lsls	r2, r1, #28
 183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 153              		.loc 1 183 0
 154 0066 41BF     		itttt	mi
 155 0068 0822     		movmi	r2, #8
 156 006a 1978     		ldrbmi	r1, [r3]	@ zero_extendqisi2
 157              	.LVL10:
 158 006c 8240     		lslmi	r2, r2, r0
 159 006e 21EA0202 		bicmi	r2, r1, r2
 160 0072 48BF     		it	mi
 161 0074 1A70     		strbmi	r2, [r3]
 162 0076 38BD     		pop	{r3, r4, r5, pc}
 163              	.L30:
 164              		.align	2
 165              	.L29:
 166 0078 00000000 		.word	printf
 167 007c 00000000 		.word	.LC0
 168 0080 00000000 		.word	hal_axi2mipi_irq_disable
 169 0084 00000000 		.word	.LANCHOR1
 170              		.cfi_endproc
 171              	.LFE5:
 173              		.section	.text.snapshot_timer_irq,"ax",%progbits
 174              		.align	1
 175              		.thumb
 176              		.thumb_func
 178              	snapshot_timer_irq:
 179              	.LFB1:
  72:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 180              		.loc 1 72 0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 8
 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184              	.LVL11:
 185 0000 2DE9F743 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, lr}
 186              	.LCFI1:
 187              		.cfi_def_cfa_offset 40
 188              		.cfi_offset 4, -28
 189              		.cfi_offset 5, -24
 190              		.cfi_offset 6, -20
 191              		.cfi_offset 7, -16
 192              		.cfi_offset 8, -12
 193              		.cfi_offset 9, -8
 194              		.cfi_offset 14, -4
  75:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 195              		.loc 1 75 0
 196 0004 0446     		mov	r4, r0
 197 0006 0028     		cmp	r0, #0
 198 0008 2CD0     		beq	.L31
 199              	.LBB14:
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		snapshot_info_t **sinfo = timer_data->sinfo;
 200              		.loc 1 77 0
 201 000a D0E90423 		ldrd	r2, [r0, #16]
 202              	.LBB15:
  79:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 203              		.loc 1 79 0
 204 000e 0026     		movs	r6, #0
 205 0010 4568     		ldr	r5, [r0, #4]
 206              	.LBE15:
  77:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		snapshot_info_t **sinfo = timer_data->sinfo;
 207              		.loc 1 77 0
 208 0012 0132     		adds	r2, r2, #1
 209 0014 43F10003 		adc	r3, r3, #0
 210 0018 043D     		subs	r5, r5, #4
 211 001a C0E90423 		strd	r2, [r0, #16]
 212              	.LVL12:
 213              	.L33:
 214              	.LBB18:
  79:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 215              		.loc 1 79 0 discriminator 1
 216 001e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 217 0020 9E42     		cmp	r6, r3
 218 0022 1FDA     		bge	.L31
  81:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 219              		.loc 1 81 0
 220 0024 55F8041F 		ldr	r1, [r5, #4]!
 221 0028 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 222 002a CBB1     		cbz	r3, .L34
  81:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 223              		.loc 1 81 0 is_stmt 0 discriminator 1
 224 002c 8B68     		ldr	r3, [r1, #8]
 225 002e 4FF00009 		mov	r9, #0
 226 0032 9846     		mov	r8, r3
 227 0034 D4E90423 		ldrd	r2, [r4, #16]
 228 0038 4B45     		cmp	r3, r9
 229 003a 08BF     		it	eq
 230 003c 4245     		cmpeq	r2, r8
 231 003e 0FD3     		bcc	.L34
 232              	.LBB16:
  83:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				BaseType_t woken;
 233              		.loc 1 83 0 is_stmt 1
 234 0040 0023     		movs	r3, #0
  86:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
 235              		.loc 1 86 0
 236 0042 0127     		movs	r7, #1
  83:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				BaseType_t woken;
 237              		.loc 1 83 0
 238 0044 8B71     		strb	r3, [r1, #6]
  85:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											(1 << sinfo[i]->cam_idx), &woken))
 239              		.loc 1 85 0
 240 0046 01AA     		add	r2, sp, #4
  86:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
 241              		.loc 1 86 0
 242 0048 2B68     		ldr	r3, [r5]
 243 004a 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
  85:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											(1 << sinfo[i]->cam_idx), &woken))
 244              		.loc 1 85 0
 245 004c A068     		ldr	r0, [r4, #8]
 246 004e 07FA03F1 		lsl	r1, r7, r3
 247 0052 064B     		ldr	r3, .L47
 248 0054 9847     		blx	r3
 249              	.LVL13:
 250 0056 18B1     		cbz	r0, .L34
 251              	.LBB17:
  88:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				}
 252              		.loc 1 88 0
 253 0058 019B     		ldr	r3, [sp, #4]
 254 005a 0BB1     		cbz	r3, .L34
  88:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				}
 255              		.loc 1 88 0 is_stmt 0 discriminator 1
 256 005c 044B     		ldr	r3, .L47+4
 257 005e 1F60     		str	r7, [r3]
 258              	.L34:
 259              	.LBE17:
 260              	.LBE16:
  79:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 261              		.loc 1 79 0 is_stmt 1 discriminator 2
 262 0060 0136     		adds	r6, r6, #1
 263              	.LVL14:
 264 0062 DCE7     		b	.L33
 265              	.LVL15:
 266              	.L31:
 267              	.LBE18:
 268              	.LBE14:
  93:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 269              		.loc 1 93 0
 270 0064 03B0     		add	sp, sp, #12
 271              	.LCFI2:
 272              		.cfi_def_cfa_offset 28
 273              		@ sp needed
 274 0066 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 275              	.LVL16:
 276              	.L48:
 277 006a 00BF     		.align	2
 278              	.L47:
 279 006c 00000000 		.word	xEventGroupSetBitsFromISR
 280 0070 00000000 		.word	ulPortYieldRequired
 281              		.cfi_endproc
 282              	.LFE1:
 284              		.section	.text.rx_cb,"ax",%progbits
 285              		.align	1
 286              		.thumb
 287              		.thumb_func
 289              	rx_cb:
 290              	.LFB6:
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 291              		.loc 1 188 0
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295              	.LVL17:
 196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 296              		.loc 1 196 0
 297 0000 CA00     		lsls	r2, r1, #3
 298              	.LVL18:
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 299              		.loc 1 188 0
 300 0002 70B5     		push	{r4, r5, r6, lr}
 301              	.LCFI3:
 302              		.cfi_def_cfa_offset 16
 303              		.cfi_offset 4, -16
 304              		.cfi_offset 5, -12
 305              		.cfi_offset 6, -8
 306              		.cfi_offset 14, -4
 188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef DEBUG_MIPI
 307              		.loc 1 188 0
 308 0004 0446     		mov	r4, r0
 196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 309              		.loc 1 196 0
 310 0006 17D5     		bpl	.L49
 311              	.LVL19:
 312              	.LBB21:
 313              	.LBB22:
 203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 314              		.loc 1 203 0
 315 0008 0C4D     		ldr	r5, .L57
 316 000a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 317              	.LVL20:
 318 000c 0341     		asrs	r3, r3, r0
 319 000e DB07     		lsls	r3, r3, #31
 320 0010 12D5     		bpl	.L49
 205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			rx_end_flag &= ~(uint8_t)(1 << iidx);
 321              		.loc 1 205 0
 322 0012 0B4E     		ldr	r6, .L57+4
 323 0014 0021     		movs	r1, #0
 324              	.LVL21:
 325 0016 0A46     		mov	r2, r1
 326 0018 0A4B     		ldr	r3, .L57+8
 327 001a 3068     		ldr	r0, [r6]
 328              	.LVL22:
 329 001c 9847     		blx	r3
 330              	.LVL23:
 206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_syncio_disable(iidx);
 331              		.loc 1 206 0
 332 001e 0123     		movs	r3, #1
 333 0020 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			xSemaphoreGiveFromISR(preview_sem, NULL);
 334              		.loc 1 207 0
 335 0022 2046     		mov	r0, r4
 206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_syncio_disable(iidx);
 336              		.loc 1 206 0
 337 0024 A340     		lsls	r3, r3, r4
 338 0026 22EA0303 		bic	r3, r2, r3
 339 002a 2B70     		strb	r3, [r5]
 207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			xSemaphoreGiveFromISR(preview_sem, NULL);
 340              		.loc 1 207 0
 341 002c 064B     		ldr	r3, .L57+12
 342 002e 9847     		blx	r3
 343              	.LVL24:
 208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 344              		.loc 1 208 0
 345 0030 3068     		ldr	r0, [r6]
 346 0032 0021     		movs	r1, #0
 347 0034 054B     		ldr	r3, .L57+16
 348 0036 9847     		blx	r3
 349              	.LVL25:
 350              	.L49:
 351 0038 70BD     		pop	{r4, r5, r6, pc}
 352              	.L58:
 353 003a 00BF     		.align	2
 354              	.L57:
 355 003c 00000000 		.word	.LANCHOR2
 356 0040 00000000 		.word	.LANCHOR3
 357 0044 00000000 		.word	xQueueReceiveFromISR
 358 0048 00000000 		.word	hal_syncio_disable
 359 004c 00000000 		.word	xQueueGiveFromISR
 360              	.LBE22:
 361              	.LBE21:
 362              		.cfi_endproc
 363              	.LFE6:
 365              		.section	.text.syncio_preview_interrupt,"ax",%progbits
 366              		.align	1
 367              		.thumb
 368              		.thumb_func
 370              	syncio_preview_interrupt:
 371              	.LFB10:
 287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(reconfig_syncio)
 372              		.loc 1 287 0
 373              		.cfi_startproc
 374              		@ args = 0, pretend = 0, frame = 0
 375              		@ frame_needed = 0, uses_anonymous_args = 0
 376              	.LVL26:
 377 0000 10B5     		push	{r4, lr}
 378              	.LCFI4:
 379              		.cfi_def_cfa_offset 8
 380              		.cfi_offset 4, -8
 381              		.cfi_offset 14, -4
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 382              		.loc 1 288 0
 383 0002 094B     		ldr	r3, .L64
 287:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(reconfig_syncio)
 384              		.loc 1 287 0
 385 0004 0446     		mov	r4, r0
 288:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 386              		.loc 1 288 0
 387 0006 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 388 0008 62B1     		cbz	r2, .L59
 389              	.LVL27:
 390              	.LBB25:
 391              	.LBB26:
 290:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/*printf("\r\nEXPOSURE CHANGE [%d]:\r\n",(int)chid);*/
 392              		.loc 1 290 0
 393 000a 0022     		movs	r2, #0
 394 000c 1A70     		strb	r2, [r3]
 292:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_config(chid, &g_spg_cfg);
 395              		.loc 1 292 0
 396 000e 074B     		ldr	r3, .L64+4
 397 0010 9847     		blx	r3
 398              	.LVL28:
 293:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_enable(chid);
 399              		.loc 1 293 0
 400 0012 2046     		mov	r0, r4
 401 0014 0649     		ldr	r1, .L64+8
 402 0016 074B     		ldr	r3, .L64+12
 403 0018 9847     		blx	r3
 404              	.LVL29:
 294:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_trigger();
 405              		.loc 1 294 0
 406 001a 074B     		ldr	r3, .L64+16
 407 001c 2046     		mov	r0, r4
 408 001e 9847     		blx	r3
 409              	.LVL30:
 295:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 410              		.loc 1 295 0
 411 0020 064B     		ldr	r3, .L64+20
 412 0022 9847     		blx	r3
 413              	.LVL31:
 414              	.L59:
 415 0024 10BD     		pop	{r4, pc}
 416              	.L65:
 417 0026 00BF     		.align	2
 418              	.L64:
 419 0028 00000000 		.word	.LANCHOR4
 420 002c 00000000 		.word	hal_syncio_disable
 421 0030 00000000 		.word	.LANCHOR5
 422 0034 00000000 		.word	hal_syncio_config
 423 0038 00000000 		.word	hal_syncio_enable
 424 003c 00000000 		.word	hal_syncio_trigger
 425              	.LBE26:
 426              	.LBE25:
 427              		.cfi_endproc
 428              	.LFE10:
 430              		.global	__aeabi_f2uiz
 431              		.global	__aeabi_ui2d
 432              		.global	__aeabi_dsub
 433              		.global	__aeabi_d2uiz
 434              		.section	.text.setup_spg_preview.constprop.3,"ax",%progbits
 435              		.align	1
 436              		.thumb
 437              		.thumb_func
 439              	setup_spg_preview.constprop.3:
 440              	.LFB30:
 299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 441              		.loc 1 299 0
 442              		.cfi_startproc
 443              		@ args = 0, pretend = 0, frame = 32
 444              		@ frame_needed = 0, uses_anonymous_args = 0
 445              	.LVL32:
 446 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 447              	.LCFI5:
 448              		.cfi_def_cfa_offset 28
 449              		.cfi_offset 4, -28
 450              		.cfi_offset 5, -24
 451              		.cfi_offset 6, -20
 452              		.cfi_offset 7, -16
 453              		.cfi_offset 8, -12
 454              		.cfi_offset 9, -8
 455              		.cfi_offset 14, -4
 304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t llpclk = (uint32_t)img_sensor_read_reg(pcam->image,
 456              		.loc 1 304 0
 457 0004 90F82840 		ldrb	r4, [r0, #40]	@ zero_extendqisi2
 299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 458              		.loc 1 299 0
 459 0008 8BB0     		sub	sp, sp, #44
 460              	.LCFI6:
 461              		.cfi_def_cfa_offset 72
 299:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 462              		.loc 1 299 0
 463 000a 0546     		mov	r5, r0
 464 000c 8846     		mov	r8, r1
 305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 465              		.loc 1 305 0
 466 000e 364E     		ldr	r6, .L69+8
 467 0010 40F24231 		movw	r1, #834
 468              	.LVL33:
 469 0014 0222     		movs	r2, #2
 470 0016 0068     		ldr	r0, [r0]
 471              	.LVL34:
 304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t llpclk = (uint32_t)img_sensor_read_reg(pcam->image,
 472              		.loc 1 304 0
 473 0018 C4F30304 		ubfx	r4, r4, #0, #4
 305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 474              		.loc 1 305 0
 475 001c B047     		blx	r6
 476              	.LVL35:
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											FLL_CAM_REG, TWO_BYTES);
 477              		.loc 1 307 0
 478 001e 4FF45071 		mov	r1, #832
 479 0022 0222     		movs	r2, #2
 310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 									(int)llpclk, (int)fll, (int)vtpixclk);
 480              		.loc 1 310 0
 481 0024 314F     		ldr	r7, .L69+12
 304:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t llpclk = (uint32_t)img_sensor_read_reg(pcam->image,
 482              		.loc 1 304 0
 483 0026 013C     		subs	r4, r4, #1
 484 0028 E4B2     		uxtb	r4, r4
 485              	.LVL36:
 305:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 486              		.loc 1 305 0
 487 002a 8146     		mov	r9, r0
 488              	.LVL37:
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											FLL_CAM_REG, TWO_BYTES);
 489              		.loc 1 307 0
 490 002c 2868     		ldr	r0, [r5]
 491              	.LVL38:
 492 002e B047     		blx	r6
 493              	.LVL39:
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "LLPCLK: 0x%x, FLL: 0x%x, VTPIXCLK: %d \r\n",
 494              		.loc 1 309 0
 495 0030 2F4B     		ldr	r3, .L69+16
 307:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											FLL_CAM_REG, TWO_BYTES);
 496              		.loc 1 307 0
 497 0032 0646     		mov	r6, r0
 498              	.LVL40:
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "LLPCLK: 0x%x, FLL: 0x%x, VTPIXCLK: %d \r\n",
 499              		.loc 1 309 0
 500 0034 2868     		ldr	r0, [r5]
 501              	.LVL41:
 502 0036 9847     		blx	r3
 503              	.LVL42:
 504 0038 2E4B     		ldr	r3, .L69+20
 505 003a 9847     		blx	r3
 506              	.LVL43:
 310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 									(int)llpclk, (int)fll, (int)vtpixclk);
 507              		.loc 1 310 0
 508 003c 4B46     		mov	r3, r9
 509 003e 0096     		str	r6, [sp]
 510 0040 1021     		movs	r1, #16
 511 0042 2D4A     		ldr	r2, .L69+24
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****     spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 512              		.loc 1 320 0
 513 0044 09FB06F6 		mul	r6, r9, r6
 514              	.LVL44:
 309:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "LLPCLK: 0x%x, FLL: 0x%x, VTPIXCLK: %d \r\n",
 515              		.loc 1 309 0
 516 0048 0546     		mov	r5, r0
 517              	.LVL45:
 310:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 									(int)llpclk, (int)fll, (int)vtpixclk);
 518              		.loc 1 310 0
 519 004a 0190     		str	r0, [sp, #4]
 520 004c 2120     		movs	r0, #33
 521              	.LVL46:
 522 004e B847     		blx	r7
 523              	.LVL47:
 313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.repeat = numpulse;
 524              		.loc 1 313 0
 525 0050 B8F1000F 		cmp	r8, #0
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****     spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 526              		.loc 1 320 0
 527 0054 4FF04200 		mov	r0, #66
 313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.repeat = numpulse;
 528              		.loc 1 313 0
 529 0058 14BF     		ite	ne
 530 005a 0223     		movne	r3, #2
 531 005c 0023     		moveq	r3, #0
 320:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****     spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 532              		.loc 1 320 0
 533 005e 7043     		muls	r0, r6, r0
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.lat1 = 0;
 534              		.loc 1 315 0
 535 0060 4FF00008 		mov	r8, #0
 536              	.LVL48:
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG latency: %d", spg_cfg.lat2);
 537              		.loc 1 321 0
 538 0064 B0FBF5F0 		udiv	r0, r0, r5
 315:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.lat1 = 0;
 539              		.loc 1 315 0
 540 0068 8DF81180 		strb	r8, [sp, #17]
 316:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.width1 = 0;
 541              		.loc 1 316 0
 542 006c CDF81480 		str	r8, [sp, #20]
 317:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.width2 = 1 * SPG_MILISECOND;
 543              		.loc 1 317 0
 544 0070 CDF81C80 		str	r8, [sp, #28]
 313:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.repeat = numpulse;
 545              		.loc 1 313 0
 546 0074 8DF81030 		strb	r3, [sp, #16]
 314:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	spg_cfg.trig_mode = SG_TRIG_SW;
 547              		.loc 1 314 0
 548 0078 0123     		movs	r3, #1
 549 007a 8DF82430 		strb	r3, [sp, #36]
 318:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* 1usec for buffer and subtract with pulse width */
 550              		.loc 1 318 0
 551 007e 1F4B     		ldr	r3, .L69+28
 552 0080 0893     		str	r3, [sp, #32]
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG latency: %d", spg_cfg.lat2);
 553              		.loc 1 321 0
 554 0082 1F4B     		ldr	r3, .L69+32
 555 0084 9847     		blx	r3
 556              	.LVL49:
 557 0086 DFF89CC0 		ldr	ip, .L69+68
 558 008a 15A3     		adr	r3, .L69
 559 008c D3E90023 		ldrd	r2, [r3]
 560 0090 E047     		blx	ip
 561              	.LVL50:
 562 0092 1C4B     		ldr	r3, .L69+36
 563 0094 9847     		blx	r3
 564              	.LVL51:
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG : %d", (unsigned int)((llpclk * fll) / (vtpixclk * 2)));
 565              		.loc 1 322 0
 566 0096 1021     		movs	r1, #16
 567 0098 1B4A     		ldr	r2, .L69+40
 321:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG latency: %d", spg_cfg.lat2);
 568              		.loc 1 321 0
 569 009a 0346     		mov	r3, r0
 570 009c 0690     		str	r0, [sp, #24]
 322:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG : %d", (unsigned int)((llpclk * fll) / (vtpixclk * 2)));
 571              		.loc 1 322 0
 572 009e 2120     		movs	r0, #33
 573 00a0 B847     		blx	r7
 574              	.LVL52:
 323:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 575              		.loc 1 323 0
 576 00a2 6B00     		lsls	r3, r5, #1
 577 00a4 194A     		ldr	r2, .L69+44
 578 00a6 2120     		movs	r0, #33
 579 00a8 B6FBF3F3 		udiv	r3, r6, r3
 580 00ac 1021     		movs	r1, #16
 581 00ae B847     		blx	r7
 582              	.LVL53:
 325:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_irq_t intr;
 583              		.loc 1 325 0
 584 00b0 174B     		ldr	r3, .L69+48
 585 00b2 83F80080 		strb	r8, [r3]
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.callback_handler = syncio_preview_interrupt;
 586              		.loc 1 327 0
 587 00b6 4FF48053 		mov	r3, #4096
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 588              		.loc 1 329 0
 589 00ba 2046     		mov	r0, r4
 590 00bc 02A9     		add	r1, sp, #8
 327:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.callback_handler = syncio_preview_interrupt;
 591              		.loc 1 327 0
 592 00be ADF80830 		strh	r3, [sp, #8]	@ movhi
 328:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable_irq(rx_ins, &intr);
 593              		.loc 1 328 0
 594 00c2 144B     		ldr	r3, .L69+52
 595 00c4 0393     		str	r3, [sp, #12]
 329:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 596              		.loc 1 329 0
 597 00c6 144B     		ldr	r3, .L69+56
 598 00c8 9847     		blx	r3
 599              	.LVL54:
 331:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable(rx_ins);
 600              		.loc 1 331 0
 601 00ca 2046     		mov	r0, r4
 602 00cc 04A9     		add	r1, sp, #16
 603 00ce 134B     		ldr	r3, .L69+60
 604 00d0 9847     		blx	r3
 605              	.LVL55:
 332:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 606              		.loc 1 332 0
 607 00d2 2046     		mov	r0, r4
 608 00d4 124B     		ldr	r3, .L69+64
 609 00d6 9847     		blx	r3
 610              	.LVL56:
 333:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 611              		.loc 1 333 0
 612 00d8 0BB0     		add	sp, sp, #44
 613              	.LCFI7:
 614              		.cfi_def_cfa_offset 28
 615              		@ sp needed
 616 00da BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 617              	.LVL57:
 618              	.L70:
 619 00de 00BF     		.align	3
 620              	.L69:
 621 00e0 00000000 		.word	0
 622 00e4 E0A6F940 		.word	1090103008
 623 00e8 00000000 		.word	img_sensor_read_reg
 624 00ec 00000000 		.word	slogf
 625 00f0 00000000 		.word	img_sensor_get_vt_pix_clk_mhz
 626 00f4 00000000 		.word	__aeabi_f2uiz
 627 00f8 13000000 		.word	.LC1
 628 00fc 88070200 		.word	133000
 629 0100 00000000 		.word	__aeabi_ui2d
 630 0104 00000000 		.word	__aeabi_d2uiz
 631 0108 3C000000 		.word	.LC2
 632 010c 4C000000 		.word	.LC3
 633 0110 00000000 		.word	.LANCHOR4
 634 0114 00000000 		.word	syncio_preview_interrupt
 635 0118 00000000 		.word	hal_syncio_enable_irq
 636 011c 00000000 		.word	hal_syncio_config
 637 0120 00000000 		.word	hal_syncio_enable
 638 0124 00000000 		.word	__aeabi_dsub
 639              		.cfi_endproc
 640              	.LFE30:
 642              		.section	.text.wait_trigger,"ax",%progbits
 643              		.align	1
 644              		.global	wait_trigger
 645              		.thumb
 646              		.thumb_func
 648              	wait_trigger:
 649              	.LFB2:
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	volatile uint32_t timeout = 1000000;
 650              		.loc 1 96 0
 651              		.cfi_startproc
 652              		@ args = 0, pretend = 0, frame = 8
 653              		@ frame_needed = 0, uses_anonymous_args = 0
 654              	.LVL58:
 655 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 656              	.LCFI8:
 657              		.cfi_def_cfa_offset 24
 658              		.cfi_offset 4, -12
 659              		.cfi_offset 5, -8
 660              		.cfi_offset 14, -4
  97:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t cnt = hal_syncio_get_counter(ch);
 661              		.loc 1 97 0
 662 0002 0D4B     		ldr	r3, .L77
  96:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	volatile uint32_t timeout = 1000000;
 663              		.loc 1 96 0
 664 0004 0546     		mov	r5, r0
  98:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	while(!cnt && timeout)
 665              		.loc 1 98 0
 666 0006 0D4C     		ldr	r4, .L77+4
  97:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t cnt = hal_syncio_get_counter(ch);
 667              		.loc 1 97 0
 668 0008 0193     		str	r3, [sp, #4]
  98:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	while(!cnt && timeout)
 669              		.loc 1 98 0
 670 000a A047     		blx	r4
 671              	.LVL59:
 672 000c 0346     		mov	r3, r0
 673              	.LVL60:
 674              	.L72:
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 675              		.loc 1 99 0
 676 000e 43B9     		cbnz	r3, .L73
  99:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 677              		.loc 1 99 0 is_stmt 0 discriminator 1
 678 0010 019A     		ldr	r2, [sp, #4]
 679 0012 32B1     		cbz	r2, .L73
 101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timeout--;
 680              		.loc 1 101 0 is_stmt 1
 681 0014 2846     		mov	r0, r5
 682              	.LVL61:
 683 0016 A047     		blx	r4
 684              	.LVL62:
 102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 685              		.loc 1 102 0
 686 0018 019A     		ldr	r2, [sp, #4]
 687 001a 013A     		subs	r2, r2, #1
 688 001c 0192     		str	r2, [sp, #4]
 101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timeout--;
 689              		.loc 1 101 0
 690 001e 0346     		mov	r3, r0
 691              	.LVL63:
 692 0020 F5E7     		b	.L72
 693              	.L73:
 104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 694              		.loc 1 104 0
 695 0022 0198     		ldr	r0, [sp, #4]
 696              	.LVL64:
 697 0024 28B1     		cbz	r0, .L75
 108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return 1;
 698              		.loc 1 108 0
 699 0026 2120     		movs	r0, #33
 700 0028 1021     		movs	r1, #16
 701 002a 054A     		ldr	r2, .L77+8
 702 002c 054C     		ldr	r4, .L77+12
 703 002e A047     		blx	r4
 704              	.LVL65:
 109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 705              		.loc 1 109 0
 706 0030 0120     		movs	r0, #1
 707              	.L75:
 110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 708              		.loc 1 110 0
 709 0032 03B0     		add	sp, sp, #12
 710              	.LCFI9:
 711              		.cfi_def_cfa_offset 12
 712              		@ sp needed
 713 0034 30BD     		pop	{r4, r5, pc}
 714              	.L78:
 715 0036 00BF     		.align	2
 716              	.L77:
 717 0038 40420F00 		.word	1000000
 718 003c 00000000 		.word	hal_syncio_get_counter
 719 0040 55000000 		.word	.LC4
 720 0044 00000000 		.word	slogf
 721              		.cfi_endproc
 722              	.LFE2:
 724              		.section	.text.stop_mipi_for_cam,"ax",%progbits
 725              		.align	1
 726              		.global	stop_mipi_for_cam
 727              		.thumb
 728              		.thumb_func
 730              	stop_mipi_for_cam:
 731              	.LFB3:
 113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(!preview_sem)
 732              		.loc 1 113 0
 733              		.cfi_startproc
 734              		@ args = 0, pretend = 0, frame = 0
 735              		@ frame_needed = 0, uses_anonymous_args = 0
 736              	.LVL66:
 737 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 738              	.LCFI10:
 739              		.cfi_def_cfa_offset 24
 740              		.cfi_offset 3, -24
 741              		.cfi_offset 4, -20
 742              		.cfi_offset 5, -16
 743              		.cfi_offset 6, -12
 744              		.cfi_offset 7, -8
 745              		.cfi_offset 14, -4
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		preview_sem = xSemaphoreCreateMutex();
 746              		.loc 1 114 0
 747 0002 164C     		ldr	r4, .L81
 113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(!preview_sem)
 748              		.loc 1 113 0
 749 0004 0646     		mov	r6, r0
 750 0006 0F46     		mov	r7, r1
 751 0008 1546     		mov	r5, r2
 114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		preview_sem = xSemaphoreCreateMutex();
 752              		.loc 1 114 0
 753 000a 2368     		ldr	r3, [r4]
 754 000c 1BB9     		cbnz	r3, .L80
 115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	xSemaphoreTake(preview_sem, portMAX_DELAY);
 755              		.loc 1 115 0
 756 000e 0120     		movs	r0, #1
 757              	.LVL67:
 758 0010 134B     		ldr	r3, .L81+4
 759 0012 9847     		blx	r3
 760              	.LVL68:
 761 0014 2060     		str	r0, [r4]
 762              	.L80:
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	tx_end_flag |= ((1 << vc) << (tx_ch * 4));
 763              		.loc 1 116 0
 764 0016 0021     		movs	r1, #0
 765 0018 0B46     		mov	r3, r1
 766 001a 4FF0FF32 		mov	r2, #-1
 767 001e DFF858C0 		ldr	ip, .L81+28
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	rx_end_flag |= (1 << cam_ch);
 768              		.loc 1 117 0
 769 0022 AD00     		lsls	r5, r5, #2
 116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	tx_end_flag |= ((1 << vc) << (tx_ch * 4));
 770              		.loc 1 116 0
 771 0024 2068     		ldr	r0, [r4]
 772 0026 E047     		blx	ip
 773              	.LVL69:
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	rx_end_flag |= (1 << cam_ch);
 774              		.loc 1 117 0
 775 0028 0123     		movs	r3, #1
 776 002a 0E48     		ldr	r0, .L81+8
 777 002c 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 778 002e 03FA07F2 		lsl	r2, r3, r7
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "RX end mask 0x%x", rx_end_flag);
 779              		.loc 1 118 0
 780 0032 B340     		lsls	r3, r3, r6
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	rx_end_flag |= (1 << cam_ch);
 781              		.loc 1 117 0
 782 0034 AA40     		lsls	r2, r2, r5
 783 0036 0A43     		orrs	r2, r2, r1
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "RX end mask 0x%x", rx_end_flag);
 784              		.loc 1 118 0
 785 0038 0B49     		ldr	r1, .L81+12
 117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	rx_end_flag |= (1 << cam_ch);
 786              		.loc 1 117 0
 787 003a 0270     		strb	r2, [r0]
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "RX end mask 0x%x", rx_end_flag);
 788              		.loc 1 118 0
 789 003c 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 790 003e 1343     		orrs	r3, r3, r2
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	xSemaphoreGive(preview_sem);
 791              		.loc 1 119 0
 792 0040 2120     		movs	r0, #33
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "RX end mask 0x%x", rx_end_flag);
 793              		.loc 1 118 0
 794 0042 DBB2     		uxtb	r3, r3
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	xSemaphoreGive(preview_sem);
 795              		.loc 1 119 0
 796 0044 094A     		ldr	r2, .L81+16
 118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "RX end mask 0x%x", rx_end_flag);
 797              		.loc 1 118 0
 798 0046 0B70     		strb	r3, [r1]
 119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	xSemaphoreGive(preview_sem);
 799              		.loc 1 119 0
 800 0048 1021     		movs	r1, #16
 801 004a 094D     		ldr	r5, .L81+20
 802 004c A847     		blx	r5
 803              	.LVL70:
 120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 804              		.loc 1 120 0
 805 004e 0021     		movs	r1, #0
 806 0050 2068     		ldr	r0, [r4]
 807 0052 0A46     		mov	r2, r1
 808 0054 0B46     		mov	r3, r1
 809 0056 074C     		ldr	r4, .L81+24
 810 0058 A047     		blx	r4
 811              	.LVL71:
 812 005a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 813              	.L82:
 814              		.align	2
 815              	.L81:
 816 005c 00000000 		.word	.LANCHOR3
 817 0060 00000000 		.word	xQueueCreateMutex
 818 0064 00000000 		.word	.LANCHOR1
 819 0068 00000000 		.word	.LANCHOR2
 820 006c 6B000000 		.word	.LC5
 821 0070 00000000 		.word	slogf
 822 0074 00000000 		.word	xQueueGenericSend
 823 0078 00000000 		.word	xQueueGenericReceive
 824              		.cfi_endproc
 825              	.LFE3:
 827              		.section	.text.setup_mipi_rx_preview,"ax",%progbits
 828              		.align	1
 829              		.global	setup_mipi_rx_preview
 830              		.thumb
 831              		.thumb_func
 833              	setup_mipi_rx_preview:
 834              	.LFB7:
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_fifo = pcam->settings->stream[1];
 835              		.loc 1 220 0
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 24
 838              		@ frame_needed = 0, uses_anonymous_args = 0
 839              	.LVL72:
 840 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 841              	.LCFI11:
 842              		.cfi_def_cfa_offset 24
 843              		.cfi_offset 4, -24
 844              		.cfi_offset 5, -20
 845              		.cfi_offset 6, -16
 846              		.cfi_offset 7, -12
 847              		.cfi_offset 8, -8
 848              		.cfi_offset 14, -4
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 849              		.loc 1 222 0
 850 0004 90F82840 		ldrb	r4, [r0, #40]	@ zero_extendqisi2
 851 0008 C4F30304 		ubfx	r4, r4, #0, #4
 852 000c 013C     		subs	r4, r4, #1
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_fifo = pcam->settings->stream[1];
 853              		.loc 1 220 0
 854 000e 86B0     		sub	sp, sp, #24
 855              	.LCFI12:
 856              		.cfi_def_cfa_offset 48
 222:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 857              		.loc 1 222 0
 858 0010 E4B2     		uxtb	r4, r4
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_fifo = pcam->settings->stream[1];
 859              		.loc 1 220 0
 860 0012 0E46     		mov	r6, r1
 861 0014 1F46     		mov	r7, r3
 221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 862              		.loc 1 221 0
 863 0016 8368     		ldr	r3, [r0, #8]
 864              	.LVL73:
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(preview_csi == CSI_0)
 865              		.loc 1 224 0
 866 0018 2046     		mov	r0, r4
 867              	.LVL74:
 221:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 868              		.loc 1 221 0
 869 001a 9D78     		ldrb	r5, [r3, #2]	@ zero_extendqisi2
 870              	.LVL75:
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(preview_csi == CSI_0)
 871              		.loc 1 224 0
 872 001c 204B     		ldr	r3, .L87
 220:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t tx_fifo = pcam->settings->stream[1];
 873              		.loc 1 220 0
 874 001e 9046     		mov	r8, r2
 224:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(preview_csi == CSI_0)
 875              		.loc 1 224 0
 876 0020 9847     		blx	r3
 877              	.LVL76:
 225:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_mipi2axi_set_tx_base_addr(preview_ins, TXS0_BASE);
 878              		.loc 1 225 0
 879 0022 012E     		cmp	r6, #1
 226:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	else
 880              		.loc 1 226 0
 881 0024 08BF     		it	eq
 882 0026 4FF00171 		moveq	r1, #33816576
 883 002a 2046     		mov	r0, r4
 232:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.alu_src_addr		= 0;
 884              		.loc 1 232 0
 885 002c 4FEA8575 		lsl	r5, r5, #30
 886              	.LVL77:
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 887              		.loc 1 228 0
 888 0030 18BF     		it	ne
 889 0032 1C49     		ldrne	r1, .L87+4
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.dst_addr			= tx_fifo << 30;
 890              		.loc 1 231 0
 891 0034 0126     		movs	r6, #1
 892 0036 1C4B     		ldr	r3, .L87+8
 228:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 893              		.loc 1 228 0
 894 0038 9847     		blx	r3
 895              	.LVL78:
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.height	= height;
 896              		.loc 1 235 0
 897 003a 2B23     		movs	r3, #43
 232:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.alu_src_addr		= 0;
 898              		.loc 1 232 0
 899 003c 0395     		str	r5, [sp, #12]
 233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.vc_will_captured	= MIPI2AXI_VC0_CH;
 900              		.loc 1 233 0
 901 003e 0025     		movs	r5, #0
 235:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.height	= height;
 902              		.loc 1 235 0
 903 0040 8DF81030 		strb	r3, [sp, #16]
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_set_stream_property(preview_ins, &mipi2axi_property);
 904              		.loc 1 238 0
 905 0044 0223     		movs	r3, #2
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_wrap_cfg(preview_ins, MIPI2AXI_VC0_CH, height, DISABLE);
 906              		.loc 1 239 0
 907 0046 2046     		mov	r0, r4
 908 0048 01A9     		add	r1, sp, #4
 238:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_set_stream_property(preview_ins, &mipi2axi_property);
 909              		.loc 1 238 0
 910 004a 8DF80530 		strb	r3, [sp, #5]
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_wrap_cfg(preview_ins, MIPI2AXI_VC0_CH, height, DISABLE);
 911              		.loc 1 239 0
 912 004e 174B     		ldr	r3, .L87+12
 231:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.dst_addr			= tx_fifo << 30;
 913              		.loc 1 231 0
 914 0050 8DF80460 		strb	r6, [sp, #4]
 234:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.data_type	= MIPI2AXI_RAW10;
 915              		.loc 1 234 0
 916 0054 8DF81160 		strb	r6, [sp, #17]
 236:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.width	= width;
 917              		.loc 1 236 0
 918 0058 ADF81470 		strh	r7, [sp, #20]	@ movhi
 233:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.vc_will_captured	= MIPI2AXI_VC0_CH;
 919              		.loc 1 233 0
 920 005c 0295     		str	r5, [sp, #8]
 237:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.stream_mode		= MIPI2AXI_PREVIEW_MODE;
 921              		.loc 1 237 0
 922 005e ADF81280 		strh	r8, [sp, #18]	@ movhi
 239:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_wrap_cfg(preview_ins, MIPI2AXI_VC0_CH, height, DISABLE);
 923              		.loc 1 239 0
 924 0062 9847     		blx	r3
 925              	.LVL79:
 240:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_frame_control_cfg(preview_ins, MIPI2AXI_VC0_CH, 0, DISABLE);
 926              		.loc 1 240 0
 927 0064 2046     		mov	r0, r4
 928 0066 3146     		mov	r1, r6
 929 0068 3A46     		mov	r2, r7
 930 006a 2B46     		mov	r3, r5
 931 006c 104F     		ldr	r7, .L87+16
 932 006e B847     		blx	r7
 933              	.LVL80:
 241:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_irq_mask(
 934              		.loc 1 241 0
 935 0070 2046     		mov	r0, r4
 936 0072 3146     		mov	r1, r6
 937 0074 2A46     		mov	r2, r5
 938 0076 2B46     		mov	r3, r5
 939 0078 0E4F     		ldr	r7, .L87+20
 940 007a B847     		blx	r7
 941              	.LVL81:
 242:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_ins,
 942              		.loc 1 242 0
 943 007c 2046     		mov	r0, r4
 944 007e 3346     		mov	r3, r6
 945 0080 3021     		movs	r1, #48
 946 0082 4FF08852 		mov	r2, #285212672
 947 0086 0C4E     		ldr	r6, .L87+24
 948 0088 B047     		blx	r6
 949              	.LVL82:
 248:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_start(preview_ins);
 950              		.loc 1 248 0
 951 008a 2046     		mov	r0, r4
 952 008c 0B49     		ldr	r1, .L87+28
 953 008e 2A46     		mov	r2, r5
 954 0090 0B4B     		ldr	r3, .L87+32
 955 0092 9847     		blx	r3
 956              	.LVL83:
 249:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 957              		.loc 1 249 0
 958 0094 2046     		mov	r0, r4
 959 0096 0B4B     		ldr	r3, .L87+36
 960 0098 9847     		blx	r3
 961              	.LVL84:
 250:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 962              		.loc 1 250 0
 963 009a 06B0     		add	sp, sp, #24
 964              	.LCFI13:
 965              		.cfi_def_cfa_offset 24
 966              		@ sp needed
 967 009c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 968              	.LVL85:
 969              	.L88:
 970              		.align	2
 971              	.L87:
 972 00a0 00000000 		.word	hal_mipi2axi_init
 973 00a4 00000502 		.word	33882112
 974 00a8 00000000 		.word	hal_mipi2axi_set_tx_base_addr
 975 00ac 00000000 		.word	hal_mipi2axi_set_stream_property
 976 00b0 00000000 		.word	hal_mipi2axi_wrap_cfg
 977 00b4 00000000 		.word	hal_mipi2axi_frame_control_cfg
 978 00b8 00000000 		.word	hal_mipi2axi_irq_mask
 979 00bc 00000000 		.word	rx_cb
 980 00c0 00000000 		.word	hal_mipi2axi_irq_enable
 981 00c4 00000000 		.word	hal_mipi2axi_start
 982              		.cfi_endproc
 983              	.LFE7:
 985              		.section	.text.setup_mipi_rx_snapshot,"ax",%progbits
 986              		.align	1
 987              		.global	setup_mipi_rx_snapshot
 988              		.thumb
 989              		.thumb_func
 991              	setup_mipi_rx_snapshot:
 992              	.LFB8:
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 993              		.loc 1 254 0
 994              		.cfi_startproc
 995              		@ args = 0, pretend = 0, frame = 24
 996              		@ frame_needed = 0, uses_anonymous_args = 0
 997              	.LVL86:
 998 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 999              	.LCFI14:
 1000              		.cfi_def_cfa_offset 24
 1001              		.cfi_offset 4, -24
 1002              		.cfi_offset 5, -20
 1003              		.cfi_offset 6, -16
 1004              		.cfi_offset 7, -12
 1005              		.cfi_offset 8, -8
 1006              		.cfi_offset 14, -4
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t dst_addr = 0x03400000;
 1007              		.loc 1 255 0
 1008 0004 90F82840 		ldrb	r4, [r0, #40]	@ zero_extendqisi2
 1009 0008 C4F30304 		ubfx	r4, r4, #0, #4
 1010 000c 013C     		subs	r4, r4, #1
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 1011              		.loc 1 254 0
 1012 000e 86B0     		sub	sp, sp, #24
 1013              	.LCFI15:
 1014              		.cfi_def_cfa_offset 48
 255:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t dst_addr = 0x03400000;
 1015              		.loc 1 255 0
 1016 0010 E4B2     		uxtb	r4, r4
 1017              	.LVL87:
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 1018              		.loc 1 254 0
 1019 0012 9846     		mov	r8, r3
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property_t mipi2axi_property;
 1020              		.loc 1 257 0
 1021 0014 2046     		mov	r0, r4
 1022              	.LVL88:
 1023 0016 194B     		ldr	r3, .L90
 1024              	.LVL89:
 254:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_ins = pcam->info.ch - 1;
 1025              		.loc 1 254 0
 1026 0018 1746     		mov	r7, r2
 257:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property_t mipi2axi_property;
 1027              		.loc 1 257 0
 1028 001a 9847     		blx	r3
 1029              	.LVL90:
 260:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.alu_src_addr		= 0;
 1030              		.loc 1 260 0
 1031 001c 4FF05073 		mov	r3, #54525952
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.dst_addr			= dst_addr;
 1032              		.loc 1 259 0
 1033 0020 0125     		movs	r5, #1
 260:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.alu_src_addr		= 0;
 1034              		.loc 1 260 0
 1035 0022 0393     		str	r3, [sp, #12]
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.height	= height;
 1036              		.loc 1 263 0
 1037 0024 2B23     		movs	r3, #43
 261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.vc_will_captured	= MIPI2AXI_VC0_CH;
 1038              		.loc 1 261 0
 1039 0026 0026     		movs	r6, #0
 263:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.height	= height;
 1040              		.loc 1 263 0
 1041 0028 8DF81030 		strb	r3, [sp, #16]
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_wrap_cfg(preview_ins, MIPI2AXI_VC0_CH, 10, ENABLE);
 1042              		.loc 1 267 0
 1043 002c 2046     		mov	r0, r4
 1044 002e 01A9     		add	r1, sp, #4
 1045 0030 134B     		ldr	r3, .L90+4
 259:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.addr.dst_addr			= dst_addr;
 1046              		.loc 1 259 0
 1047 0032 8DF80450 		strb	r5, [sp, #4]
 262:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.data_type	= MIPI2AXI_RAW10;
 1048              		.loc 1 262 0
 1049 0036 8DF81150 		strb	r5, [sp, #17]
 265:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.stream_mode		= MIPI2AXI_SNAPSHOT_MODE;
 1050              		.loc 1 265 0
 1051 003a ADF81270 		strh	r7, [sp, #18]	@ movhi
 261:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_type.vc_will_captured	= MIPI2AXI_VC0_CH;
 1052              		.loc 1 261 0
 1053 003e 0296     		str	r6, [sp, #8]
 264:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi2axi_property.img_size.width	= width;
 1054              		.loc 1 264 0
 1055 0040 ADF81480 		strh	r8, [sp, #20]	@ movhi
 266:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_set_stream_property(preview_ins, &mipi2axi_property);
 1056              		.loc 1 266 0
 1057 0044 8DF80560 		strb	r6, [sp, #5]
 267:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_wrap_cfg(preview_ins, MIPI2AXI_VC0_CH, 10, ENABLE);
 1058              		.loc 1 267 0
 1059 0048 9847     		blx	r3
 1060              	.LVL91:
 268:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1061              		.loc 1 268 0
 1062 004a 0E4F     		ldr	r7, .L90+8
 1063 004c 2046     		mov	r0, r4
 1064 004e 2946     		mov	r1, r5
 1065 0050 2B46     		mov	r3, r5
 1066 0052 0A22     		movs	r2, #10
 1067 0054 B847     		blx	r7
 1068              	.LVL92:
 270:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_ins,
 1069              		.loc 1 270 0
 1070 0056 2046     		mov	r0, r4
 1071 0058 2B46     		mov	r3, r5
 1072 005a 3021     		movs	r1, #48
 1073 005c 4FF08852 		mov	r2, #285212672
 1074 0060 094D     		ldr	r5, .L90+12
 1075 0062 A847     		blx	r5
 1076              	.LVL93:
 276:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_start(preview_ins);
 1077              		.loc 1 276 0
 1078 0064 2046     		mov	r0, r4
 1079 0066 0949     		ldr	r1, .L90+16
 1080 0068 3246     		mov	r2, r6
 1081 006a 094B     		ldr	r3, .L90+20
 1082 006c 9847     		blx	r3
 1083              	.LVL94:
 277:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 1084              		.loc 1 277 0
 1085 006e 2046     		mov	r0, r4
 1086 0070 084B     		ldr	r3, .L90+24
 1087 0072 9847     		blx	r3
 1088              	.LVL95:
 278:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static uint8_t stream_vc_to_tx_ff(uint8_t vc)
 1089              		.loc 1 278 0
 1090 0074 06B0     		add	sp, sp, #24
 1091              	.LCFI16:
 1092              		.cfi_def_cfa_offset 24
 1093              		@ sp needed
 1094 0076 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1095              	.LVL96:
 1096              	.L91:
 1097 007a 00BF     		.align	2
 1098              	.L90:
 1099 007c 00000000 		.word	hal_mipi2axi_init
 1100 0080 00000000 		.word	hal_mipi2axi_set_stream_property
 1101 0084 00000000 		.word	hal_mipi2axi_wrap_cfg
 1102 0088 00000000 		.word	hal_mipi2axi_irq_mask
 1103 008c 00000000 		.word	rx_cb
 1104 0090 00000000 		.word	hal_mipi2axi_irq_enable
 1105 0094 00000000 		.word	hal_mipi2axi_start
 1106              		.cfi_endproc
 1107              	.LFE8:
 1109              		.global	__aeabi_ddiv
 1110              		.global	__aeabi_d2f
 1111              		.global	__aeabi_f2d
 1112              		.section	.text.reconfig_spg_for_previewing_sensor,"ax",%progbits
 1113              		.align	1
 1114              		.global	reconfig_spg_for_previewing_sensor
 1115              		.thumb
 1116              		.thumb_func
 1118              	reconfig_spg_for_previewing_sensor:
 1119              	.LFB12:
 336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1120              		.loc 1 336 0
 1121              		.cfi_startproc
 1122              		@ args = 0, pretend = 0, frame = 0
 1123              		@ frame_needed = 0, uses_anonymous_args = 0
 1124              	.LVL97:
 1125 0000 2DE9F347 		push	{r0, r1, r4, r5, r6, r7, r8, r9, r10, lr}
 1126              	.LCFI17:
 1127              		.cfi_def_cfa_offset 40
 1128              		.cfi_offset 4, -32
 1129              		.cfi_offset 5, -28
 1130              		.cfi_offset 6, -24
 1131              		.cfi_offset 7, -20
 1132              		.cfi_offset 8, -16
 1133              		.cfi_offset 9, -12
 1134              		.cfi_offset 10, -8
 1135              		.cfi_offset 14, -4
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 1136              		.loc 1 339 0
 1137 0004 0222     		movs	r2, #2
 336:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1138              		.loc 1 336 0
 1139 0006 0446     		mov	r4, r0
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 1140              		.loc 1 339 0
 1141 0008 40F24231 		movw	r1, #834
 1142 000c 2E4D     		ldr	r5, .L93+8
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.trig_mode = SG_TRIG_SW;
 1143              		.loc 1 352 0
 1144 000e 0127     		movs	r7, #1
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 1145              		.loc 1 339 0
 1146 0010 0068     		ldr	r0, [r0]
 1147              	.LVL98:
 1148 0012 A847     		blx	r5
 1149              	.LVL99:
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					FLL_CAM_REG, TWO_BYTES);
 1150              		.loc 1 341 0
 1151 0014 4FF45071 		mov	r1, #832
 1152 0018 0222     		movs	r2, #2
 360:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1153              		.loc 1 360 0
 1154 001a DFF8E8A0 		ldr	r10, .L93+68
 339:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 1155              		.loc 1 339 0
 1156 001e 8146     		mov	r9, r0
 1157              	.LVL100:
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					FLL_CAM_REG, TWO_BYTES);
 1158              		.loc 1 341 0
 1159 0020 2068     		ldr	r0, [r4]
 1160              	.LVL101:
 1161 0022 A847     		blx	r5
 1162              	.LVL102:
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(
 1163              		.loc 1 343 0
 1164 0024 294B     		ldr	r3, .L93+12
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOG_DEBUG,
 1165              		.loc 1 344 0
 1166 0026 2A4D     		ldr	r5, .L93+16
 341:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					FLL_CAM_REG, TWO_BYTES);
 1167              		.loc 1 341 0
 1168 0028 8046     		mov	r8, r0
 1169              	.LVL103:
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(
 1170              		.loc 1 343 0
 1171 002a 2068     		ldr	r0, [r4]
 1172              	.LVL104:
 1173 002c 9847     		blx	r3
 1174              	.LVL105:
 1175 002e 294B     		ldr	r3, .L93+20
 1176 0030 9847     		blx	r3
 1177              	.LVL106:
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOG_DEBUG,
 1178              		.loc 1 344 0
 1179 0032 CDF80080 		str	r8, [sp]
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 1180              		.loc 1 359 0
 1181 0036 09FB08F8 		mul	r8, r9, r8
 1182              	.LVL107:
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOG_DEBUG,
 1183              		.loc 1 344 0
 1184 003a 4B46     		mov	r3, r9
 1185 003c 1021     		movs	r1, #16
 1186 003e 264A     		ldr	r2, .L93+24
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.repeat = 1;
 1187              		.loc 1 351 0
 1188 0040 264C     		ldr	r4, .L93+28
 1189              	.LVL108:
 343:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(
 1190              		.loc 1 343 0
 1191 0042 0646     		mov	r6, r0
 1192              	.LVL109:
 344:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOG_DEBUG,
 1193              		.loc 1 344 0
 1194 0044 0190     		str	r0, [sp, #4]
 1195 0046 2120     		movs	r0, #33
 1196              	.LVL110:
 1197 0048 A847     		blx	r5
 1198              	.LVL111:
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 1199              		.loc 1 359 0
 1200 004a 4220     		movs	r0, #66
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.repeat = 1;
 1201              		.loc 1 351 0
 1202 004c 0223     		movs	r3, #2
 359:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat2 -= 0.790 * SPG_MILISECOND;
 1203              		.loc 1 359 0
 1204 004e 00FB08F0 		mul	r0, r0, r8
 353:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	spg_cfg.width1 = 1 * SPG_MICROSECOND;
 1205              		.loc 1 353 0
 1206 0052 0022     		movs	r2, #0
 351:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.repeat = 1;
 1207              		.loc 1 351 0
 1208 0054 2370     		strb	r3, [r4]
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat2 = (uint32_t)((SPG_TO_IT * llpclk * (fll)) / vtpixclk);
 1209              		.loc 1 358 0
 1210 0056 224B     		ldr	r3, .L93+32
 353:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	spg_cfg.width1 = 1 * SPG_MICROSECOND;
 1211              		.loc 1 353 0
 1212 0058 6270     		strb	r2, [r4, #1]
 356:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat1 = 0;
 1213              		.loc 1 356 0
 1214 005a E260     		str	r2, [r4, #12]
 357:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.width2 = 1 * SPG_MILISECOND;
 1215              		.loc 1 357 0
 1216 005c 6260     		str	r2, [r4, #4]
 358:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.lat2 = (uint32_t)((SPG_TO_IT * llpclk * (fll)) / vtpixclk);
 1217              		.loc 1 358 0
 1218 005e 2361     		str	r3, [r4, #16]
 352:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	g_spg_cfg.trig_mode = SG_TRIG_SW;
 1219              		.loc 1 352 0
 1220 0060 2775     		strb	r7, [r4, #20]
 360:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1221              		.loc 1 360 0
 1222 0062 B0FBF6F0 		udiv	r0, r0, r6
 1223 0066 D047     		blx	r10
 1224              	.LVL112:
 1225 0068 DFF89CC0 		ldr	ip, .L93+72
 1226 006c 14A3     		adr	r3, .L93
 1227 006e D3E90023 		ldrd	r2, [r3]
 1228 0072 E047     		blx	ip
 1229              	.LVL113:
 1230 0074 1B4B     		ldr	r3, .L93+36
 1231 0076 9847     		blx	r3
 1232              	.LVL114:
 1233 0078 A060     		str	r0, [r4, #8]
 1234              	.LVL115:
 363:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_INFO, "Frame time: %.04f", (float)ft);
 1235              		.loc 1 363 0
 1236 007a 4046     		mov	r0, r8
 1237 007c D047     		blx	r10
 1238              	.LVL116:
 1239 007e 8046     		mov	r8, r0
 1240              	.LVL117:
 1241 0080 8946     		mov	r9, r1
 1242              	.LVL118:
 1243 0082 1948     		ldr	r0, .L93+40
 1244 0084 7043     		muls	r0, r6, r0
 1245 0086 D047     		blx	r10
 1246              	.LVL119:
 1247 0088 184E     		ldr	r6, .L93+44
 1248              	.LVL120:
 1249 008a 0246     		mov	r2, r0
 1250 008c 0B46     		mov	r3, r1
 1251 008e 4046     		mov	r0, r8
 1252 0090 4946     		mov	r1, r9
 1253 0092 B047     		blx	r6
 1254              	.LVL121:
 364:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "SPG latency: %d", g_spg_cfg.lat2);
 1255              		.loc 1 364 0
 1256 0094 164B     		ldr	r3, .L93+48
 1257 0096 9847     		blx	r3
 1258              	.LVL122:
 1259 0098 164B     		ldr	r3, .L93+52
 1260 009a 9847     		blx	r3
 1261              	.LVL123:
 1262 009c 164A     		ldr	r2, .L93+56
 1263 009e CDE90001 		strd	r0, [sp]
 1264 00a2 2120     		movs	r0, #33
 1265 00a4 0821     		movs	r1, #8
 1266 00a6 A847     		blx	r5
 1267              	.LVL124:
 365:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	reconfig_syncio = TRUE;
 1268              		.loc 1 365 0
 1269 00a8 A368     		ldr	r3, [r4, #8]
 1270 00aa 2120     		movs	r0, #33
 1271 00ac 1021     		movs	r1, #16
 1272 00ae 134A     		ldr	r2, .L93+60
 1273 00b0 A847     		blx	r5
 1274              	.LVL125:
 366:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 1275              		.loc 1 366 0
 1276 00b2 134B     		ldr	r3, .L93+64
 1277 00b4 1F70     		strb	r7, [r3]
 367:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1278              		.loc 1 367 0
 1279 00b6 02B0     		add	sp, sp, #8
 1280              	.LCFI18:
 1281              		.cfi_def_cfa_offset 32
 1282              		@ sp needed
 1283 00b8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1284              	.L94:
 1285 00bc AFF30080 		.align	3
 1286              	.L93:
 1287 00c0 00000000 		.word	0
 1288 00c4 E0A6F940 		.word	1090103008
 1289 00c8 00000000 		.word	img_sensor_read_reg
 1290 00cc 00000000 		.word	img_sensor_get_vt_pix_clk_mhz
 1291 00d0 00000000 		.word	slogf
 1292 00d4 00000000 		.word	__aeabi_f2uiz
 1293 00d8 7C000000 		.word	.LC6
 1294 00dc 00000000 		.word	.LANCHOR5
 1295 00e0 88070200 		.word	133000
 1296 00e4 00000000 		.word	__aeabi_d2uiz
 1297 00e8 80841E00 		.word	2000000
 1298 00ec 00000000 		.word	__aeabi_ddiv
 1299 00f0 00000000 		.word	__aeabi_d2f
 1300 00f4 00000000 		.word	__aeabi_f2d
 1301 00f8 A4000000 		.word	.LC7
 1302 00fc 3C000000 		.word	.LC2
 1303 0100 00000000 		.word	.LANCHOR4
 1304 0104 00000000 		.word	__aeabi_ui2d
 1305 0108 00000000 		.word	__aeabi_dsub
 1306              		.cfi_endproc
 1307              	.LFE12:
 1309 010c AFF30080 		.section	.text.ucid_debug_hdl,"ax",%progbits
 1310              		.align	1
 1311              		.global	ucid_debug_hdl
 1312              		.thumb
 1313              		.thumb_func
 1315              	ucid_debug_hdl:
 1316              	.LFB13:
 370:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1317              		.loc 1 370 0
 1318              		.cfi_startproc
 1319              		@ args = 0, pretend = 0, frame = 0
 1320              		@ frame_needed = 0, uses_anonymous_args = 0
 1321              		@ link register save eliminated.
 1322 0000 7047     		bx	lr
 1323              		.cfi_endproc
 1324              	.LFE13:
 1326              		.section	.text.tx_fix_pattern,"ax",%progbits
 1327              		.align	1
 1328              		.global	tx_fix_pattern
 1329              		.thumb
 1330              		.thumb_func
 1332              	tx_fix_pattern:
 1333              	.LFB14:
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1334              		.loc 1 374 0
 1335              		.cfi_startproc
 1336              		@ args = 0, pretend = 0, frame = 48
 1337              		@ frame_needed = 0, uses_anonymous_args = 0
 1338              	.LVL126:
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1339              		.loc 1 374 0
 1340 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1341              	.LCFI19:
 1342              		.cfi_def_cfa_offset 36
 1343              		.cfi_offset 4, -36
 1344              		.cfi_offset 5, -32
 1345              		.cfi_offset 6, -28
 1346              		.cfi_offset 7, -24
 1347              		.cfi_offset 8, -20
 1348              		.cfi_offset 9, -16
 1349              		.cfi_offset 10, -12
 1350              		.cfi_offset 11, -8
 1351              		.cfi_offset 14, -4
 1352 0004 8DB0     		sub	sp, sp, #52
 1353              	.LCFI20:
 1354              		.cfi_def_cfa_offset 88
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 1355              		.loc 1 387 0
 1356 0006 764A     		ldr	r2, .L126
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1357              		.loc 1 374 0
 1358 0008 8346     		mov	fp, r0
 1359              	.LVL127:
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 1360              		.loc 1 387 0
 1361 000a 764B     		ldr	r3, .L126+4
 1362 000c 2120     		movs	r0, #33
 1363              	.LVL128:
 374:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1364              		.loc 1 374 0
 1365 000e 0491     		str	r1, [sp, #16]
 387:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 1366              		.loc 1 387 0
 1367 0010 1021     		movs	r1, #16
 1368              	.LVL129:
 1369 0012 9847     		blx	r3
 1370              	.LVL130:
 388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_1);
 1371              		.loc 1 388 0
 1372 0014 744C     		ldr	r4, .L126+8
 1373 0016 0020     		movs	r0, #0
 379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 1374              		.loc 1 379 0
 1375 0018 0026     		movs	r6, #0
 388:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_1);
 1376              		.loc 1 388 0
 1377 001a A047     		blx	r4
 1378              	.LVL131:
 389:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1379              		.loc 1 389 0
 1380 001c 0120     		movs	r0, #1
 1381 001e A047     		blx	r4
 1382              	.LVL132:
 378:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	axi2mipi_isr_flag_t tx_intr[2] = {0};
 1383              		.loc 1 378 0
 1384 0020 3546     		mov	r5, r6
 1385 0022 3446     		mov	r4, r6
 379:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 1386              		.loc 1 379 0
 1387 0024 0296     		str	r6, [sp, #8]
 391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1388              		.loc 1 391 0
 1389 0026 0196     		str	r6, [sp, #4]
 1390              	.LVL133:
 1391              	.L97:
 391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1392              		.loc 1 391 0 is_stmt 0 discriminator 1
 1393 0028 019B     		ldr	r3, [sp, #4]
 1394 002a 049A     		ldr	r2, [sp, #16]
 1395 002c 9342     		cmp	r3, r2
 1396 002e 05DA     		bge	.L109
 393:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(cam_idx == 0)
 1397              		.loc 1 393 0 is_stmt 1
 1398 0030 9BFAABF3 		rbit	r3, fp
 1399 0034 B3FA83F3 		clz	r3, r3
 1400 0038 D8B2     		uxtb	r0, r3
 1401              	.LVL134:
 394:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 1402              		.loc 1 394 0
 1403 003a 1BB9     		cbnz	r3, .L98
 1404              	.LVL135:
 1405              	.L109:
 457:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1406              		.loc 1 457 0
 1407 003c 002C     		cmp	r4, #0
 1408 003e 00F09280 		beq	.L124
 1409 0042 92E0     		b	.L99
 1410              	.LVL136:
 1411              	.L98:
 396:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		pcam = idx_to_object(cam_idx);
 1412              		.loc 1 396 0
 1413 0044 4FF00109 		mov	r9, #1
 1414 0048 09FA03F3 		lsl	r3, r9, r3
 1415 004c 2BEA030B 		bic	fp, fp, r3
 1416              	.LVL137:
 397:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(pcam)
 1417              		.loc 1 397 0
 1418 0050 664B     		ldr	r3, .L126+12
 1419 0052 9847     		blx	r3
 1420              	.LVL138:
 398:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 1421              		.loc 1 398 0
 1422 0054 8246     		mov	r10, r0
 1423 0056 0028     		cmp	r0, #0
 1424 0058 00F08180 		beq	.L101
 1425              	.LBB27:
 400:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & 0xF0) >> 4;
 1426              		.loc 1 400 0
 1427 005c 8368     		ldr	r3, [r0, #8]
 401:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1428              		.loc 1 401 0
 1429 005e 5F78     		ldrb	r7, [r3, #1]	@ zero_extendqisi2
 1430 0060 3F09     		lsrs	r7, r7, #4
 400:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & 0xF0) >> 4;
 1431              		.loc 1 400 0
 1432 0062 93F80280 		ldrb	r8, [r3, #2]	@ zero_extendqisi2
 1433              	.LVL139:
 403:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 1434              		.loc 1 403 0
 1435 0066 7B1E     		subs	r3, r7, #1
 1436 0068 DFF878C1 		ldr	ip, .L126+4
 1437 006c DBB2     		uxtb	r3, r3
 1438 006e 4B45     		cmp	r3, r9
 1439 0070 0393     		str	r3, [sp, #12]
 1440 0072 04D9     		bls	.L102
 405:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 1441              		.loc 1 405 0
 1442 0074 2120     		movs	r0, #33
 1443              	.LVL140:
 1444 0076 0221     		movs	r1, #2
 1445 0078 5D4A     		ldr	r2, .L126+16
 1446 007a 3B46     		mov	r3, r7
 1447 007c 06E0     		b	.L125
 1448              	.LVL141:
 1449              	.L102:
 409:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 1450              		.loc 1 409 0
 1451 007e B8F1030F 		cmp	r8, #3
 1452 0082 05D9     		bls	.L104
 411:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 1453              		.loc 1 411 0
 1454 0084 5B4A     		ldr	r2, .L126+20
 1455 0086 2120     		movs	r0, #33
 1456              	.LVL142:
 1457 0088 0221     		movs	r1, #2
 1458 008a 4346     		mov	r3, r8
 1459              	.L125:
 1460 008c E047     		blx	ip
 1461              	.LVL143:
 412:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1462              		.loc 1 412 0
 1463 008e A4E0     		b	.L96
 1464              	.LVL144:
 1465              	.L104:
 416:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1466              		.loc 1 416 0
 1467 0090 594B     		ldr	r3, .L126+24
 1468 0092 4FF45371 		mov	r1, #844
 1469 0096 0222     		movs	r2, #2
 1470 0098 0068     		ldr	r0, [r0]
 1471              	.LVL145:
 1472 009a 0593     		str	r3, [sp, #20]
 1473 009c 9847     		blx	r3
 1474              	.LVL146:
 418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1475              		.loc 1 418 0
 1476 009e 0222     		movs	r2, #2
 1477 00a0 DAF80000 		ldr	r0, [r10]
 1478 00a4 40F24E31 		movw	r1, #846
 1479 00a8 059B     		ldr	r3, [sp, #20]
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 1480              		.loc 1 439 0
 1481 00aa 4FF0000A 		mov	r10, #0
 1482              	.LVL147:
 418:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1483              		.loc 1 418 0
 1484 00ae 9847     		blx	r3
 1485              	.LVL148:
 1486              	.LBB28:
 1487              	.LBB29:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 1488              		.loc 1 282 0
 1489 00b0 09FA08F9 		lsl	r9, r9, r8
 1490              	.LBE29:
 1491              	.LBE28:
 423:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 1492              		.loc 1 423 0
 1493 00b4 012F     		cmp	r7, #1
 1494              	.LBB31:
 1495              	.LBB30:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 1496              		.loc 1 282 0
 1497 00b6 5FFA89F3 		uxtb	r3, r9
 1498              	.LBE30:
 1499              	.LBE31:
 425:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[0] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 1500              		.loc 1 425 0
 1501 00ba 0CBF     		ite	eq
 1502 00bc 1C43     		orreq	r4, r4, r3
 1503              	.LVL149:
 431:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[1] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 1504              		.loc 1 431 0
 1505 00be 1D43     		orrne	r5, r5, r3
 1506              	.LVL150:
 436:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.rx_dt = AXI2MIPI_RAW10;
 1507              		.loc 1 436 0
 1508 00c0 8DF81830 		strb	r3, [sp, #24]
 437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 1509              		.loc 1 437 0
 1510 00c4 4FF02B03 		mov	r3, #43
 427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1511              		.loc 1 427 0
 1512 00c8 08BF     		it	eq
 1513 00ca 4FF0FF32 		moveq	r2, #-1
 437:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 1514              		.loc 1 437 0
 1515 00ce 8DF82230 		strb	r3, [sp, #34]
 441:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.height = img_height;
 1516              		.loc 1 441 0
 1517 00d2 4FF4A07C 		mov	ip, #320
 438:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.pack = AXI2MIPI_PACKED_DATA;
 1518              		.loc 1 438 0
 1519 00d6 8DF82130 		strb	r3, [sp, #33]
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.src_addr = read_src_addr;
 1520              		.loc 1 442 0
 1521 00da 4FF0F003 		mov	r3, #240
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1522              		.loc 1 444 0
 1523 00de 4FF02100 		mov	r0, #33
 442:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.src_addr = read_src_addr;
 1524              		.loc 1 442 0
 1525 00e2 ADF82830 		strh	r3, [sp, #40]	@ movhi
 443:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW CSI: %x ", preview_csi);
 1526              		.loc 1 443 0
 1527 00e6 4FF05073 		mov	r3, #54525952
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1528              		.loc 1 444 0
 1529 00ea 4FF01001 		mov	r1, #16
 443:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW CSI: %x ", preview_csi);
 1530              		.loc 1 443 0
 1531 00ee 0793     		str	r3, [sp, #28]
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1532              		.loc 1 444 0
 1533 00f0 3B46     		mov	r3, r7
 1534 00f2 3C4F     		ldr	r7, .L126+4
 1535              	.LVL151:
 433:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1536              		.loc 1 433 0
 1537 00f4 18BF     		it	ne
 1538 00f6 4FF0FF36 		movne	r6, #-1
 1539              	.LVL152:
 441:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.height = img_height;
 1540              		.loc 1 441 0
 1541 00fa ADF826C0 		strh	ip, [sp, #38]	@ movhi
 1542 00fe CDF814C0 		str	ip, [sp, #20]
 439:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 1543              		.loc 1 439 0
 1544 0102 8DF823A0 		strb	r10, [sp, #35]
 440:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.width = img_width;
 1545              		.loc 1 440 0
 1546 0106 8DF824A0 		strb	r10, [sp, #36]
 427:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1547              		.loc 1 427 0
 1548 010a 08BF     		it	eq
 1549 010c 0292     		streq	r2, [sp, #8]
 444:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1550              		.loc 1 444 0
 1551 010e 3B4A     		ldr	r2, .L126+28
 1552 0110 B847     		blx	r7
 1553              	.LVL153:
 445:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW VC: %x ", preview_vc);
 1554              		.loc 1 445 0
 1555 0112 2120     		movs	r0, #33
 1556 0114 1021     		movs	r1, #16
 1557 0116 3A4A     		ldr	r2, .L126+32
 1558 0118 4B46     		mov	r3, r9
 1559 011a B847     		blx	r7
 1560              	.LVL154:
 446:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE WIDTH: %x ", img_width);
 1561              		.loc 1 446 0
 1562 011c 2120     		movs	r0, #33
 1563 011e 1021     		movs	r1, #16
 1564 0120 384A     		ldr	r2, .L126+36
 1565 0122 4346     		mov	r3, r8
 1566 0124 B847     		blx	r7
 1567              	.LVL155:
 447:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE HEIGHT: %x ", img_height);
 1568              		.loc 1 447 0
 1569 0126 DDF814C0 		ldr	ip, [sp, #20]
 1570 012a 6346     		mov	r3, ip
 1571 012c 2120     		movs	r0, #33
 1572 012e 1021     		movs	r1, #16
 1573 0130 354A     		ldr	r2, .L126+40
 1574 0132 B847     		blx	r7
 1575              	.LVL156:
 448:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Source address: %x ", read_src_addr);
 1576              		.loc 1 448 0
 1577 0134 2120     		movs	r0, #33
 1578 0136 1021     		movs	r1, #16
 1579 0138 344A     		ldr	r2, .L126+44
 1580 013a F023     		movs	r3, #240
 1581 013c B847     		blx	r7
 1582              	.LVL157:
 449:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1583              		.loc 1 449 0
 1584 013e 2120     		movs	r0, #33
 1585 0140 1021     		movs	r1, #16
 1586 0142 4FF05073 		mov	r3, #54525952
 1587 0146 324A     		ldr	r2, .L126+48
 1588 0148 B847     		blx	r7
 1589              	.LVL158:
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 1590              		.loc 1 454 0
 1591 014a 0398     		ldr	r0, [sp, #12]
 1592 014c 06A9     		add	r1, sp, #24
 1593 014e 314B     		ldr	r3, .L126+52
 451:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.vc_for_ff = preview_vc;
 1594              		.loc 1 451 0
 1595 0150 8DF820A0 		strb	r10, [sp, #32]
 452:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.wrap.wrap_en = DISABLE;
 1596              		.loc 1 452 0
 1597 0154 8DF82A80 		strb	r8, [sp, #42]
 453:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_set_stream_property(preview_csi - 1, &axi2mipi_property);
 1598              		.loc 1 453 0
 1599 0158 8DF82EA0 		strb	r10, [sp, #46]
 454:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 1600              		.loc 1 454 0
 1601 015c 9847     		blx	r3
 1602              	.LVL159:
 1603              	.L101:
 1604              	.LBE27:
 391:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1605              		.loc 1 391 0 discriminator 2
 1606 015e 019B     		ldr	r3, [sp, #4]
 1607 0160 0133     		adds	r3, r3, #1
 1608 0162 0193     		str	r3, [sp, #4]
 1609              	.LVL160:
 1610 0164 60E7     		b	.L97
 1611              	.LVL161:
 1612              	.L124:
 457:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1613              		.loc 1 457 0 discriminator 1
 1614 0166 002D     		cmp	r5, #0
 1615 0168 37D0     		beq	.L96
 1616              	.L99:
 459:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], FRAME_CONTINUOUS);
 1617              		.loc 1 459 0
 1618 016a 0020     		movs	r0, #0
 1619 016c 0246     		mov	r2, r0
 1620 016e 2146     		mov	r1, r4
 1621 0170 294F     		ldr	r7, .L126+56
 1622 0172 B847     		blx	r7
 1623              	.LVL162:
 460:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], ENABLE);
 1624              		.loc 1 460 0
 1625 0174 0120     		movs	r0, #1
 1626 0176 0246     		mov	r2, r0
 1627 0178 2946     		mov	r1, r5
 1628 017a B847     		blx	r7
 1629              	.LVL163:
 461:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], ENABLE);
 1630              		.loc 1 461 0
 1631 017c 0020     		movs	r0, #0
 1632 017e 2146     		mov	r1, r4
 1633 0180 0122     		movs	r2, #1
 1634 0182 264F     		ldr	r7, .L126+60
 1635 0184 B847     		blx	r7
 1636              	.LVL164:
 462:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1637              		.loc 1 462 0
 1638 0186 0120     		movs	r0, #1
 1639 0188 2946     		mov	r1, r5
 1640 018a 0246     		mov	r2, r0
 1641 018c B847     		blx	r7
 1642              	.LVL165:
 464:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 1643              		.loc 1 464 0
 1644 018e 84B1     		cbz	r4, .L110
 466:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_0, tx_cb, NULL);
 1645              		.loc 1 466 0
 1646 0190 0020     		movs	r0, #0
 1647 0192 0299     		ldr	r1, [sp, #8]
 1648 0194 0122     		movs	r2, #1
 1649 0196 224B     		ldr	r3, .L126+64
 1650 0198 9847     		blx	r3
 1651              	.LVL166:
 467:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);
 1652              		.loc 1 467 0
 1653 019a 0020     		movs	r0, #0
 1654 019c 0246     		mov	r2, r0
 1655 019e 2149     		ldr	r1, .L126+68
 1656 01a0 214B     		ldr	r3, .L126+72
 1657 01a2 9847     		blx	r3
 1658              	.LVL167:
 468:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);
 1659              		.loc 1 468 0
 1660 01a4 214F     		ldr	r7, .L126+76
 1661 01a6 0020     		movs	r0, #0
 1662 01a8 2146     		mov	r1, r4
 1663 01aa B847     		blx	r7
 1664              	.LVL168:
 469:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 1665              		.loc 1 469 0
 1666 01ac 0020     		movs	r0, #0
 1667 01ae 2146     		mov	r1, r4
 1668 01b0 B847     		blx	r7
 1669              	.LVL169:
 1670              	.L110:
 471:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 1671              		.loc 1 471 0
 1672 01b2 6DB1     		cbz	r5, .L111
 473:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_1, tx_cb, NULL);
 1673              		.loc 1 473 0
 1674 01b4 0120     		movs	r0, #1
 1675 01b6 0246     		mov	r2, r0
 1676 01b8 3146     		mov	r1, r6
 1677 01ba 194B     		ldr	r3, .L126+64
 1678 01bc 9847     		blx	r3
 1679              	.LVL170:
 474:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_1, tx_ff_mask[1]);
 1680              		.loc 1 474 0
 1681 01be 0120     		movs	r0, #1
 1682 01c0 1849     		ldr	r1, .L126+68
 1683 01c2 0022     		movs	r2, #0
 1684 01c4 184B     		ldr	r3, .L126+72
 1685 01c6 9847     		blx	r3
 1686              	.LVL171:
 475:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 1687              		.loc 1 475 0
 1688 01c8 0120     		movs	r0, #1
 1689 01ca 2946     		mov	r1, r5
 1690 01cc 174B     		ldr	r3, .L126+76
 1691 01ce 9847     		blx	r3
 1692              	.LVL172:
 1693              	.L111:
 477:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 1694              		.loc 1 477 0
 1695 01d0 2120     		movs	r0, #33
 1696 01d2 1021     		movs	r1, #16
 1697 01d4 164A     		ldr	r2, .L126+80
 1698 01d6 034B     		ldr	r3, .L126+4
 1699 01d8 9847     		blx	r3
 1700              	.LVL173:
 1701              	.L96:
 479:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void ucid_preview_hdl_snapshot(uint32_t mbitmask, uint8_t mnumber)
 1702              		.loc 1 479 0
 1703 01da 0DB0     		add	sp, sp, #52
 1704              	.LCFI21:
 1705              		.cfi_def_cfa_offset 36
 1706              		@ sp needed
 1707 01dc BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1708              	.LVL174:
 1709              	.L127:
 1710              		.align	2
 1711              	.L126:
 1712 01e0 B6000000 		.word	.LC8
 1713 01e4 00000000 		.word	slogf
 1714 01e8 00000000 		.word	hal_axi2mipi_init
 1715 01ec 00000000 		.word	idx_to_object
 1716 01f0 CB000000 		.word	.LC9
 1717 01f4 DF000000 		.word	.LC10
 1718 01f8 00000000 		.word	img_sensor_read_reg
 1719 01fc F2000000 		.word	.LC11
 1720 0200 03010000 		.word	.LC12
 1721 0204 10010000 		.word	.LC13
 1722 0208 20010000 		.word	.LC14
 1723 020c 31010000 		.word	.LC15
 1724 0210 43010000 		.word	.LC16
 1725 0214 00000000 		.word	hal_axi2mipi_set_stream_property
 1726 0218 00000000 		.word	hal_axi2mipi_set_frame_mode
 1727 021c 00000000 		.word	hal_axi2mipi_programming_valid
 1728 0220 00000000 		.word	hal_axi2mipi_irq_mask
 1729 0224 00000000 		.word	tx_cb
 1730 0228 00000000 		.word	hal_axi2mipi_irq_enable
 1731 022c 00000000 		.word	hal_axi2mipi_start
 1732 0230 57010000 		.word	.LC17
 1733              		.cfi_endproc
 1734              	.LFE14:
 1736              		.section	.text.ucid_preview_hdl_snapshot,"ax",%progbits
 1737              		.align	1
 1738              		.global	ucid_preview_hdl_snapshot
 1739              		.thumb
 1740              		.thumb_func
 1742              	ucid_preview_hdl_snapshot:
 1743              	.LFB15:
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1744              		.loc 1 481 0
 1745              		.cfi_startproc
 1746              		@ args = 0, pretend = 0, frame = 56
 1747              		@ frame_needed = 0, uses_anonymous_args = 0
 1748              	.LVL175:
 1749 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1750              	.LCFI22:
 1751              		.cfi_def_cfa_offset 36
 1752              		.cfi_offset 4, -36
 1753              		.cfi_offset 5, -32
 1754              		.cfi_offset 6, -28
 1755              		.cfi_offset 7, -24
 1756              		.cfi_offset 8, -20
 1757              		.cfi_offset 9, -16
 1758              		.cfi_offset 10, -12
 1759              		.cfi_offset 11, -8
 1760              		.cfi_offset 14, -4
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 1761              		.loc 1 486 0
 1762 0004 0026     		movs	r6, #0
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1763              		.loc 1 481 0
 1764 0006 8FB0     		sub	sp, sp, #60
 1765              	.LCFI23:
 1766              		.cfi_def_cfa_offset 96
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1767              		.loc 1 481 0
 1768 0008 8246     		mov	r10, r0
 1769              	.LVL176:
 485:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	axi2mipi_isr_flag_t tx_intr[2] = {0};
 1770              		.loc 1 485 0
 1771 000a 3746     		mov	r7, r6
 1772 000c B046     		mov	r8, r6
 492:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 1773              		.loc 1 492 0
 1774 000e 2120     		movs	r0, #33
 1775              	.LVL177:
 481:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 1776              		.loc 1 481 0
 1777 0010 0691     		str	r1, [sp, #24]
 492:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** //	hal_axi2mipi_init(AXI2MIPI_BRIDGE_0);
 1778              		.loc 1 492 0
 1779 0012 1021     		movs	r1, #16
 1780              	.LVL178:
 1781 0014 8B4A     		ldr	r2, .L171
 1782 0016 8C4B     		ldr	r3, .L171+4
 1783 0018 9847     		blx	r3
 1784              	.LVL179:
 491:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "Starting preview UCID");
 1785              		.loc 1 491 0
 1786 001a CDF808A0 		str	r10, [sp, #8]
 486:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 1787              		.loc 1 486 0
 1788 001e 0496     		str	r6, [sp, #16]
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1789              		.loc 1 496 0
 1790 0020 0196     		str	r6, [sp, #4]
 1791              	.LVL180:
 1792              	.L129:
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1793              		.loc 1 496 0 is_stmt 0 discriminator 1
 1794 0022 019B     		ldr	r3, [sp, #4]
 1795 0024 069A     		ldr	r2, [sp, #24]
 1796 0026 9342     		cmp	r3, r2
 1797 0028 06DA     		bge	.L143
 498:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(cam_idx == 0)
 1798              		.loc 1 498 0 is_stmt 1
 1799 002a 029B     		ldr	r3, [sp, #8]
 1800 002c 93FAA3F3 		rbit	r3, r3
 1801 0030 B3FA83F3 		clz	r3, r3
 1802 0034 D8B2     		uxtb	r0, r3
 1803              	.LVL181:
 499:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 1804              		.loc 1 499 0
 1805 0036 23B9     		cbnz	r3, .L130
 1806              	.LVL182:
 1807              	.L143:
 568:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 1808              		.loc 1 568 0
 1809 0038 B8F1000F 		cmp	r8, #0
 1810 003c 00F0AD80 		beq	.L168
 1811 0040 ADE0     		b	.L131
 1812              	.LVL183:
 1813              	.L130:
 501:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		pcam = idx_to_object(cam_idx);
 1814              		.loc 1 501 0
 1815 0042 0122     		movs	r2, #1
 1816 0044 02FA03F3 		lsl	r3, r2, r3
 1817 0048 029A     		ldr	r2, [sp, #8]
 1818 004a 22EA0303 		bic	r3, r2, r3
 1819 004e 0293     		str	r3, [sp, #8]
 1820              	.LVL184:
 502:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(pcam)
 1821              		.loc 1 502 0
 1822 0050 7E4B     		ldr	r3, .L171+8
 1823              	.LVL185:
 1824 0052 9847     		blx	r3
 1825              	.LVL186:
 503:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 1826              		.loc 1 503 0
 1827 0054 8146     		mov	r9, r0
 1828 0056 0028     		cmp	r0, #0
 1829 0058 00F09B80 		beq	.L133
 1830              	.LBB32:
 505:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_pattern_mode(pcam->image, PAT_COLOR_BAR);
 1831              		.loc 1 505 0
 1832 005c 0021     		movs	r1, #0
 1833 005e 7C4A     		ldr	r2, .L171+12
 1834 0060 0068     		ldr	r0, [r0]
 1835              	.LVL187:
 1836 0062 9047     		blx	r2
 1837              	.LVL188:
 506:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1838              		.loc 1 506 0
 1839 0064 7B4A     		ldr	r2, .L171+16
 1840 0066 D9F80000 		ldr	r0, [r9]
 1841 006a 0221     		movs	r1, #2
 1842 006c 9047     		blx	r2
 1843              	.LVL189:
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & CSI_MASK) >> 4;
 1844              		.loc 1 508 0
 1845 006e D9F80820 		ldr	r2, [r9, #8]
 509:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 1846              		.loc 1 509 0
 1847 0072 5478     		ldrb	r4, [r2, #1]	@ zero_extendqisi2
 1848 0074 2409     		lsrs	r4, r4, #4
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & CSI_MASK) >> 4;
 1849              		.loc 1 508 0
 1850 0076 9578     		ldrb	r5, [r2, #2]	@ zero_extendqisi2
 511:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 1851              		.loc 1 511 0
 1852 0078 621E     		subs	r2, r4, #1
 508:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & CSI_MASK) >> 4;
 1853              		.loc 1 508 0
 1854 007a 05F00F05 		and	r5, r5, #15
 1855              	.LVL190:
 511:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 1856              		.loc 1 511 0
 1857 007e D3B2     		uxtb	r3, r2
 1858 0080 012B     		cmp	r3, #1
 1859 0082 0593     		str	r3, [sp, #20]
 1860 0084 DFF8C0C1 		ldr	ip, .L171+4
 1861 0088 04D9     		bls	.L134
 513:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 1862              		.loc 1 513 0
 1863 008a 2120     		movs	r0, #33
 1864 008c 0221     		movs	r1, #2
 1865 008e 724A     		ldr	r2, .L171+20
 1866 0090 2346     		mov	r3, r4
 1867 0092 05E0     		b	.L170
 1868              	.L134:
 517:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 1869              		.loc 1 517 0
 1870 0094 032D     		cmp	r5, #3
 1871 0096 05D9     		bls	.L136
 519:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				return;
 1872              		.loc 1 519 0
 1873 0098 704A     		ldr	r2, .L171+24
 1874 009a 2120     		movs	r0, #33
 1875 009c 0221     		movs	r1, #2
 1876 009e 2B46     		mov	r3, r5
 1877              	.L170:
 1878 00a0 E047     		blx	ip
 1879              	.LVL191:
 520:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1880              		.loc 1 520 0
 1881 00a2 CBE0     		b	.L128
 1882              	.L136:
 525:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1883              		.loc 1 525 0
 1884 00a4 DFF8F8B1 		ldr	fp, .L171+92
 1885 00a8 4FF45371 		mov	r1, #844
 1886 00ac D9F80000 		ldr	r0, [r9]
 1887 00b0 0222     		movs	r2, #2
 1888 00b2 D847     		blx	fp
 1889              	.LVL192:
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1890              		.loc 1 527 0
 1891 00b4 40F24E31 		movw	r1, #846
 1892 00b8 0222     		movs	r2, #2
 525:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1893              		.loc 1 525 0
 1894 00ba 0390     		str	r0, [sp, #12]
 1895              	.LVL193:
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1896              		.loc 1 527 0
 1897 00bc D9F80000 		ldr	r0, [r9]
 1898 00c0 D847     		blx	fp
 1899              	.LVL194:
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			setup_mipi_rx_snapshot(pcam, preview_csi, img_width, img_height);
 1900              		.loc 1 530 0
 1901 00c2 0021     		movs	r1, #0
 1902 00c4 664A     		ldr	r2, .L171+28
 527:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 1903              		.loc 1 527 0
 1904 00c6 8346     		mov	fp, r0
 1905              	.LVL195:
 530:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			setup_mipi_rx_snapshot(pcam, preview_csi, img_width, img_height);
 1906              		.loc 1 530 0
 1907 00c8 4846     		mov	r0, r9
 1908 00ca 9047     		blx	r2
 1909              	.LVL196:
 531:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			uint8_t tx_ff = stream_vc_to_tx_ff(preview_vc);
 1910              		.loc 1 531 0
 1911 00cc 039A     		ldr	r2, [sp, #12]
 1912 00ce 4846     		mov	r0, r9
 1913 00d0 2146     		mov	r1, r4
 1914 00d2 5B46     		mov	r3, fp
 1915 00d4 DFF8CCC1 		ldr	ip, .L171+96
 1916 00d8 E047     		blx	ip
 1917              	.LVL197:
 1918              	.LBB33:
 1919              	.LBB34:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 1920              		.loc 1 282 0
 1921 00da 0123     		movs	r3, #1
 1922              	.LBE34:
 1923              	.LBE33:
 533:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 1924              		.loc 1 533 0
 1925 00dc 012C     		cmp	r4, #1
 1926              	.LBB37:
 1927              	.LBB35:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 1928              		.loc 1 282 0
 1929 00de 03FA05FC 		lsl	ip, r3, r5
 1930              	.LBE35:
 1931              	.LBE37:
 537:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1932              		.loc 1 537 0
 1933 00e2 08BF     		it	eq
 1934 00e4 4FF0FF32 		moveq	r2, #-1
 1935              	.LBB38:
 1936              	.LBB36:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 1937              		.loc 1 282 0
 1938 00e8 5FFA8CF3 		uxtb	r3, ip
 1939              	.LBE36:
 1940              	.LBE38:
 535:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[0] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 1941              		.loc 1 535 0
 1942 00ec 0CBF     		ite	eq
 1943 00ee 48EA0308 		orreq	r8, r8, r3
 1944              	.LVL198:
 541:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				//tx_intr[1] |= (1 << preview_vc) | ((1 << preview_vc) << 4);
 1945              		.loc 1 541 0
 1946 00f2 1F43     		orrne	r7, r7, r3
 1947              	.LVL199:
 546:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.rx_dt = AXI2MIPI_RAW10;
 1948              		.loc 1 546 0
 1949 00f4 8DF82030 		strb	r3, [sp, #32]
 547:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 1950              		.loc 1 547 0
 1951 00f8 4FF02B03 		mov	r3, #43
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1952              		.loc 1 553 0
 1953 00fc DFF84891 		ldr	r9, .L171+4
 1954              	.LVL200:
 1955 0100 4FF02100 		mov	r0, #33
 547:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 1956              		.loc 1 547 0
 1957 0104 8DF82A30 		strb	r3, [sp, #42]
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1958              		.loc 1 553 0
 1959 0108 4FF01001 		mov	r1, #16
 548:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.pack = AXI2MIPI_UNPACKED_DATA;
 1960              		.loc 1 548 0
 1961 010c 8DF82930 		strb	r3, [sp, #41]
 549:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 1962              		.loc 1 549 0
 1963 0110 4FF00103 		mov	r3, #1
 543:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1964              		.loc 1 543 0
 1965 0114 18BF     		it	ne
 1966 0116 4FF0FF36 		movne	r6, #-1
 549:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 1967              		.loc 1 549 0
 1968 011a 8DF82B30 		strb	r3, [sp, #43]
 550:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.width = img_width;
 1969              		.loc 1 550 0
 1970 011e 4FF00003 		mov	r3, #0
 1971 0122 CDF81CC0 		str	ip, [sp, #28]
 1972              	.LVL201:
 1973 0126 8DF82C30 		strb	r3, [sp, #44]
 551:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.height = img_height;
 1974              		.loc 1 551 0
 1975 012a BDF80C30 		ldrh	r3, [sp, #12]
 1976 012e ADF82E30 		strh	r3, [sp, #46]	@ movhi
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1977              		.loc 1 553 0
 1978 0132 2346     		mov	r3, r4
 552:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW CSI: %x ", preview_csi);
 1979              		.loc 1 552 0
 1980 0134 ADF830B0 		strh	fp, [sp, #48]	@ movhi
 537:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 1981              		.loc 1 537 0
 1982 0138 08BF     		it	eq
 1983 013a 0492     		streq	r2, [sp, #16]
 553:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "TX FIFO: %x ", tx_ff);
 1984              		.loc 1 553 0
 1985 013c 494A     		ldr	r2, .L171+32
 1986 013e C847     		blx	r9
 1987              	.LVL202:
 554:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW VC: %x ", preview_vc);
 1988              		.loc 1 554 0
 1989 0140 DDF81CC0 		ldr	ip, [sp, #28]
 1990 0144 6346     		mov	r3, ip
 1991 0146 2120     		movs	r0, #33
 1992 0148 1021     		movs	r1, #16
 1993 014a 474A     		ldr	r2, .L171+36
 1994 014c C847     		blx	r9
 1995              	.LVL203:
 555:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE WIDTH: %x ", img_width);
 1996              		.loc 1 555 0
 1997 014e 2120     		movs	r0, #33
 1998 0150 1021     		movs	r1, #16
 1999 0152 464A     		ldr	r2, .L171+40
 2000 0154 2B46     		mov	r3, r5
 2001 0156 C847     		blx	r9
 2002              	.LVL204:
 556:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE HEIGHT: %x ", img_height);
 2003              		.loc 1 556 0
 2004 0158 2120     		movs	r0, #33
 2005 015a 1021     		movs	r1, #16
 2006 015c 444A     		ldr	r2, .L171+44
 2007 015e 039B     		ldr	r3, [sp, #12]
 2008 0160 C847     		blx	r9
 2009              	.LVL205:
 557:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi == CSI_0)
 2010              		.loc 1 557 0
 2011 0162 5B46     		mov	r3, fp
 2012 0164 2120     		movs	r0, #33
 2013 0166 1021     		movs	r1, #16
 2014 0168 424A     		ldr	r2, .L171+48
 2015 016a C847     		blx	r9
 2016              	.LVL206:
 558:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				axi2mipi_property.src_addr = TXS0_BASE;
 2017              		.loc 1 558 0
 2018 016c 012C     		cmp	r4, #1
 559:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			else
 2019              		.loc 1 559 0
 2020 016e 08BF     		it	eq
 2021 0170 4FF00173 		moveq	r3, #33816576
 565:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 2022              		.loc 1 565 0
 2023 0174 0598     		ldr	r0, [sp, #20]
 2024 0176 08A9     		add	r1, sp, #32
 561:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.stream_mode = AXI2MIPI_PREVIEW_MODE;
 2025              		.loc 1 561 0
 2026 0178 18BF     		it	ne
 2027 017a 3F4B     		ldrne	r3, .L171+52
 563:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.wrap.wrap_en = DISABLE;
 2028              		.loc 1 563 0
 2029 017c 8DF83250 		strb	r5, [sp, #50]
 561:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.stream_mode = AXI2MIPI_PREVIEW_MODE;
 2030              		.loc 1 561 0
 2031 0180 0993     		str	r3, [sp, #36]
 562:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.vc_for_ff = preview_vc;
 2032              		.loc 1 562 0
 2033 0182 0223     		movs	r3, #2
 2034 0184 8DF82830 		strb	r3, [sp, #40]
 564:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_set_stream_property(preview_csi - 1, &axi2mipi_property);
 2035              		.loc 1 564 0
 2036 0188 0023     		movs	r3, #0
 2037 018a 8DF83630 		strb	r3, [sp, #54]
 565:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 2038              		.loc 1 565 0
 2039 018e 3B4B     		ldr	r3, .L171+56
 2040 0190 9847     		blx	r3
 2041              	.LVL207:
 2042              	.L133:
 2043              	.LBE32:
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2044              		.loc 1 496 0 discriminator 2
 2045 0192 019B     		ldr	r3, [sp, #4]
 2046 0194 0133     		adds	r3, r3, #1
 2047 0196 0193     		str	r3, [sp, #4]
 2048              	.LVL208:
 2049 0198 43E7     		b	.L129
 2050              	.LVL209:
 2051              	.L168:
 568:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2052              		.loc 1 568 0 discriminator 1
 2053 019a 002F     		cmp	r7, #0
 2054 019c 4ED0     		beq	.L128
 2055              	.L131:
 570:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], FRAME_CONTINUOUS);
 2056              		.loc 1 570 0
 2057 019e 384C     		ldr	r4, .L171+60
 2058 01a0 0020     		movs	r0, #0
 2059 01a2 4146     		mov	r1, r8
 2060 01a4 0122     		movs	r2, #1
 2061 01a6 A047     		blx	r4
 2062              	.LVL210:
 571:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], ENABLE);
 2063              		.loc 1 571 0
 2064 01a8 0120     		movs	r0, #1
 2065 01aa 0246     		mov	r2, r0
 2066 01ac 3946     		mov	r1, r7
 2067 01ae A047     		blx	r4
 2068              	.LVL211:
 572:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], ENABLE);
 2069              		.loc 1 572 0
 2070 01b0 0020     		movs	r0, #0
 2071 01b2 4146     		mov	r1, r8
 2072 01b4 0122     		movs	r2, #1
 2073 01b6 334C     		ldr	r4, .L171+64
 2074 01b8 A047     		blx	r4
 2075              	.LVL212:
 573:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2076              		.loc 1 573 0
 2077 01ba 0120     		movs	r0, #1
 2078 01bc 3946     		mov	r1, r7
 2079 01be 0246     		mov	r2, r0
 2080 01c0 A047     		blx	r4
 2081              	.LVL213:
 575:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 2082              		.loc 1 575 0
 2083 01c2 B8F1000F 		cmp	r8, #0
 2084 01c6 09D0     		beq	.L144
 577:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_0, tx_cb, NULL);
 2085              		.loc 1 577 0
 2086 01c8 0020     		movs	r0, #0
 2087 01ca 0499     		ldr	r1, [sp, #16]
 2088 01cc 0122     		movs	r2, #1
 2089 01ce 2E4B     		ldr	r3, .L171+68
 2090 01d0 9847     		blx	r3
 2091              	.LVL214:
 578:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);*/
 2092              		.loc 1 578 0
 2093 01d2 0020     		movs	r0, #0
 2094 01d4 2D49     		ldr	r1, .L171+72
 2095 01d6 0246     		mov	r2, r0
 2096 01d8 2D4B     		ldr	r3, .L171+76
 2097 01da 9847     		blx	r3
 2098              	.LVL215:
 2099              	.L144:
 581:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 2100              		.loc 1 581 0
 2101 01dc 4FB1     		cbz	r7, .L145
 583:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_1, tx_cb, NULL);
 2102              		.loc 1 583 0
 2103 01de 0120     		movs	r0, #1
 2104 01e0 0246     		mov	r2, r0
 2105 01e2 3146     		mov	r1, r6
 2106 01e4 284B     		ldr	r3, .L171+68
 2107 01e6 9847     		blx	r3
 2108              	.LVL216:
 584:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*hal_axi2mipi_start(AXI2MIPI_BRIDGE_1, tx_ff_mask[1]);*/
 2109              		.loc 1 584 0
 2110 01e8 0120     		movs	r0, #1
 2111 01ea 2849     		ldr	r1, .L171+72
 2112 01ec 0022     		movs	r2, #0
 2113 01ee 284B     		ldr	r3, .L171+76
 2114 01f0 9847     		blx	r3
 2115              	.LVL217:
 2116              	.L145:
 496:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2117              		.loc 1 496 0 discriminator 1
 2118 01f2 0024     		movs	r4, #0
 2119              	.LVL218:
 2120              	.L146:
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 2121              		.loc 1 588 0 discriminator 1
 2122 01f4 069B     		ldr	r3, [sp, #24]
 2123 01f6 9C42     		cmp	r4, r3
 2124 01f8 19D0     		beq	.L147
 590:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(cam_idx == 0)
 2125              		.loc 1 590 0
 2126 01fa 9AFAAAF3 		rbit	r3, r10
 2127 01fe B3FA83F3 		clz	r3, r3
 2128 0202 D8B2     		uxtb	r0, r3
 2129              	.LVL219:
 591:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				break;
 2130              		.loc 1 591 0
 2131 0204 9BB1     		cbz	r3, .L147
 593:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			pcam = idx_to_object(cam_idx);
 2132              		.loc 1 593 0
 2133 0206 0122     		movs	r2, #1
 2134 0208 02FA03F3 		lsl	r3, r2, r3
 2135 020c 2AEA030A 		bic	r10, r10, r3
 2136              	.LVL220:
 594:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(pcam)
 2137              		.loc 1 594 0
 2138 0210 0E4B     		ldr	r3, .L171+8
 2139 0212 9847     		blx	r3
 2140              	.LVL221:
 595:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 2141              		.loc 1 595 0
 2142 0214 0546     		mov	r5, r0
 2143 0216 40B1     		cbz	r0, .L148
 2144              	.LBB39:
 597:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				/* Update the cam status */
 2145              		.loc 1 597 0
 2146 0218 1E4B     		ldr	r3, .L171+80
 2147 021a 0021     		movs	r1, #0
 2148 021c 0068     		ldr	r0, [r0]
 2149              	.LVL222:
 2150 021e 9847     		blx	r3
 2151              	.LVL223:
 599:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				*cam_status |= S_MODULE_STREAM_ON;
 2152              		.loc 1 599 0
 2153 0220 AA68     		ldr	r2, [r5, #8]
 2154              	.LVL224:
 600:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 2155              		.loc 1 600 0
 2156 0222 5368     		ldr	r3, [r2, #4]
 2157 0224 43F01003 		orr	r3, r3, #16
 2158 0228 5360     		str	r3, [r2, #4]
 2159              	.LVL225:
 2160              	.L148:
 2161              	.LBE39:
 588:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 2162              		.loc 1 588 0 discriminator 2
 2163 022a 0134     		adds	r4, r4, #1
 2164              	.LVL226:
 2165 022c E2E7     		b	.L146
 2166              	.LVL227:
 2167              	.L147:
 603:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_trigger();
 2168              		.loc 1 603 0
 2169 022e 064B     		ldr	r3, .L171+4
 2170 0230 2120     		movs	r0, #33
 2171 0232 1021     		movs	r1, #16
 2172 0234 184A     		ldr	r2, .L171+84
 2173 0236 9847     		blx	r3
 2174              	.LVL228:
 604:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 2175              		.loc 1 604 0
 2176 0238 184B     		ldr	r3, .L171+88
 2177 023a 9847     		blx	r3
 2178              	.LVL229:
 2179              	.L128:
 606:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** lcc_cmd_status_t ucid_preview_hdl(uint32_t mbitmask, uint8_t mnumber)
 2180              		.loc 1 606 0
 2181 023c 0FB0     		add	sp, sp, #60
 2182              	.LCFI24:
 2183              		.cfi_def_cfa_offset 36
 2184              		@ sp needed
 2185 023e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2186              	.LVL230:
 2187              	.L172:
 2188 0242 00BF     		.align	2
 2189              	.L171:
 2190 0244 6A010000 		.word	.LC18
 2191 0248 00000000 		.word	slogf
 2192 024c 00000000 		.word	idx_to_object
 2193 0250 00000000 		.word	img_sensor_config_mode
 2194 0254 00000000 		.word	img_sensor_pattern_mode
 2195 0258 CB000000 		.word	.LC9
 2196 025c DF000000 		.word	.LC10
 2197 0260 00000000 		.word	setup_spg_preview.constprop.3
 2198 0264 F2000000 		.word	.LC11
 2199 0268 03010000 		.word	.LC12
 2200 026c 10010000 		.word	.LC13
 2201 0270 20010000 		.word	.LC14
 2202 0274 31010000 		.word	.LC15
 2203 0278 00000502 		.word	33882112
 2204 027c 00000000 		.word	hal_axi2mipi_set_stream_property
 2205 0280 00000000 		.word	hal_axi2mipi_set_frame_mode
 2206 0284 00000000 		.word	hal_axi2mipi_programming_valid
 2207 0288 00000000 		.word	hal_axi2mipi_irq_mask
 2208 028c 00000000 		.word	tx_cb
 2209 0290 00000000 		.word	hal_axi2mipi_irq_enable
 2210 0294 00000000 		.word	img_sensor_stream_on
 2211 0298 80010000 		.word	.LC19
 2212 029c 00000000 		.word	hal_syncio_trigger
 2213 02a0 00000000 		.word	img_sensor_read_reg
 2214 02a4 00000000 		.word	setup_mipi_rx_snapshot
 2215              		.cfi_endproc
 2216              	.LFE15:
 2218              		.section	.text.check_ddr,"ax",%progbits
 2219              		.align	1
 2220              		.global	check_ddr
 2221              		.thumb
 2222              		.thumb_func
 2224              	check_ddr:
 2225              	.LFB17:
 779:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t start_addr, end_addr, read_back, i;
 2226              		.loc 1 779 0
 2227              		.cfi_startproc
 2228              		@ args = 0, pretend = 0, frame = 0
 2229              		@ frame_needed = 0, uses_anonymous_args = 0
 2230              	.LVL231:
 2231 0000 10B5     		push	{r4, lr}
 2232              	.LCFI25:
 2233              		.cfi_def_cfa_offset 8
 2234              		.cfi_offset 4, -8
 2235              		.cfi_offset 14, -4
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2236              		.loc 1 785 0
 2237 0002 4FF08063 		mov	r3, #67108864
 781:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	start_addr = DDR_BASE;
 2238              		.loc 1 781 0
 2239 0006 0024     		movs	r4, #0
 2240              	.LVL232:
 2241              	.L175:
 787:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		read_back = readl(i);
 2242              		.loc 1 787 0
 2243 0008 0A4A     		ldr	r2, .L180
 2244 000a 1A60     		str	r2, [r3]
 788:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2245              		.loc 1 788 0
 2246 000c 53F8041B 		ldr	r1, [r3], #4
 2247              	.LVL233:
 792:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 2248              		.loc 1 792 0
 2249 0010 9142     		cmp	r1, r2
 2250 0012 18BF     		it	ne
 2251 0014 0124     		movne	r4, #1
 2252              	.LVL234:
 785:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2253              		.loc 1 785 0
 2254 0016 084A     		ldr	r2, .L180+4
 2255 0018 9342     		cmp	r3, r2
 2256 001a F5D1     		bne	.L175
 2257 001c 074B     		ldr	r3, .L180+8
 2258              	.LVL235:
 798:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 2259              		.loc 1 798 0
 2260 001e 2120     		movs	r0, #33
 796:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2261              		.loc 1 796 0
 2262 0020 14B1     		cbz	r4, .L176
 798:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 2263              		.loc 1 798 0
 2264 0022 0221     		movs	r1, #2
 2265              	.LVL236:
 2266 0024 064A     		ldr	r2, .L180+12
 2267 0026 01E0     		b	.L179
 2268              	.LVL237:
 2269              	.L176:
 802:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 2270              		.loc 1 802 0
 2271 0028 064A     		ldr	r2, .L180+16
 2272 002a 0821     		movs	r1, #8
 2273              	.LVL238:
 2274              	.L179:
 2275 002c 9847     		blx	r3
 2276              	.LVL239:
 805:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2277              		.loc 1 805 0
 2278 002e 2046     		mov	r0, r4
 2279 0030 10BD     		pop	{r4, pc}
 2280              	.LVL240:
 2281              	.L181:
 2282 0032 00BF     		.align	2
 2283              	.L180:
 2284 0034 44332211 		.word	287454020
 2285 0038 04000104 		.word	67174404
 2286 003c 00000000 		.word	slogf
 2287 0040 90010000 		.word	.LC20
 2288 0044 9F010000 		.word	.LC21
 2289              		.cfi_endproc
 2290              	.LFE17:
 2292              		.global	__popcountsi2
 2293              		.global	__aeabi_dcmplt
 2294              		.global	__aeabi_i2d
 2295              		.global	__aeabi_dmul
 2296              		.global	__aeabi_dadd
 2297              		.section	.text.ucid_hires_hdl,"ax",%progbits
 2298              		.align	1
 2299              		.global	ucid_hires_hdl
 2300              		.thumb
 2301              		.thumb_func
 2303              	ucid_hires_hdl:
 2304              	.LFB23:
 825:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 826:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static uint8_t snapshot_syncio_config(snapshot_info_t *sinfo, uint8_t numpulse)
 827:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 828:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_cfg_t cfg;
 829:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_irq_t intr;
 830:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 831:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.inf_mode = SG_INF_DIS;
 832:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.repeat = numpulse;
 833:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.trig_mode = SG_TRIG_HW;
 834:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.width1 = 1 * SPG_MILISECOND;
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(numpulse > light_system->settings->burst[light_system->active_ucid].burst_requested)
 836:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cfg.lat1 = (uint32_t)((sinfo->ft) * SPG_SECOND);
 838:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* To compensate the pulse */
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cfg.lat1 -= 1 * SPG_MILISECOND;
 840:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 841:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	else
 842:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cfg.lat1 = (uint32_t)((sinfo->it + sinfo->it_tolerance + 0.001206) * SPG_SECOND);
 844:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.width2 = 0;
 846:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.lat2 = 0;
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	sinfo->syncio_lat = cfg.lat1;
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_init(sinfo->syncio_idx);
 849:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_config(sinfo->syncio_idx, &cfg);
 850:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_INFO, "CAM-%X has latency %d and %d pulses",
 852:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				sinfo->pcam->info.module,(unsigned int)cfg.lat1, cfg.repeat);
 853:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.irq_modes = SG_INTR_PULSE_DONE;
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.callback_handler = syncio_pulse_interrupt;
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable_irq(sinfo->syncio_idx, &intr);
 857:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable(sinfo->syncio_idx);
 858:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return 0;
 859:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 860:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void free_snapshot_info_resource(snapshot_info_t **sinfo, uint8_t size)
 861:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 862:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = 0; i < size; i++)
 864:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		vPortFree(sinfo[i]);
 866:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		sinfo[i] = NULL;
 867:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 868:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 869:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** static void camera_offset_stream_on(snapshot_info_t **sinfo, uint8_t total, uint8_t streamed_on)
 870:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 871:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(streamed_on < total)
 872:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 873:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		snapshot_timer_data_t *timer_data = NULL;
 874:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timer_data = pvPortMalloc(sizeof(snapshot_timer_data_t));
 875:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(timer_data == NULL)
 876:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 877:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_ERROR, "%s:%d Malloc failed", __FUNCTION__, __LINE__);
 878:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			return;
 879:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timer_data->sinfo = sinfo;
 881:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timer_data->evenhdl = xEventGroupCreate();
 882:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_t stimer;
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.chid = HAL_TIM_CH3;
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.period = 10;
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.params = timer_data;
 886:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.callback_handler = snapshot_timer_irq;
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_stop(stimer.chid);
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_init(&stimer);
 889:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_start(stimer.chid);
 890:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		while(streamed_on < total)
 891:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			EventBits_t event = xEventGroupWaitBits(timer_data->evenhdl,
 893:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										0xFFFF, pdTRUE, pdFALSE, portMAX_DELAY);
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(event)
 895:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 896:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				for(int i = 0; i < total; i++)
 897:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					uint32_t cam_msk = (uint32_t)(1 << sinfo[i]->cam_idx);
 899:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					if((cam_msk & event) && (sinfo[i]->inused))
 900:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					{
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						sinfo[i]->inused = 0;
 902:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						img_sensor_stream_on(sinfo[i]->pcam->image, SLAVE_MODE);
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						streamed_on ++;
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						uint32_t *cam_status = (uint32_t *)sinfo[i]->pcam->settings->status;
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						*cam_status |= S_MODULE_STREAM_ON;
 906:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					}
 907:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				}
 908:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 909:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 910:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(timer_data)
 911:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 912:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			timer_data->sinfo = NULL;
 913:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vEventGroupDelete(timer_data->evenhdl);
 914:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			timer_data = NULL;
 915:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 916:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 917:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 918:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 919:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** lcc_cmd_status_t ucid_hires_hdl(uint32_t mbitmask, uint8_t mnumber, uint8_t wait_asics)
 920:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 2305              		.loc 1 920 0
 2306              		.cfi_startproc
 2307              		@ args = 0, pretend = 0, frame = 88
 2308              		@ frame_needed = 1, uses_anonymous_args = 0
 2309              	.LVL241:
 2310 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2311              	.LCFI26:
 2312              		.cfi_def_cfa_offset 36
 2313              		.cfi_offset 4, -36
 2314              		.cfi_offset 5, -32
 2315              		.cfi_offset 6, -28
 2316              		.cfi_offset 7, -24
 2317              		.cfi_offset 8, -20
 2318              		.cfi_offset 9, -16
 2319              		.cfi_offset 10, -12
 2320              		.cfi_offset 11, -8
 2321              		.cfi_offset 14, -4
 2322 0004 9BB0     		sub	sp, sp, #108
 2323              	.LCFI27:
 2324              		.cfi_def_cfa_offset 144
 2325 0006 04AF     		add	r7, sp, #16
 2326              	.LCFI28:
 2327              		.cfi_def_cfa 7, 128
 921:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #if (ASIC_NUM == ASIC1)
 922:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	vTaskSuspend(task_asic_read_handle);
 923:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_stop(AXI2MIPI_BRIDGE_0, AXI2MIPI_FIFO_ALL);
 925:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_irq_disable(AXI2MIPI_BRIDGE_0);
 926:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 927:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int ret_code = 0;
 928:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	lcc_cmd_status_t cmd_status = LCC_CMD_SUCCESS;
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t skip_frame = 0;
 2328              		.loc 1 929 0
 2329 0008 0024     		movs	r4, #0
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_irq_disable(AXI2MIPI_BRIDGE_0);
 2330              		.loc 1 924 0
 2331 000a 0F21     		movs	r1, #15
 2332              	.LVL242:
 920:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #if (ASIC_NUM == ASIC1)
 2333              		.loc 1 920 0
 2334 000c 7861     		str	r0, [r7, #20]
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_irq_disable(AXI2MIPI_BRIDGE_0);
 2335              		.loc 1 924 0
 2336 000e 0020     		movs	r0, #0
 2337              	.LVL243:
 2338 0010 8D4B     		ldr	r3, .L236+16
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	TaskHandle_t tx_hdl = NULL, lh_hdl = NULL;
 931:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 932:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t tmp_bitmask = mbitmask;
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mnumber = __builtin_popcount(mbitmask);
 934:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	snapshot_info_t *sinfo[mnumber];
 936:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t sinfo_cnt = 0;
 2339              		.loc 1 936 0
 2340 0012 A246     		mov	r10, r4
 924:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_irq_disable(AXI2MIPI_BRIDGE_0);
 2341              		.loc 1 924 0
 2342 0014 9847     		blx	r3
 2343              	.LVL244:
 925:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 2344              		.loc 1 925 0
 2345 0016 0020     		movs	r0, #0
 2346 0018 8C4B     		ldr	r3, .L236+20
 937:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 938:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	snapshot_timer_data_t *timer_data = NULL;
 939:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 940:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t burst_size = light_system->settings->burst[light_system->active_ucid].burst_requested;
 941:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Reset SYNCIO interrupt counter */
 942:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cur_counter = 0;
 943:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = 0; i < mnumber; i++)
 2347              		.loc 1 944 0
 2348 001a A146     		mov	r9, r4
 925:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 2349              		.loc 1 925 0
 2350 001c 9847     		blx	r3
 2351              	.LVL245:
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2352              		.loc 1 933 0
 2353 001e 8C4B     		ldr	r3, .L236+24
 929:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	TaskHandle_t tx_hdl = NULL, lh_hdl = NULL;
 2354              		.loc 1 929 0
 2355 0020 87F82F40 		strb	r4, [r7, #47]
 930:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2356              		.loc 1 930 0
 2357 0024 3C63     		str	r4, [r7, #48]
 2358 0026 7C63     		str	r4, [r7, #52]
 2359              	.LVL246:
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2360              		.loc 1 933 0
 2361 0028 7869     		ldr	r0, [r7, #20]
 2362 002a 9847     		blx	r3
 2363              	.LVL247:
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t sinfo_cnt = 0;
 2364              		.loc 1 935 0
 2365 002c 8300     		lsls	r3, r0, #2
 2366 002e 0A33     		adds	r3, r3, #10
 2367 0030 23F00703 		bic	r3, r3, #7
 2368 0034 ADEB030D 		sub	sp, sp, r3
 2369              	.LVL248:
 940:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Reset SYNCIO interrupt counter */
 2370              		.loc 1 940 0
 2371 0038 864B     		ldr	r3, .L236+28
 935:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t sinfo_cnt = 0;
 2372              		.loc 1 935 0
 2373 003a 0DF1100B 		add	fp, sp, #16
 933:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2374              		.loc 1 933 0
 2375 003e 3861     		str	r0, [r7, #16]
 2376              	.LVL249:
 940:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Reset SYNCIO interrupt counter */
 2377              		.loc 1 940 0
 2378 0040 1B68     		ldr	r3, [r3]
 2379 0042 7B62     		str	r3, [r7, #36]
 2380 0044 9A68     		ldr	r2, [r3, #8]
 2381 0046 DB8C     		ldrh	r3, [r3, #38]
 2382 0048 03EB4303 		add	r3, r3, r3, lsl #1
 2383 004c 1344     		add	r3, r3, r2
 2384 004e 93F82F30 		ldrb	r3, [r3, #47]	@ zero_extendqisi2
 2385 0052 3B62     		str	r3, [r7, #32]
 2386              	.LVL250:
 942:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2387              		.loc 1 942 0
 2388 0054 804B     		ldr	r3, .L236+32
 2389 0056 1C60     		str	r4, [r3]
 932:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mnumber = __builtin_popcount(mbitmask);
 2390              		.loc 1 932 0
 2391 0058 7B69     		ldr	r3, [r7, #20]
 2392 005a BB61     		str	r3, [r7, #24]
 2393              	.LVL251:
 2394              	.L183:
 2395              		.loc 1 944 0 discriminator 1
 2396 005c 3B69     		ldr	r3, [r7, #16]
 2397 005e 9945     		cmp	r9, r3
 2398 0060 00F08F80 		beq	.L231
 2399              	.LBB55:
 945:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		uint8_t cam_idx = __builtin_ctz(tmp_bitmask);
 2400              		.loc 1 946 0
 2401 0064 BB69     		ldr	r3, [r7, #24]
 2402 0066 93FAA3F3 		rbit	r3, r3
 2403 006a B3FA83F3 		clz	r3, r3
 2404 006e DAB2     		uxtb	r2, r3
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tmp_bitmask &= ~(1 << (cam_idx));
 2405              		.loc 1 947 0
 2406 0070 0124     		movs	r4, #1
 946:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tmp_bitmask &= ~(1 << (cam_idx));
 2407              		.loc 1 946 0
 2408 0072 FA60     		str	r2, [r7, #12]
 2409              	.LVL252:
 2410              		.loc 1 947 0
 2411 0074 BA69     		ldr	r2, [r7, #24]
 2412 0076 04FA03F3 		lsl	r3, r4, r3
 2413 007a 22EA0303 		bic	r3, r2, r3
 948:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cam_typedef_t *pcam = idx_to_object(cam_idx);
 2414              		.loc 1 948 0
 2415 007e F868     		ldr	r0, [r7, #12]
 947:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		tmp_bitmask &= ~(1 << (cam_idx));
 2416              		.loc 1 947 0
 2417 0080 BB61     		str	r3, [r7, #24]
 2418              	.LVL253:
 2419              		.loc 1 948 0
 2420 0082 764B     		ldr	r3, .L236+36
 2421              	.LVL254:
 2422 0084 9847     		blx	r3
 2423              	.LVL255:
 949:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(pcam)
 2424              		.loc 1 949 0
 2425 0086 0546     		mov	r5, r0
 2426 0088 0028     		cmp	r0, #0
 2427 008a 77D0     		beq	.L184
 950:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 951:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/* Update the settings for UCID */
 952:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_resolution(pcam);
 2428              		.loc 1 952 0
 2429 008c 744B     		ldr	r3, .L236+40
 2430 008e 0FFA8AF6 		sxth	r6, r10
 2431 0092 9847     		blx	r3
 2432              	.LVL256:
 953:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_fps(pcam);
 2433              		.loc 1 953 0
 2434 0094 734B     		ldr	r3, .L236+44
 2435 0096 2846     		mov	r0, r5
 2436 0098 9847     		blx	r3
 2437              	.LVL257:
 954:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_sensitivity(pcam);
 2438              		.loc 1 954 0
 2439 009a 734B     		ldr	r3, .L236+48
 2440 009c 2846     		mov	r0, r5
 2441 009e 9847     		blx	r3
 2442              	.LVL258:
 955:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_exposure(pcam);
 2443              		.loc 1 955 0
 2444 00a0 724B     		ldr	r3, .L236+52
 2445 00a2 2846     		mov	r0, r5
 2446 00a4 9847     		blx	r3
 2447              	.LVL259:
 956:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 957:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_reset_trigger(pcam->image);
 2448              		.loc 1 957 0
 2449 00a6 2868     		ldr	r0, [r5]
 2450 00a8 714B     		ldr	r3, .L236+56
 2451 00aa 9847     		blx	r3
 2452              	.LVL260:
 958:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_config_mode(pcam->image, SLAVE_MODE);
 2453              		.loc 1 958 0
 2454 00ac 0021     		movs	r1, #0
 2455 00ae 714B     		ldr	r3, .L236+60
 2456 00b0 2868     		ldr	r0, [r5]
 2457 00b2 9847     		blx	r3
 2458              	.LVL261:
 959:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #ifdef SENSOR_PATTERN_MODE
 960:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_pattern_mode(pcam->image, PAT_COLOR_BAR);
 961:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 962:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt] = pvPortMalloc(sizeof(snapshot_info_t));
 2459              		.loc 1 962 0
 2460 00b4 2820     		movs	r0, #40
 2461 00b6 7049     		ldr	r1, .L236+64
 2462 00b8 40F2C232 		movw	r2, #962
 2463 00bc 6F4B     		ldr	r3, .L236+68
 2464 00be 9847     		blx	r3
 2465              	.LVL262:
 2466 00c0 8046     		mov	r8, r0
 2467 00c2 4BF82600 		str	r0, [fp, r6, lsl #2]
 963:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(sinfo[sinfo_cnt] == NULL)
 2468              		.loc 1 963 0
 2469 00c6 48B9     		cbnz	r0, .L185
 964:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 965:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				SLOGF(SLOG_ERROR, "%s:%d Malloc failed", __FUNCTION__, __LINE__);
 2470              		.loc 1 965 0
 2471 00c8 40F2C533 		movw	r3, #965
 2472 00cc 2120     		movs	r0, #33
 2473 00ce 0221     		movs	r1, #2
 2474 00d0 0093     		str	r3, [sp]
 2475              	.LVL263:
 2476 00d2 6B4A     		ldr	r2, .L236+72
 2477 00d4 684B     		ldr	r3, .L236+64
 2478 00d6 6B4D     		ldr	r5, .L236+76
 2479              	.LVL264:
 2480 00d8 A847     		blx	r5
 2481              	.LVL265:
 966:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				goto release_resource;
 2482              		.loc 1 966 0
 2483 00da F8E1     		b	.L186
 2484              	.LVL266:
 2485              	.L185:
 967:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 968:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->it = img_sensor_get_frame_time(pcam->image,
 2486              		.loc 1 968 0
 2487 00dc 08F12001 		add	r1, r8, #32
 2488 00e0 694B     		ldr	r3, .L236+80
 2489 00e2 2868     		ldr	r0, [r5]
 2490 00e4 9847     		blx	r3
 2491              	.LVL267:
 969:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 													&(sinfo[sinfo_cnt]->ft));
 970:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->it_tolerance = 0;
 2492              		.loc 1 970 0
 2493 00e6 5BF82630 		ldr	r3, [fp, r6, lsl #2]
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->pcam = pcam;
 972:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_INFO,
 2494              		.loc 1 972 0
 2495 00ea 684A     		ldr	r2, .L236+84
 2496 00ec BA60     		str	r2, [r7, #8]
 968:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 													&(sinfo[sinfo_cnt]->ft));
 2497              		.loc 1 968 0
 2498 00ee C8E90401 		strd	r0, [r8, #16]
 970:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->pcam = pcam;
 2499              		.loc 1 970 0
 2500 00f2 0020     		movs	r0, #0
 971:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->pcam = pcam;
 2501              		.loc 1 971 0
 2502 00f4 1D60     		str	r5, [r3]
 970:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->pcam = pcam;
 2503              		.loc 1 970 0
 2504 00f6 0021     		movs	r1, #0
 2505              		.loc 1 972 0
 2506 00f8 5BF82640 		ldr	r4, [fp, r6, lsl #2]
 970:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->pcam = pcam;
 2507              		.loc 1 970 0
 2508 00fc C3E90601 		strd	r0, [r3, #24]
 2509              		.loc 1 972 0
 2510 0100 DFF89881 		ldr	r8, .L236+100
 2511 0104 D4E90401 		ldrd	r0, [r4, #16]
 2512 0108 2368     		ldr	r3, [r4]
 2513 010a 93F82930 		ldrb	r3, [r3, #41]	@ zero_extendqisi2
 2514 010e 7B60     		str	r3, [r7, #4]
 2515 0110 9047     		blx	r2
 2516              	.LVL268:
 2517 0112 C047     		blx	r8
 2518              	.LVL269:
 2519 0114 5D4A     		ldr	r2, .L236+84
 2520 0116 CDE90001 		strd	r0, [sp]
 2521              	.LVL270:
 2522 011a D4E90801 		ldrd	r0, [r4, #32]
 2523 011e 9047     		blx	r2
 2524              	.LVL271:
 2525 0120 584C     		ldr	r4, .L236+76
 2526 0122 C047     		blx	r8
 2527              	.LVL272:
 2528 0124 5A4A     		ldr	r2, .L236+88
 2529 0126 7B68     		ldr	r3, [r7, #4]
 2530 0128 CDE90201 		strd	r0, [sp, #8]
 2531 012c 2120     		movs	r0, #33
 2532 012e 0821     		movs	r1, #8
 2533 0130 A047     		blx	r4
 2534              	.LVL273:
 973:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				"CAM-%X has integration time %.04f (seconds) and frame time %.04f",
 974:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				sinfo[sinfo_cnt]->pcam->info.module,
 975:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				(float)sinfo[sinfo_cnt]->it,
 976:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				(float)sinfo[sinfo_cnt]->ft);
 977:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 978:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(sinfo[sinfo_cnt]->it < MAX_IT_TO_SKIP || burst_size > 1)
 2535              		.loc 1 978 0
 2536 0132 5BF82640 		ldr	r4, [fp, r6, lsl #2]
 2537 0136 40A3     		adr	r3, .L236
 2538 0138 D3E90023 		ldrd	r2, [r3]
 2539 013c DFF86CC1 		ldr	ip, .L236+116
 2540 0140 D4E90401 		ldrd	r0, [r4, #16]
 2541 0144 E047     		blx	ip
 2542              	.LVL274:
 2543 0146 10B9     		cbnz	r0, .L187
 2544              		.loc 1 978 0 is_stmt 0 discriminator 1
 2545 0148 3B6A     		ldr	r3, [r7, #32]
 2546 014a 012B     		cmp	r3, #1
 2547 014c 02D9     		bls	.L188
 2548              	.L187:
 979:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				skip_frame = 1;
 2549              		.loc 1 979 0 is_stmt 1
 2550 014e 0123     		movs	r3, #1
 2551 0150 87F82F30 		strb	r3, [r7, #47]
 2552              	.L188:
 980:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->cam_idx = cam_idx;
 2553              		.loc 1 980 0
 2554 0154 3B7B     		ldrb	r3, [r7, #12]	@ zero_extendqisi2
 2555 0156 6371     		strb	r3, [r4, #5]
 981:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->syncio_idx = pcam->info.ch - 1;
 2556              		.loc 1 981 0
 2557 0158 95F82830 		ldrb	r3, [r5, #40]	@ zero_extendqisi2
 2558 015c C3F30303 		ubfx	r3, r3, #0, #4
 2559 0160 013B     		subs	r3, r3, #1
 2560 0162 5BF82620 		ldr	r2, [fp, r6, lsl #2]
 2561 0166 1371     		strb	r3, [r2, #4]
 982:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->offset = 0;
 2562              		.loc 1 982 0
 2563 0168 0022     		movs	r2, #0
 2564 016a 5BF82630 		ldr	r3, [fp, r6, lsl #2]
 2565 016e 9A60     		str	r2, [r3, #8]
 983:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[sinfo_cnt]->inused = 1;
 2566              		.loc 1 983 0
 2567 0170 0122     		movs	r2, #1
 2568 0172 9A71     		strb	r2, [r3, #6]
 984:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo_cnt ++;
 2569              		.loc 1 984 0
 2570 0174 0AEB0203 		add	r3, r10, r2
 2571 0178 5FFA83FA 		uxtb	r10, r3
 2572              	.LVL275:
 2573              	.L184:
 2574              	.LBE55:
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2575              		.loc 1 944 0 discriminator 2
 2576 017c 09F10109 		add	r9, r9, #1
 2577              	.LVL276:
 2578 0180 6CE7     		b	.L183
 2579              	.LVL277:
 2580              	.L231:
 2581 0182 5D46     		mov	r5, fp
 944:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2582              		.loc 1 944 0 is_stmt 0
 2583 0184 0024     		movs	r4, #0
 2584              	.LVL278:
 2585              	.L190:
 985:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 986:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 987:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = 0; i < sinfo_cnt; i++)
 2586              		.loc 1 987 0 is_stmt 1 discriminator 1
 2587 0186 5445     		cmp	r4, r10
 2588 0188 97F82F20 		ldrb	r2, [r7, #47]	@ zero_extendqisi2
 2589 018c 80F2CF80 		bge	.L232
 988:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 989:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(!skip_frame)
 2590              		.loc 1 989 0
 2591 0190 42BB     		cbnz	r2, .L191
 2592 0192 601C     		adds	r0, r4, #1
 2593              	.LBB56:
 2594              	.LBB57:
 816:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 2595              		.loc 1 816 0
 2596 0194 3F4B     		ldr	r3, .L236+92
 2597 0196 C0B2     		uxtb	r0, r0
 2598 0198 9847     		blx	r3
 2599              	.LVL279:
 2600 019a 3F4B     		ldr	r3, .L236+96
 2601 019c 3F4E     		ldr	r6, .L236+100
 2602              	.LBE57:
 2603              	.LBE56:
 990:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			update_it_tolerance(sinfo[i], i, sinfo_cnt);
 2604              		.loc 1 990 0
 2605 019e D5F80080 		ldr	r8, [r5]
 2606              	.LVL280:
 2607              	.LBB59:
 2608              	.LBB58:
 816:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 2609              		.loc 1 816 0
 2610 01a2 C7E90601 		strd	r0, [r7, #24]
 2611 01a6 1868     		ldr	r0, [r3]	@ float
 2612 01a8 B047     		blx	r6
 2613              	.LVL281:
 2614 01aa DFF804C1 		ldr	ip, .L236+120
 2615 01ae 0246     		mov	r2, r0
 2616 01b0 0B46     		mov	r3, r1
 2617 01b2 D7E90601 		ldrd	r0, [r7, #24]
 2618 01b6 E047     		blx	ip
 2619              	.LVL282:
 2620 01b8 0022     		movs	r2, #0
 2621 01ba DFF8F8C0 		ldr	ip, .L236+124
 2622 01be 0023     		movs	r3, #0
 2623 01c0 E047     		blx	ip
 2624              	.LVL283:
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						sinfo->pcam->info.module, (float)sinfo->it_tolerance);
 2625              		.loc 1 818 0
 2626 01c2 D8F80030 		ldr	r3, [r8]
 816:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
 2627              		.loc 1 816 0
 2628 01c6 C8E90601 		strd	r0, [r8, #24]
 818:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						sinfo->pcam->info.module, (float)sinfo->it_tolerance);
 2629              		.loc 1 818 0
 2630 01ca 93F82980 		ldrb	r8, [r3, #41]	@ zero_extendqisi2
 2631              	.LVL284:
 2632 01ce 2F4B     		ldr	r3, .L236+84
 2633 01d0 9847     		blx	r3
 2634              	.LVL285:
 2635 01d2 B047     		blx	r6
 2636              	.LVL286:
 2637 01d4 324A     		ldr	r2, .L236+104
 2638 01d6 4346     		mov	r3, r8
 2639 01d8 2A4E     		ldr	r6, .L236+76
 2640 01da CDE90001 		strd	r0, [sp]
 2641 01de 2120     		movs	r0, #33
 2642 01e0 0821     		movs	r1, #8
 2643 01e2 B047     		blx	r6
 2644              	.LVL287:
 2645              	.L191:
 2646              	.LBE58:
 2647              	.LBE59:
 991:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		snapshot_syncio_config(sinfo[i], burst_size + skip_frame);
 2648              		.loc 1 991 0 discriminator 2
 2649 01e4 3A6A     		ldr	r2, [r7, #32]
 2650 01e6 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 2651 01ea 55F8046B 		ldr	r6, [r5], #4
 2652 01ee 1344     		add	r3, r3, r2
 2653              	.LBB60:
 2654              	.LBB61:
 831:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.repeat = numpulse;
 2655              		.loc 1 831 0 discriminator 2
 2656 01f0 0022     		movs	r2, #0
 2657              	.LBE61:
 2658              	.LBE60:
 2659              		.loc 1 991 0 discriminator 2
 2660 01f2 DBB2     		uxtb	r3, r3
 2661              	.LVL288:
 2662              	.LBB64:
 2663              	.LBB62:
 831:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.repeat = numpulse;
 2664              		.loc 1 831 0 discriminator 2
 2665 01f4 87F84020 		strb	r2, [r7, #64]
 833:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.width1 = 1 * SPG_MILISECOND;
 2666              		.loc 1 833 0 discriminator 2
 2667 01f8 0122     		movs	r2, #1
 832:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.trig_mode = SG_TRIG_HW;
 2668              		.loc 1 832 0 discriminator 2
 2669 01fa 87F85430 		strb	r3, [r7, #84]
 833:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.width1 = 1 * SPG_MILISECOND;
 2670              		.loc 1 833 0 discriminator 2
 2671 01fe 87F84120 		strb	r2, [r7, #65]
 834:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(numpulse > light_system->settings->burst[light_system->active_ucid].burst_requested)
 2672              		.loc 1 834 0 discriminator 2
 2673 0202 284A     		ldr	r2, .L236+108
 2674 0204 FA64     		str	r2, [r7, #76]
 835:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2675              		.loc 1 835 0 discriminator 2
 2676 0206 7A6A     		ldr	r2, [r7, #36]
 2677 0208 DFF8A480 		ldr	r8, .L236+120
 2678 020c 9168     		ldr	r1, [r2, #8]
 2679 020e D28C     		ldrh	r2, [r2, #38]
 2680 0210 02EB4202 		add	r2, r2, r2, lsl #1
 2681 0214 0A44     		add	r2, r2, r1
 2682 0216 92F82F20 		ldrb	r2, [r2, #47]	@ zero_extendqisi2
 2683 021a 9A42     		cmp	r2, r3
 2684 021c 4CD2     		bcs	.L192
 837:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* To compensate the pulse */
 2685              		.loc 1 837 0
 2686 021e 08A3     		adr	r3, .L236+8
 2687 0220 D3E90023 		ldrd	r2, [r3]
 2688 0224 D6E90801 		ldrd	r0, [r6, #32]
 2689 0228 C047     		blx	r8
 2690              	.LVL289:
 2691 022a 1F4B     		ldr	r3, .L236+112
 2692 022c 9847     		blx	r3
 2693              	.LVL290:
 839:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 2694              		.loc 1 839 0
 2695 022e A0F50130 		sub	r0, r0, #132096
 2696 0232 A0F56270 		sub	r0, r0, #904
 2697 0236 50E0     		b	.L228
 2698              	.L237:
 2699              		.align	3
 2700              	.L236:
 2701 0238 B81E85EB 		.word	-343597384
 2702 023c 51B88E3F 		.word	1066317905
 2703 0240 00000000 		.word	0
 2704 0244 ADB59F41 		.word	1100985773
 2705 0248 00000000 		.word	hal_axi2mipi_stop
 2706 024c 00000000 		.word	hal_axi2mipi_irq_disable
 2707 0250 00000000 		.word	__popcountsi2
 2708 0254 00000000 		.word	light_system
 2709 0258 00000000 		.word	.LANCHOR0
 2710 025c 00000000 		.word	idx_to_object
 2711 0260 00000000 		.word	cam_ctrl_resolution
 2712 0264 00000000 		.word	cam_ctrl_fps
 2713 0268 00000000 		.word	cam_ctrl_sensitivity
 2714 026c 00000000 		.word	cam_ctrl_exposure
 2715 0270 00000000 		.word	img_sensor_reset_trigger
 2716 0274 00000000 		.word	img_sensor_config_mode
 2717 0278 00000000 		.word	.LANCHOR6
 2718 027c 00000000 		.word	pvPortMalloc1
 2719 0280 B0010000 		.word	.LC22
 2720 0284 00000000 		.word	slogf
 2721 0288 00000000 		.word	img_sensor_get_frame_time
 2722 028c 00000000 		.word	__aeabi_d2f
 2723 0290 C4010000 		.word	.LC23
 2724 0294 00000000 		.word	__aeabi_i2d
 2725 0298 00000000 		.word	.LANCHOR7
 2726 029c 00000000 		.word	__aeabi_f2d
 2727 02a0 05020000 		.word	.LC24
 2728 02a4 88070200 		.word	133000
 2729 02a8 00000000 		.word	__aeabi_d2uiz
 2730 02ac 00000000 		.word	__aeabi_dcmplt
 2731 02b0 00000000 		.word	__aeabi_dmul
 2732 02b4 00000000 		.word	__aeabi_dadd
 2733              	.LVL291:
 2734              	.L192:
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 2735              		.loc 1 843 0
 2736 02b8 DFF8EC92 		ldr	r9, .L238+160
 2737 02bc D6E90623 		ldrd	r2, [r6, #24]
 2738 02c0 D6E90401 		ldrd	r0, [r6, #16]
 2739 02c4 C847     		blx	r9
 2740              	.LVL292:
 2741 02c6 90A3     		adr	r3, .L238
 2742 02c8 D3E90023 		ldrd	r2, [r3]
 2743 02cc C847     		blx	r9
 2744              	.LVL293:
 2745 02ce 90A3     		adr	r3, .L238+8
 2746 02d0 D3E90023 		ldrd	r2, [r3]
 2747 02d4 C047     		blx	r8
 2748              	.LVL294:
 2749 02d6 904B     		ldr	r3, .L238+16
 2750 02d8 9847     		blx	r3
 2751              	.LVL295:
 2752              	.L228:
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.lat2 = 0;
 2753              		.loc 1 845 0
 2754 02da 0023     		movs	r3, #0
 843:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 2755              		.loc 1 843 0
 2756 02dc 7864     		str	r0, [r7, #68]
 2757              	.LBE62:
 2758              	.LBE64:
 987:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2759              		.loc 1 987 0
 2760 02de 0134     		adds	r4, r4, #1
 2761              	.LVL296:
 2762              	.LBB65:
 2763              	.LBB63:
 845:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	cfg.lat2 = 0;
 2764              		.loc 1 845 0
 2765 02e0 3B65     		str	r3, [r7, #80]
 846:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	sinfo->syncio_lat = cfg.lat1;
 2766              		.loc 1 846 0
 2767 02e2 BB64     		str	r3, [r7, #72]
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_config(sinfo->syncio_idx, &cfg);
 2768              		.loc 1 848 0
 2769 02e4 3079     		ldrb	r0, [r6, #4]	@ zero_extendqisi2
 847:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_init(sinfo->syncio_idx);
 2770              		.loc 1 847 0
 2771 02e6 7B6C     		ldr	r3, [r7, #68]
 2772 02e8 F360     		str	r3, [r6, #12]
 848:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_config(sinfo->syncio_idx, &cfg);
 2773              		.loc 1 848 0
 2774 02ea 8C4B     		ldr	r3, .L238+20
 2775 02ec 9847     		blx	r3
 2776              	.LVL297:
 849:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 2777              		.loc 1 849 0
 2778 02ee 3079     		ldrb	r0, [r6, #4]	@ zero_extendqisi2
 2779 02f0 07F14001 		add	r1, r7, #64
 2780 02f4 8A4B     		ldr	r3, .L238+24
 2781 02f6 9847     		blx	r3
 2782              	.LVL298:
 851:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				sinfo->pcam->info.module,(unsigned int)cfg.lat1, cfg.repeat);
 2783              		.loc 1 851 0
 2784 02f8 7A6C     		ldr	r2, [r7, #68]
 2785 02fa 3368     		ldr	r3, [r6]
 2786 02fc 2120     		movs	r0, #33
 2787 02fe 93F82930 		ldrb	r3, [r3, #41]	@ zero_extendqisi2
 2788 0302 DFF838C2 		ldr	ip, .L238+52
 2789 0306 0092     		str	r2, [sp]
 2790 0308 0821     		movs	r1, #8
 2791 030a 97F85420 		ldrb	r2, [r7, #84]	@ zero_extendqisi2
 2792 030e 0192     		str	r2, [sp, #4]
 2793 0310 844A     		ldr	r2, .L238+28
 2794 0312 E047     		blx	ip
 2795              	.LVL299:
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.callback_handler = syncio_pulse_interrupt;
 2796              		.loc 1 854 0
 2797 0314 0123     		movs	r3, #1
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable(sinfo->syncio_idx);
 2798              		.loc 1 856 0
 2799 0316 07F13801 		add	r1, r7, #56
 854:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	intr.callback_handler = syncio_pulse_interrupt;
 2800              		.loc 1 854 0
 2801 031a 3B87     		strh	r3, [r7, #56]	@ movhi
 855:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable_irq(sinfo->syncio_idx, &intr);
 2802              		.loc 1 855 0
 2803 031c 824B     		ldr	r3, .L238+32
 2804 031e FB63     		str	r3, [r7, #60]
 856:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_syncio_enable(sinfo->syncio_idx);
 2805              		.loc 1 856 0
 2806 0320 3079     		ldrb	r0, [r6, #4]	@ zero_extendqisi2
 2807 0322 824B     		ldr	r3, .L238+36
 2808 0324 9847     		blx	r3
 2809              	.LVL300:
 857:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return 0;
 2810              		.loc 1 857 0
 2811 0326 3079     		ldrb	r0, [r6, #4]	@ zero_extendqisi2
 2812 0328 814B     		ldr	r3, .L238+40
 2813 032a 9847     		blx	r3
 2814              	.LVL301:
 2815 032c 2BE7     		b	.L190
 2816              	.LVL302:
 2817              	.L232:
 2818              	.LBE63:
 2819              	.LBE65:
 992:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 993:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 994:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	ret_code = usecase_hires_setup(mbitmask,
 2820              		.loc 1 994 0
 2821 032e 3B6A     		ldr	r3, [r7, #32]
 2822 0330 2B21     		movs	r1, #43
 2823 0332 804C     		ldr	r4, .L238+44
 2824              	.LVL303:
 2825 0334 1344     		add	r3, r3, r2
 2826 0336 1A46     		mov	r2, r3
 2827 0338 07F13403 		add	r3, r7, #52
 2828 033c 7869     		ldr	r0, [r7, #20]
 2829 033e 0093     		str	r3, [sp]
 2830 0340 D2B2     		uxtb	r2, r2
 2831 0342 7D4B     		ldr	r3, .L238+48
 2832 0344 A047     		blx	r4
 2833              	.LVL304:
 2834 0346 7D4E     		ldr	r6, .L238+52
 995:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 								MIPI2AXI_RAW10,
 996:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 								burst_size + skip_frame,
 997:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 								snapshot_complete_callback,
 998:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 								&lh_hdl);
 999:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(ret_code)
 2835              		.loc 1 999 0
 2836 0348 0446     		mov	r4, r0
 2837 034a 48B1     		cbz	r0, .L195
1000:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
1001:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_ERROR, "Setup MIPI TX/RX error [%d] ", ret_code);
 2838              		.loc 1 1001 0
 2839 034c 2120     		movs	r0, #33
 2840              	.LVL305:
 2841 034e 0221     		movs	r1, #2
 2842 0350 7B4A     		ldr	r2, .L238+56
 2843 0352 2346     		mov	r3, r4
 2844 0354 B047     		blx	r6
 2845              	.LVL306:
1002:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_ERROR, "Cancelled HIRES capture request");
 2846              		.loc 1 1002 0
 2847 0356 2120     		movs	r0, #33
 2848 0358 0221     		movs	r1, #2
 2849 035a 7A4A     		ldr	r2, .L238+60
 2850 035c B047     		blx	r6
 2851              	.LVL307:
 2852 035e 2FE0     		b	.L230
 2853              	.LVL308:
 2854              	.L195:
1003:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cmd_status = LCC_CMD_UNSUCCESS;
1004:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		goto release_resource;
1005:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
1006:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1007:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	xTaskCreate(task_tx_transfer,
 2855              		.loc 1 1007 0
 2856 0360 0F23     		movs	r3, #15
 2857 0362 0290     		str	r0, [sp, #8]
 2858 0364 4FF4C072 		mov	r2, #384
 2859 0368 0093     		str	r3, [sp]
 2860 036a 07F13003 		add	r3, r7, #48
 2861 036e 0390     		str	r0, [sp, #12]
 2862 0370 0193     		str	r3, [sp, #4]
 2863 0372 07F12F03 		add	r3, r7, #47
 2864 0376 7449     		ldr	r1, .L238+64
 2865 0378 744D     		ldr	r5, .L238+68
 2866 037a 7548     		ldr	r0, .L238+72
 2867              	.LVL309:
 2868 037c A847     		blx	r5
 2869              	.LVL310:
1008:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					"TX transferring",
1009:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					__TASK_STACK_SIZE_256,
1010:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					(void *)&skip_frame,
1011:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					__TASK_PRIO_HIGHEST,
1012:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					&tx_hdl);
1013:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #if (ASIC_NUM == ASIC1)
1014:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Wait for feedback from ASIC2 & 3 */
1015:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(wait_asics)
1016:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_INFO, "Wait for interrupt signal");
1017:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1018:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(wait_asics == wait_intr_signal(wait_asics, MAX_INTR_WAIT_TIME, 1))
1019:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
1020:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		uint8_t streamed_on_cnt = 0;
1021:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		/* Stream on all camera that has offset <= 1 */
1022:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		for(i = 0; i < sinfo_cnt; i++)
1023:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
1024:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(sinfo[i]->offset == 0)
1025:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
1026:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				sinfo[i]->inused = 0;
1027:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				img_sensor_stream_on(sinfo[i]->pcam->image, SLAVE_MODE);
1028:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				streamed_on_cnt ++;
1029:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				/* Update the cam status */
1030:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				uint32_t *cam_status = (uint32_t *)sinfo[i]->pcam->settings->status;
1031:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				*cam_status |= S_MODULE_STREAM_ON;
1032:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
1033:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
1034:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1035:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		send_hw_sync_trigger();
1036:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		camera_offset_stream_on(sinfo, sinfo_cnt, streamed_on_cnt);
1037:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		while(!tx_transfer_done)
1038:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vTaskDelay(10);
1039:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
1040:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	else
1041:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
1042:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_ERROR, "Timeout waiting for feedback from ASIC2 and ASIC3");
1043:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cmd_status = LCC_CMD_UNSUCCESS;
1044:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(lh_hdl)
1045:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
1046:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vTaskDelete(lh_hdl);
1047:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			lh_hdl = NULL;
1048:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
1049:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_hdl)
1050:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
1051:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vTaskDelete(tx_hdl);
1052:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			tx_hdl = NULL;
1053:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
1054:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
1055:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #else
1056:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1057:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_INFO, "Send interrupt signal");
 2870              		.loc 1 1057 0
 2871 037e 2120     		movs	r0, #33
 2872 0380 0821     		movs	r1, #8
 2873 0382 744A     		ldr	r2, .L238+76
 2874 0384 B047     		blx	r6
 2875              	.LVL311:
1058:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	send_intr_signal();
 2876              		.loc 1 1058 0
 2877 0386 744B     		ldr	r3, .L238+80
 2878 0388 9847     		blx	r3
 2879              	.LVL312:
1059:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(wait_trigger(sinfo[0]->syncio_idx) == 0)
 2880              		.loc 1 1059 0
 2881 038a DBF80030 		ldr	r3, [fp]
 2882 038e 1879     		ldrb	r0, [r3, #4]	@ zero_extendqisi2
 2883 0390 724B     		ldr	r3, .L238+84
 2884 0392 9847     		blx	r3
 2885              	.LVL313:
 2886 0394 0546     		mov	r5, r0
 2887 0396 20B1     		cbz	r0, .L196
 2888 0398 ABF10408 		sub	r8, fp, #4
 2889 039c 4546     		mov	r5, r8
 2890 039e A146     		mov	r9, r4
 2891 03a0 25E0     		b	.L197
 2892              	.L196:
1060:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
1061:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		SLOGF(SLOG_ERROR, "Timeout waiting trigger from ASIC1");
 2893              		.loc 1 1061 0
 2894 03a2 2120     		movs	r0, #33
 2895 03a4 0221     		movs	r1, #2
 2896 03a6 6E4A     		ldr	r2, .L238+88
 2897 03a8 B047     		blx	r6
 2898              	.LVL314:
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		cmd_status = LCC_CMD_UNSUCCESS;
1063:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(lh_hdl)
 2899              		.loc 1 1063 0
 2900 03aa 786B     		ldr	r0, [r7, #52]
 2901 03ac 10B1     		cbz	r0, .L198
1064:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
1065:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vTaskDelete(lh_hdl);
 2902              		.loc 1 1065 0
 2903 03ae 6D4B     		ldr	r3, .L238+92
 2904 03b0 9847     		blx	r3
 2905              	.LVL315:
1066:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			lh_hdl = NULL;
 2906              		.loc 1 1066 0
 2907 03b2 7D63     		str	r5, [r7, #52]
 2908              	.L198:
1067:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
1068:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_hdl)
 2909              		.loc 1 1068 0
 2910 03b4 386B     		ldr	r0, [r7, #48]
 2911 03b6 0028     		cmp	r0, #0
 2912 03b8 00F08880 		beq	.L213
1069:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
1070:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vTaskDelete(tx_hdl);
 2913              		.loc 1 1070 0
 2914 03bc 694B     		ldr	r3, .L238+92
 2915 03be 9847     		blx	r3
 2916              	.LVL316:
 2917              	.L230:
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(lh_hdl)
 2918              		.loc 1 1062 0
 2919 03c0 0024     		movs	r4, #0
 2920              	.LVL317:
 2921 03c2 84E0     		b	.L186
 2922              	.LVL318:
 2923              	.L200:
1071:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			tx_hdl = NULL;
1072:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
1073:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		goto release_resource;
1074:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
1075:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1076:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t streamed_on_cnt = 0;
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	for(i = 0; i < sinfo_cnt; i++)
1078:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
1079:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(sinfo[i]->offset == 0)
 2924              		.loc 1 1079 0
 2925 03c4 55F8043F 		ldr	r3, [r5, #4]!
 2926 03c8 9968     		ldr	r1, [r3, #8]
 2927 03ca 71B9     		cbnz	r1, .L199
 2928              	.LBB66:
1080:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
1081:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			sinfo[i]->inused = 0;
 2929              		.loc 1 1081 0
 2930 03cc 9971     		strb	r1, [r3, #6]
1082:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_stream_on(sinfo[i]->pcam->image, SLAVE_MODE);
1083:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			streamed_on_cnt ++;
 2931              		.loc 1 1083 0
 2932 03ce 0134     		adds	r4, r4, #1
 2933              	.LVL319:
1082:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_stream_on(sinfo[i]->pcam->image, SLAVE_MODE);
 2934              		.loc 1 1082 0
 2935 03d0 2B68     		ldr	r3, [r5]
 2936              		.loc 1 1083 0
 2937 03d2 E4B2     		uxtb	r4, r4
1082:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			img_sensor_stream_on(sinfo[i]->pcam->image, SLAVE_MODE);
 2938              		.loc 1 1082 0
 2939 03d4 1B68     		ldr	r3, [r3]
 2940 03d6 1868     		ldr	r0, [r3]
 2941 03d8 634B     		ldr	r3, .L238+96
 2942 03da 9847     		blx	r3
 2943              	.LVL320:
1084:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/* Update the cam status */
1085:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			uint32_t *cam_status = (uint32_t *)sinfo[i]->pcam->settings->status;
 2944              		.loc 1 1085 0
 2945 03dc 2B68     		ldr	r3, [r5]
 2946 03de 1B68     		ldr	r3, [r3]
 2947 03e0 9B68     		ldr	r3, [r3, #8]
 2948              	.LVL321:
1086:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*cam_status |= S_MODULE_STREAM_ON;
 2949              		.loc 1 1086 0
 2950 03e2 5A68     		ldr	r2, [r3, #4]
 2951 03e4 42F01002 		orr	r2, r2, #16
 2952 03e8 5A60     		str	r2, [r3, #4]
 2953              	.LVL322:
 2954              	.L199:
 2955              	.LBE66:
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2956              		.loc 1 1077 0 discriminator 2
 2957 03ea 09F10109 		add	r9, r9, #1
 2958              	.LVL323:
 2959              	.L197:
1077:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2960              		.loc 1 1077 0 is_stmt 0 discriminator 1
 2961 03ee D145     		cmp	r9, r10
 2962 03f0 E8DB     		blt	.L200
 2963              	.LVL324:
 2964              	.LBB67:
 2965              	.LBB68:
 871:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 2966              		.loc 1 871 0 is_stmt 1
 2967 03f2 5445     		cmp	r4, r10
 2968 03f4 61D2     		bcs	.L203
 2969              	.LVL325:
 2970              	.LBB69:
 874:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(timer_data == NULL)
 2971              		.loc 1 874 0
 2972 03f6 1820     		movs	r0, #24
 2973 03f8 5C49     		ldr	r1, .L238+100
 2974 03fa 40F26A32 		movw	r2, #874
 2975 03fe 5C4B     		ldr	r3, .L238+104
 2976 0400 9847     		blx	r3
 2977              	.LVL326:
 875:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 2978              		.loc 1 875 0
 2979 0402 0546     		mov	r5, r0
 2980 0404 40B9     		cbnz	r0, .L202
 877:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			return;
 2981              		.loc 1 877 0
 2982 0406 40F26D33 		movw	r3, #877
 2983 040a 2120     		movs	r0, #33
 2984              	.LVL327:
 2985 040c 0221     		movs	r1, #2
 2986 040e 0093     		str	r3, [sp]
 2987 0410 584A     		ldr	r2, .L238+108
 2988 0412 564B     		ldr	r3, .L238+100
 2989 0414 B047     		blx	r6
 2990              	.LVL328:
 2991 0416 50E0     		b	.L203
 2992              	.LVL329:
 2993              	.L202:
 881:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_t stimer;
 2994              		.loc 1 881 0
 2995 0418 574B     		ldr	r3, .L238+112
 880:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timer_data->evenhdl = xEventGroupCreate();
 2996              		.loc 1 880 0
 2997 041a C0F804B0 		str	fp, [r0, #4]
 881:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_t stimer;
 2998              		.loc 1 881 0
 2999 041e 9847     		blx	r3
 3000              	.LVL330:
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.params = timer_data;
 3001              		.loc 1 884 0
 3002 0420 0A23     		movs	r3, #10
 881:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_t stimer;
 3003              		.loc 1 881 0
 3004 0422 A860     		str	r0, [r5, #8]
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.period = 10;
 3005              		.loc 1 883 0
 3006 0424 0220     		movs	r0, #2
 884:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.params = timer_data;
 3007              		.loc 1 884 0
 3008 0426 7B64     		str	r3, [r7, #68]
 886:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_stop(stimer.chid);
 3009              		.loc 1 886 0
 3010 0428 544B     		ldr	r3, .L238+116
 3011 042a BB64     		str	r3, [r7, #72]
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_init(&stimer);
 3012              		.loc 1 887 0
 3013 042c 544B     		ldr	r3, .L238+120
 883:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.period = 10;
 3014              		.loc 1 883 0
 3015 042e 87F84000 		strb	r0, [r7, #64]
 885:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		stimer.callback_handler = snapshot_timer_irq;
 3016              		.loc 1 885 0
 3017 0432 FD64     		str	r5, [r7, #76]
 887:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_init(&stimer);
 3018              		.loc 1 887 0
 3019 0434 9847     		blx	r3
 3020              	.LVL331:
 888:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_timer_start(stimer.chid);
 3021              		.loc 1 888 0
 3022 0436 534B     		ldr	r3, .L238+124
 3023 0438 07F14000 		add	r0, r7, #64
 3024 043c 9847     		blx	r3
 3025              	.LVL332:
 889:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		while(streamed_on < total)
 3026              		.loc 1 889 0
 3027 043e 97F84000 		ldrb	r0, [r7, #64]	@ zero_extendqisi2
 3028 0442 514B     		ldr	r3, .L238+128
 3029 0444 9847     		blx	r3
 3030              	.LVL333:
 3031              	.L205:
 890:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 3032              		.loc 1 890 0
 3033 0446 5445     		cmp	r4, r10
 3034 0448 32D2     		bcs	.L233
 3035              	.LBB70:
 892:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										0xFFFF, pdTRUE, pdFALSE, portMAX_DELAY);
 3036              		.loc 1 892 0
 3037 044a 4FF0FF33 		mov	r3, #-1
 3038 044e 4FF6FF71 		movw	r1, #65535
 3039 0452 0122     		movs	r2, #1
 3040 0454 0093     		str	r3, [sp]
 3041 0456 0023     		movs	r3, #0
 3042 0458 A868     		ldr	r0, [r5, #8]
 3043 045a 4C4E     		ldr	r6, .L238+132
 3044 045c B047     		blx	r6
 3045              	.LVL334:
 894:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 3046              		.loc 1 894 0
 3047 045e 8446     		mov	ip, r0
 3048 0460 0028     		cmp	r0, #0
 3049 0462 F0D0     		beq	.L205
 3050 0464 4646     		mov	r6, r8
 3051 0466 4FF00009 		mov	r9, #0
 3052              	.LVL335:
 3053              	.L206:
 3054              	.LBB71:
 896:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
 3055              		.loc 1 896 0
 3056 046a D145     		cmp	r9, r10
 3057 046c EBDA     		bge	.L205
 3058              	.LBB72:
 898:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					if((cam_msk & event) && (sinfo[i]->inused))
 3059              		.loc 1 898 0
 3060 046e 0123     		movs	r3, #1
 3061 0470 56F8042F 		ldr	r2, [r6, #4]!
 3062              	.LVL336:
 3063 0474 5179     		ldrb	r1, [r2, #5]	@ zero_extendqisi2
 3064 0476 8B40     		lsls	r3, r3, r1
 3065              	.LVL337:
 899:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					{
 3066              		.loc 1 899 0
 3067 0478 1CEA030F 		tst	ip, r3
 3068 047c 15D0     		beq	.L207
 3069 047e 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 3070              	.LVL338:
 3071 0480 9BB1     		cbz	r3, .L207
 3072              	.LBB73:
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						img_sensor_stream_on(sinfo[i]->pcam->image, SLAVE_MODE);
 3073              		.loc 1 901 0
 3074 0482 0021     		movs	r1, #0
 3075 0484 C7F824C0 		str	ip, [r7, #36]
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						uint32_t *cam_status = (uint32_t *)sinfo[i]->pcam->settings->status;
 3076              		.loc 1 903 0
 3077 0488 0134     		adds	r4, r4, #1
 3078              	.LVL339:
 901:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						img_sensor_stream_on(sinfo[i]->pcam->image, SLAVE_MODE);
 3079              		.loc 1 901 0
 3080 048a 9171     		strb	r1, [r2, #6]
 902:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						streamed_on ++;
 3081              		.loc 1 902 0
 3082 048c 3368     		ldr	r3, [r6]
 903:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						uint32_t *cam_status = (uint32_t *)sinfo[i]->pcam->settings->status;
 3083              		.loc 1 903 0
 3084 048e E4B2     		uxtb	r4, r4
 902:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						streamed_on ++;
 3085              		.loc 1 902 0
 3086 0490 1B68     		ldr	r3, [r3]
 3087 0492 1868     		ldr	r0, [r3]
 3088 0494 344B     		ldr	r3, .L238+96
 3089 0496 9847     		blx	r3
 3090              	.LVL340:
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						*cam_status |= S_MODULE_STREAM_ON;
 3091              		.loc 1 904 0
 3092 0498 3368     		ldr	r3, [r6]
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					}
 3093              		.loc 1 905 0
 3094 049a D7F824C0 		ldr	ip, [r7, #36]
 904:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						*cam_status |= S_MODULE_STREAM_ON;
 3095              		.loc 1 904 0
 3096 049e 1B68     		ldr	r3, [r3]
 3097 04a0 9A68     		ldr	r2, [r3, #8]
 3098              	.LVL341:
 905:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					}
 3099              		.loc 1 905 0
 3100 04a2 5368     		ldr	r3, [r2, #4]
 3101 04a4 43F01003 		orr	r3, r3, #16
 3102 04a8 5360     		str	r3, [r2, #4]
 3103              	.LVL342:
 3104              	.L207:
 3105              	.LBE73:
 3106              	.LBE72:
 896:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
 3107              		.loc 1 896 0
 3108 04aa 09F10109 		add	r9, r9, #1
 3109              	.LVL343:
 3110 04ae DCE7     		b	.L206
 3111              	.LVL344:
 3112              	.L233:
 3113              	.LBE71:
 3114              	.LBE70:
 912:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vEventGroupDelete(timer_data->evenhdl);
 3115              		.loc 1 912 0
 3116 04b0 0023     		movs	r3, #0
 913:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			timer_data = NULL;
 3117              		.loc 1 913 0
 3118 04b2 A868     		ldr	r0, [r5, #8]
 912:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			vEventGroupDelete(timer_data->evenhdl);
 3119              		.loc 1 912 0
 3120 04b4 6B60     		str	r3, [r5, #4]
 913:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			timer_data = NULL;
 3121              		.loc 1 913 0
 3122 04b6 364B     		ldr	r3, .L238+136
 3123 04b8 04E0     		b	.L229
 3124              	.LVL345:
 3125              	.L203:
 3126              	.LBE69:
 3127              	.LBE68:
 3128              	.LBE67:
1087:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
1088:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
1089:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	camera_offset_stream_on(sinfo, sinfo_cnt, streamed_on_cnt);
1090:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	while(!tx_transfer_done)
 3129              		.loc 1 1090 0
 3130 04ba 364B     		ldr	r3, .L238+140
 3131 04bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3132 04be 1BB9     		cbnz	r3, .L234
1091:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		vTaskDelay(10);
 3133              		.loc 1 1091 0
 3134 04c0 354B     		ldr	r3, .L238+144
 3135 04c2 0A20     		movs	r0, #10
 3136              	.L229:
 3137 04c4 9847     		blx	r3
 3138              	.LVL346:
 3139 04c6 F8E7     		b	.L203
 3140              	.L234:
 928:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t skip_frame = 0;
 3141              		.loc 1 928 0
 3142 04c8 0124     		movs	r4, #1
 3143              	.LVL347:
 3144 04ca 00E0     		b	.L186
 3145              	.LVL348:
 3146              	.L213:
1062:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(lh_hdl)
 3147              		.loc 1 1062 0
 3148 04cc 0446     		mov	r4, r0
 3149              	.LVL349:
 3150              	.L186:
1092:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1093:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
1094:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1095:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** release_resource:
1096:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* If the task done, these task handles already deleted */
1097:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	lh_hdl = NULL;
 3151              		.loc 1 1097 0
 3152 04ce 0025     		movs	r5, #0
 3153 04d0 ABF1040B 		sub	fp, fp, #4
 3154              	.LVL350:
 3155 04d4 7D63     		str	r5, [r7, #52]
1098:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	tx_hdl = NULL;
 3156              		.loc 1 1098 0
 3157 04d6 3D63     		str	r5, [r7, #48]
 3158              	.LVL351:
 3159              	.L211:
 3160              	.LBB74:
 3161              	.LBB75:
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3162              		.loc 1 863 0
 3163 04d8 5545     		cmp	r5, r10
 3164 04da 0BDA     		bge	.L235
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		sinfo[i] = NULL;
 3165              		.loc 1 865 0
 3166 04dc 5BF8040F 		ldr	r0, [fp, #4]!
 3167 04e0 40F26132 		movw	r2, #865
 3168 04e4 2D4B     		ldr	r3, .L238+148
 863:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3169              		.loc 1 863 0
 3170 04e6 0135     		adds	r5, r5, #1
 3171              	.LVL352:
 865:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		sinfo[i] = NULL;
 3172              		.loc 1 865 0
 3173 04e8 2D49     		ldr	r1, .L238+152
 3174 04ea 9847     		blx	r3
 3175              	.LVL353:
 866:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 3176              		.loc 1 866 0
 3177 04ec 0023     		movs	r3, #0
 3178 04ee CBF80030 		str	r3, [fp]
 3179 04f2 F1E7     		b	.L211
 3180              	.L235:
 3181              	.LBE75:
 3182              	.LBE74:
1099:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	free_snapshot_info_resource(sinfo, sinfo_cnt);
1100:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_INFO, "End flow");
 3183              		.loc 1 1100 0
 3184 04f4 2120     		movs	r0, #33
 3185 04f6 0821     		movs	r1, #8
 3186 04f8 2A4A     		ldr	r2, .L238+156
 3187 04fa 104B     		ldr	r3, .L238+52
 3188 04fc 9847     		blx	r3
 3189              	.LVL354:
1101:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	if(timer_data)
1102:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
1103:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timer_data->sinfo = NULL;
1104:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		vEventGroupDelete(timer_data->evenhdl);
1105:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		timer_data = NULL;
1106:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
1107:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #if (ASIC_NUM == ASIC1)
1108:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	vTaskResume(task_asic_read_handle);
1109:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** #endif
1110:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return cmd_status;
1111:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 3190              		.loc 1 1111 0
 3191 04fe 2046     		mov	r0, r4
 3192 0500 5C37     		adds	r7, r7, #92
 3193              	.LCFI29:
 3194              		.cfi_def_cfa_offset 36
 3195 0502 BD46     		mov	sp, r7
 3196              	.LCFI30:
 3197              		.cfi_def_cfa_register 13
 3198              	.LVL355:
 3199              		@ sp needed
 3200 0504 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3201              	.LVL356:
 3202              	.L239:
 3203              		.align	3
 3204              	.L238:
 3205 0508 4643C6A3 		.word	-1547287738
 3206 050c 54C2533F 		.word	1062453844
 3207 0510 00000000 		.word	0
 3208 0514 ADB59F41 		.word	1100985773
 3209 0518 00000000 		.word	__aeabi_d2uiz
 3210 051c 00000000 		.word	hal_syncio_init
 3211 0520 00000000 		.word	hal_syncio_config
 3212 0524 20020000 		.word	.LC25
 3213 0528 00000000 		.word	syncio_pulse_interrupt
 3214 052c 00000000 		.word	hal_syncio_enable_irq
 3215 0530 00000000 		.word	hal_syncio_enable
 3216 0534 00000000 		.word	usecase_hires_setup
 3217 0538 00000000 		.word	snapshot_complete_callback
 3218 053c 00000000 		.word	slogf
 3219 0540 44020000 		.word	.LC26
 3220 0544 61020000 		.word	.LC27
 3221 0548 81020000 		.word	.LC28
 3222 054c 00000000 		.word	xTaskGenericCreate
 3223 0550 00000000 		.word	task_tx_transfer
 3224 0554 91020000 		.word	.LC29
 3225 0558 00000000 		.word	send_intr_signal
 3226 055c 00000000 		.word	wait_trigger
 3227 0560 A7020000 		.word	.LC30
 3228 0564 00000000 		.word	vTaskDelete
 3229 0568 00000000 		.word	img_sensor_stream_on
 3230 056c 00000000 		.word	.LANCHOR8
 3231 0570 00000000 		.word	pvPortMalloc1
 3232 0574 B0010000 		.word	.LC22
 3233 0578 00000000 		.word	xEventGroupCreate
 3234 057c 00000000 		.word	snapshot_timer_irq
 3235 0580 00000000 		.word	hal_timer_stop
 3236 0584 00000000 		.word	hal_timer_init
 3237 0588 00000000 		.word	hal_timer_start
 3238 058c 00000000 		.word	xEventGroupWaitBits
 3239 0590 00000000 		.word	vEventGroupDelete
 3240 0594 00000000 		.word	tx_transfer_done
 3241 0598 00000000 		.word	vTaskDelay
 3242 059c 00000000 		.word	vPortFree1
 3243 05a0 00000000 		.word	.LANCHOR9
 3244 05a4 CA020000 		.word	.LC31
 3245 05a8 00000000 		.word	__aeabi_dadd
 3246              		.cfi_endproc
 3247              	.LFE23:
 3249 05ac AFF30080 		.section	.text.mipi_rx_reset,"ax",%progbits
 3250              		.align	1
 3251              		.global	mipi_rx_reset
 3252              		.thumb
 3253              		.thumb_func
 3255              	mipi_rx_reset:
 3256              	.LFB24:
1112:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1113:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void mipi_rx_reset(mipi2axi_channel_t channel)
1114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 3257              		.loc 1 1114 0
 3258              		.cfi_startproc
 3259              		@ args = 0, pretend = 0, frame = 0
 3260              		@ frame_needed = 0, uses_anonymous_args = 0
 3261              	.LVL357:
 3262 0000 70B5     		push	{r4, r5, r6, lr}
 3263              	.LCFI31:
 3264              		.cfi_def_cfa_offset 16
 3265              		.cfi_offset 4, -16
 3266              		.cfi_offset 5, -12
 3267              		.cfi_offset 6, -8
 3268              		.cfi_offset 14, -4
1115:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t mipi_rx_rst = 0;
1116:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1117:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/*Read MIPI channel on ASB board*/
1118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi_rx_rst = 1 << (SHIFT_TO_BIT14 + channel);
 3269              		.loc 1 1118 0
 3270 0002 00F10E03 		add	r3, r0, #14
1114:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t mipi_rx_rst = 0;
 3271              		.loc 1 1114 0
 3272 0006 0546     		mov	r5, r0
 3273              		.loc 1 1118 0
 3274 0008 0120     		movs	r0, #1
 3275              	.LVL358:
1119:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1120:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/*SLOGF(
1121:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOG_DEBUG,
1122:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			"RESET MIPI RX [%d]: 0x%X",
1123:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			(unsigned int )channel,
1124:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			mipi_rx_rst);*/
1125:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	writel(SCU_BASE + SCU_SOFT_RESET_REG, mipi_rx_rst);
1127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	vTaskDelay(1);
1128:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	writel(SCU_BASE + SCU_SOFT_RESET_REG, 0x00);
 3276              		.loc 1 1128 0
 3277 000a 0024     		movs	r4, #0
1118:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3278              		.loc 1 1118 0
 3279 000c 00FA03F3 		lsl	r3, r0, r3
 3280              	.LVL359:
1126:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	vTaskDelay(1);
 3281              		.loc 1 1126 0
 3282 0010 094E     		ldr	r6, .L241
 3283 0012 3360     		str	r3, [r6]
1127:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	writel(SCU_BASE + SCU_SOFT_RESET_REG, 0x00);
 3284              		.loc 1 1127 0
 3285 0014 094B     		ldr	r3, .L241+4
 3286              	.LVL360:
 3287 0016 9847     		blx	r3
 3288              	.LVL361:
 3289              		.loc 1 1128 0
 3290 0018 3460     		str	r4, [r6]
1129:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1130:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Disable MIPI interrupt
1131:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 * After reset MIPI, all MIPI RX interrupts will enable by default
1132:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 * (Interrupt reset value is 0, that mean enable interrupt)
1133:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 */
1134:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_irq_mask(
 3291              		.loc 1 1134 0
 3292 001a 2846     		mov	r0, r5
 3293 001c 2346     		mov	r3, r4
 3294 001e 3021     		movs	r1, #48
 3295 0020 4FF0FF32 		mov	r2, #-1
 3296 0024 064E     		ldr	r6, .L241+8
 3297 0026 B047     		blx	r6
 3298              	.LVL362:
1135:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			channel,
1136:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			MIPI2AXI_SIGNAL_MASK_INTR,
1137:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			ISR_SELECT_ALL,
1138:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			DISABLE);
1139:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1140:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_mipi2axi_irq_mask(
 3299              		.loc 1 1140 0
 3300 0028 2846     		mov	r0, r5
 3301 002a 4021     		movs	r1, #64
 3302 002c 4FF0FF32 		mov	r2, #-1
 3303 0030 2346     		mov	r3, r4
 3304 0032 B047     		blx	r6
 3305              	.LVL363:
 3306 0034 70BD     		pop	{r4, r5, r6, pc}
 3307              	.LVL364:
 3308              	.L242:
 3309 0036 00BF     		.align	2
 3310              	.L241:
 3311 0038 40000002 		.word	33554496
 3312 003c 00000000 		.word	vTaskDelay
 3313 0040 00000000 		.word	hal_mipi2axi_irq_mask
 3314              		.cfi_endproc
 3315              	.LFE24:
 3317              		.section	.text.mipi_tx_reset,"ax",%progbits
 3318              		.align	1
 3319              		.global	mipi_tx_reset
 3320              		.thumb
 3321              		.thumb_func
 3323              	mipi_tx_reset:
 3324              	.LFB25:
1141:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			channel,
1142:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			MIPI2AXI_ERROR_MASK_INTR,
1143:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			ISR_SELECT_ALL,
1144:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			DISABLE);
1145:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
1146:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1147:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** void mipi_tx_reset(axi2mipi_channel_t channel)
1148:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 3325              		.loc 1 1148 0
 3326              		.cfi_startproc
 3327              		@ args = 0, pretend = 0, frame = 0
 3328              		@ frame_needed = 0, uses_anonymous_args = 0
 3329              	.LVL365:
 3330 0000 38B5     		push	{r3, r4, r5, lr}
 3331              	.LCFI32:
 3332              		.cfi_def_cfa_offset 16
 3333              		.cfi_offset 3, -16
 3334              		.cfi_offset 4, -12
 3335              		.cfi_offset 5, -8
 3336              		.cfi_offset 14, -4
 3337              		.loc 1 1148 0
 3338 0002 0446     		mov	r4, r0
1149:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint32_t mipi_tx_rst = 0;
1150:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1151:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/*Read MIPI channel on ASB board*/
1152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	mipi_tx_rst = 1 << (SHIFT_TO_BIT12 + channel);
 3339              		.loc 1 1152 0
 3340 0004 00F10C03 		add	r3, r0, #12
 3341 0008 0120     		movs	r0, #1
 3342              	.LVL366:
1153:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1154:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/*SLOGF(
1155:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOG_DEBUG,
1156:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			"RESET MIPI TX [%d]: 0x%X",
1157:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			(unsigned int )channel,
1158:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			mipi_tx_rst);*/
1159:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1160:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	writel(SCU_BASE + SCU_SOFT_RESET_REG, mipi_tx_rst);
 3343              		.loc 1 1160 0
 3344 000a 074D     		ldr	r5, .L244
1152:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3345              		.loc 1 1152 0
 3346 000c 00FA03F3 		lsl	r3, r0, r3
 3347              	.LVL367:
 3348              		.loc 1 1160 0
 3349 0010 2B60     		str	r3, [r5]
1161:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	vTaskDelay(1);
 3350              		.loc 1 1161 0
 3351 0012 064B     		ldr	r3, .L244+4
 3352              	.LVL368:
 3353 0014 9847     		blx	r3
 3354              	.LVL369:
1162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	writel(SCU_BASE + SCU_SOFT_RESET_REG, 0x00);
 3355              		.loc 1 1162 0
 3356 0016 0022     		movs	r2, #0
1163:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1164:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* Disable MIPI interrupt
1165:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 * After reset MIPI, all MIPI TX interrupts will enable by default
1166:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 * (Interrupt reset value is 0, that mean enable interrupt)
1167:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	 */
1168:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_irq_mask(channel, ISR_SELECT_ALL, DISABLE);
 3357              		.loc 1 1168 0
 3358 0018 2046     		mov	r0, r4
 3359 001a 4FF0FF31 		mov	r1, #-1
1162:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	writel(SCU_BASE + SCU_SOFT_RESET_REG, 0x00);
 3360              		.loc 1 1162 0
 3361 001e 2A60     		str	r2, [r5]
 3362              		.loc 1 1168 0
 3363 0020 034B     		ldr	r3, .L244+8
 3364 0022 9847     		blx	r3
 3365              	.LVL370:
 3366 0024 38BD     		pop	{r3, r4, r5, pc}
 3367              	.LVL371:
 3368              	.L245:
 3369 0026 00BF     		.align	2
 3370              	.L244:
 3371 0028 40000002 		.word	33554496
 3372 002c 00000000 		.word	vTaskDelay
 3373 0030 00000000 		.word	hal_axi2mipi_irq_mask
 3374              		.cfi_endproc
 3375              	.LFE25:
 3377              		.section	.text.ucid_preview_hdl,"ax",%progbits
 3378              		.align	1
 3379              		.global	ucid_preview_hdl
 3380              		.thumb
 3381              		.thumb_func
 3383              	ucid_preview_hdl:
 3384              	.LFB16:
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 3385              		.loc 1 608 0
 3386              		.cfi_startproc
 3387              		@ args = 0, pretend = 0, frame = 64
 3388              		@ frame_needed = 0, uses_anonymous_args = 0
 3389              	.LVL372:
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t num_of_preview = 0;
 3390              		.loc 1 618 0
 3391 0000 944B     		ldr	r3, .L290
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 3392              		.loc 1 608 0
 3393 0002 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3394              	.LCFI33:
 3395              		.cfi_def_cfa_offset 36
 3396              		.cfi_offset 4, -36
 3397              		.cfi_offset 5, -32
 3398              		.cfi_offset 6, -28
 3399              		.cfi_offset 7, -24
 3400              		.cfi_offset 8, -20
 3401              		.cfi_offset 9, -16
 3402              		.cfi_offset 10, -12
 3403              		.cfi_offset 11, -8
 3404              		.cfi_offset 14, -4
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t num_of_preview = 0;
 3405              		.loc 1 618 0
 3406 0006 1B68     		ldr	r3, [r3]
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 3407              		.loc 1 608 0
 3408 0008 93B0     		sub	sp, sp, #76
 3409              	.LCFI34:
 3410              		.cfi_def_cfa_offset 112
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3411              		.loc 1 621 0
 3412 000a 934A     		ldr	r2, .L290+4
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 3413              		.loc 1 613 0
 3414 000c 0027     		movs	r7, #0
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 3415              		.loc 1 608 0
 3416 000e 0590     		str	r0, [sp, #20]
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	axi2mipi_isr_flag_t tx_intr[2] = {0};
 3417              		.loc 1 612 0
 3418 0010 3E46     		mov	r6, r7
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t num_of_preview = 0;
 3419              		.loc 1 618 0
 3420 0012 9B69     		ldr	r3, [r3, #24]
 612:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	axi2mipi_isr_flag_t tx_intr[2] = {0};
 3421              		.loc 1 612 0
 3422 0014 B846     		mov	r8, r7
 608:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	int i = 0;
 3423              		.loc 1 608 0
 3424 0016 0A91     		str	r1, [sp, #40]
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3425              		.loc 1 621 0
 3426 0018 1021     		movs	r1, #16
 3427              	.LVL373:
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t num_of_preview = 0;
 3428              		.loc 1 618 0
 3429 001a 0340     		ands	r3, r3, r0
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3430              		.loc 1 621 0
 3431 001c 2120     		movs	r0, #33
 3432              	.LVL374:
 618:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t num_of_preview = 0;
 3433              		.loc 1 618 0
 3434 001e 0793     		str	r3, [sp, #28]
 3435              	.LVL375:
 619:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	lcc_cmd_status_t cmd_status = LCC_CMD_SUCCESS;
 3436              		.loc 1 619 0
 3437 0020 BB46     		mov	fp, r7
 621:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3438              		.loc 1 621 0
 3439 0022 8E4B     		ldr	r3, .L290+8
 3440              	.LVL376:
 3441 0024 9847     		blx	r3
 3442              	.LVL377:
 624:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	/* mipi_tx_reset(AXI2MIPI_BRIDGE_1); */
 3443              		.loc 1 624 0
 3444 0026 8E4B     		ldr	r3, .L290+12
 3445 0028 0020     		movs	r0, #0
 3446 002a 9847     		blx	r3
 3447              	.LVL378:
 628:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	hal_axi2mipi_init(AXI2MIPI_BRIDGE_1);
 3448              		.loc 1 628 0
 3449 002c 8D4C     		ldr	r4, .L290+16
 3450 002e 0020     		movs	r0, #0
 3451 0030 A047     		blx	r4
 3452              	.LVL379:
 629:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3453              		.loc 1 629 0
 3454 0032 0120     		movs	r0, #1
 3455 0034 A047     		blx	r4
 3456              	.LVL380:
 613:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	uint8_t preview_vc;
 3457              		.loc 1 613 0
 3458 0036 0897     		str	r7, [sp, #32]
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3459              		.loc 1 631 0
 3460 0038 0697     		str	r7, [sp, #24]
 3461              	.LVL381:
 3462              	.L247:
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3463              		.loc 1 631 0 is_stmt 0 discriminator 1
 3464 003a 069B     		ldr	r3, [sp, #24]
 3465 003c 0A9A     		ldr	r2, [sp, #40]
 3466 003e 9342     		cmp	r3, r2
 3467 0040 06DA     		bge	.L261
 633:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(cam_idx == 0)
 3468              		.loc 1 633 0 is_stmt 1
 3469 0042 079B     		ldr	r3, [sp, #28]
 3470 0044 93FAA3F3 		rbit	r3, r3
 3471 0048 B3FA83F3 		clz	r3, r3
 3472 004c D8B2     		uxtb	r0, r3
 3473              	.LVL382:
 634:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 3474              		.loc 1 634 0
 3475 004e 23B9     		cbnz	r3, .L248
 3476              	.LVL383:
 3477              	.L261:
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3478              		.loc 1 718 0
 3479 0050 B8F1000F 		cmp	r8, #0
 3480 0054 00F0C680 		beq	.L286
 3481 0058 C7E0     		b	.L249
 3482              	.LVL384:
 3483              	.L248:
 636:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		pcam = idx_to_object(cam_idx);
 3484              		.loc 1 636 0
 3485 005a 4FF00109 		mov	r9, #1
 3486 005e 079A     		ldr	r2, [sp, #28]
 3487 0060 09FA03F3 		lsl	r3, r9, r3
 3488 0064 22EA0303 		bic	r3, r2, r3
 3489 0068 0793     		str	r3, [sp, #28]
 3490              	.LVL385:
 637:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(pcam)
 3491              		.loc 1 637 0
 3492 006a 7F4B     		ldr	r3, .L290+20
 3493              	.LVL386:
 3494 006c 9847     		blx	r3
 3495              	.LVL387:
 638:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 3496              		.loc 1 638 0
 3497 006e 0446     		mov	r4, r0
 3498 0070 0028     		cmp	r0, #0
 3499 0072 00F0B380 		beq	.L251
 3500              	.LBB76:
 640:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c ****             /*img_sensor_config_mode(pcam->image, I2C_MODE);*/
 3501              		.loc 1 640 0
 3502 0076 0068     		ldr	r0, [r0]
 3503              	.LVL388:
 3504 0078 7C4B     		ldr	r3, .L290+24
 3505 007a 9847     		blx	r3
 3506              	.LVL389:
 642:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*img_sensor_pattern_mode(pcam->image, PAT_COLOR_BAR);*/
 3507              		.loc 1 642 0
 3508 007c 7C4B     		ldr	r3, .L290+28
 3509 007e 2068     		ldr	r0, [r4]
 3510 0080 0021     		movs	r1, #0
 3511 0082 9847     		blx	r3
 3512              	.LVL390:
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & 0xF0) >> 4;
 3513              		.loc 1 644 0
 3514 0084 A368     		ldr	r3, [r4, #8]
 645:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3515              		.loc 1 645 0
 3516 0086 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 3517 0088 2D09     		lsrs	r5, r5, #4
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & 0xF0) >> 4;
 3518              		.loc 1 644 0
 3519 008a 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 647:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 3520              		.loc 1 647 0
 3521 008c 6B1E     		subs	r3, r5, #1
 644:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			preview_csi = (pcam->settings->stream[0] & 0xF0) >> 4;
 3522              		.loc 1 644 0
 3523 008e 0392     		str	r2, [sp, #12]
 3524              	.LVL391:
 647:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 3525              		.loc 1 647 0
 3526 0090 DBB2     		uxtb	r3, r3
 3527 0092 4B45     		cmp	r3, r9
 3528 0094 0993     		str	r3, [sp, #36]
 3529 0096 DFF8C4C1 		ldr	ip, .L290+8
 3530 009a 04D9     		bls	.L252
 649:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				cmd_status = LCC_CMD_UNSUCCESS;
 3531              		.loc 1 649 0
 3532 009c 2120     		movs	r0, #33
 3533 009e 0221     		movs	r1, #2
 3534 00a0 744A     		ldr	r2, .L290+32
 3535 00a2 2B46     		mov	r3, r5
 3536 00a4 05E0     		b	.L288
 3537              	.L252:
 654:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 3538              		.loc 1 654 0
 3539 00a6 039B     		ldr	r3, [sp, #12]
 3540 00a8 032B     		cmp	r3, #3
 3541 00aa 04D9     		bls	.L254
 656:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				cmd_status = LCC_CMD_UNSUCCESS;
 3542              		.loc 1 656 0
 3543 00ac 724A     		ldr	r2, .L290+36
 3544 00ae 2120     		movs	r0, #33
 3545 00b0 0221     		movs	r1, #2
 3546              	.L288:
 3547 00b2 E047     		blx	ip
 3548              	.LVL392:
 658:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 3549              		.loc 1 658 0
 3550 00b4 51E1     		b	.L289
 3551              	.LVL393:
 3552              	.L254:
 661:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_fps(pcam);
 3553              		.loc 1 661 0
 3554 00b6 2046     		mov	r0, r4
 3555 00b8 704B     		ldr	r3, .L290+40
 3556 00ba CDF82CC0 		str	ip, [sp, #44]
 3557 00be 9847     		blx	r3
 3558              	.LVL394:
 662:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_sensitivity(pcam);
 3559              		.loc 1 662 0
 3560 00c0 2046     		mov	r0, r4
 3561 00c2 6F4B     		ldr	r3, .L290+44
 3562 00c4 9847     		blx	r3
 3563              	.LVL395:
 663:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			cam_ctrl_exposure(pcam);
 3564              		.loc 1 663 0
 3565 00c6 2046     		mov	r0, r4
 3566 00c8 6E4B     		ldr	r3, .L290+48
 3567 00ca 9847     		blx	r3
 3568              	.LVL396:
 664:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3569              		.loc 1 664 0
 3570 00cc 2046     		mov	r0, r4
 3571 00ce 6E4B     		ldr	r3, .L290+52
 3572 00d0 9847     		blx	r3
 3573              	.LVL397:
 668:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3574              		.loc 1 668 0
 3575 00d2 6E4B     		ldr	r3, .L290+56
 3576 00d4 2068     		ldr	r0, [r4]
 3577 00d6 90F84410 		ldrb	r1, [r0, #68]	@ zero_extendqisi2
 3578 00da 9847     		blx	r3
 3579              	.LVL398:
 671:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 3580              		.loc 1 671 0
 3581 00dc DFF8F0A1 		ldr	r10, .L290+124
 3582 00e0 2068     		ldr	r0, [r4]
 3583 00e2 4FF45371 		mov	r1, #844
 3584 00e6 0222     		movs	r2, #2
 3585 00e8 D047     		blx	r10
 3586              	.LVL399:
 673:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 3587              		.loc 1 673 0
 3588 00ea 40F24E31 		movw	r1, #846
 3589 00ee 0222     		movs	r2, #2
 671:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											X_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 3590              		.loc 1 671 0
 3591 00f0 0490     		str	r0, [sp, #16]
 3592              	.LVL400:
 673:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 3593              		.loc 1 673 0
 3594 00f2 2068     		ldr	r0, [r4]
 3595 00f4 D047     		blx	r10
 3596              	.LVL401:
 675:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 									img_width, img_height, pcam->info.module);
 3597              		.loc 1 675 0
 3598 00f6 DDF82CC0 		ldr	ip, [sp, #44]
 3599 00fa 654A     		ldr	r2, .L290+60
 3600 00fc 0821     		movs	r1, #8
 673:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 											Y_OUTPUT_SIZE_CAM_REG, TWO_BYTES);
 3601              		.loc 1 673 0
 3602 00fe 8246     		mov	r10, r0
 3603              	.LVL402:
 675:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 									img_width, img_height, pcam->info.module);
 3604              		.loc 1 675 0
 3605 0100 0090     		str	r0, [sp]
 3606 0102 2120     		movs	r0, #33
 3607              	.LVL403:
 3608 0104 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 3609 0108 0193     		str	r3, [sp, #4]
 3610 010a 049B     		ldr	r3, [sp, #16]
 3611 010c E047     		blx	ip
 3612              	.LVL404:
 677:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			setup_mipi_rx_preview(pcam, preview_csi, img_width, img_height);
 3613              		.loc 1 677 0
 3614 010e 2046     		mov	r0, r4
 3615 0110 4946     		mov	r1, r9
 3616 0112 604B     		ldr	r3, .L290+64
 3617 0114 9847     		blx	r3
 3618              	.LVL405:
 678:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3619              		.loc 1 678 0
 3620 0116 049A     		ldr	r2, [sp, #16]
 3621 0118 2046     		mov	r0, r4
 3622 011a 2946     		mov	r1, r5
 3623 011c 5346     		mov	r3, r10
 3624 011e 5E4C     		ldr	r4, .L290+68
 3625              	.LVL406:
 3626 0120 A047     		blx	r4
 3627              	.LVL407:
 3628              	.LBB77:
 3629              	.LBB78:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 3630              		.loc 1 282 0
 3631 0122 039B     		ldr	r3, [sp, #12]
 3632              	.LBE78:
 3633              	.LBE77:
 682:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 3634              		.loc 1 682 0
 3635 0124 012D     		cmp	r5, #1
 3636              	.LBB81:
 3637              	.LBB79:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 3638              		.loc 1 282 0
 3639 0126 09FA03F9 		lsl	r9, r9, r3
 3640              	.LBE79:
 3641              	.LBE81:
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 3642              		.loc 1 685 0
 3643 012a 08BF     		it	eq
 3644 012c 4FF0FF32 		moveq	r2, #-1
 3645              	.LBB82:
 3646              	.LBB80:
 282:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 3647              		.loc 1 282 0
 3648 0130 5FFA89F3 		uxtb	r3, r9
 3649              	.LBE80:
 3650              	.LBE82:
 684:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[0] |= 0xFFFFFFFF;
 3651              		.loc 1 684 0
 3652 0134 0CBF     		ite	eq
 3653 0136 48EA0308 		orreq	r8, r8, r3
 3654              	.LVL408:
 689:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				tx_intr[1] |= 0xFFFFFFFF;
 3655              		.loc 1 689 0
 3656 013a 1E43     		orrne	r6, r6, r3
 3657              	.LVL409:
 693:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.rx_dt = AXI2MIPI_RAW10;
 3658              		.loc 1 693 0
 3659 013c 8DF83030 		strb	r3, [sp, #48]
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 3660              		.loc 1 694 0
 3661 0140 4FF02B03 		mov	r3, #43
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW TX FIFO: %x ", tx_ff);
 3662              		.loc 1 700 0
 3663 0144 454C     		ldr	r4, .L290+8
 3664 0146 4FF02100 		mov	r0, #33
 694:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.tx_dt = AXI2MIPI_RAW10;
 3665              		.loc 1 694 0
 3666 014a 8DF83A30 		strb	r3, [sp, #58]
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW TX FIFO: %x ", tx_ff);
 3667              		.loc 1 700 0
 3668 014e 4FF01001 		mov	r1, #16
 695:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.pack = AXI2MIPI_UNPACKED_DATA;
 3669              		.loc 1 695 0
 3670 0152 8DF83930 		strb	r3, [sp, #57]
 696:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 3671              		.loc 1 696 0
 3672 0156 4FF00103 		mov	r3, #1
 690:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 3673              		.loc 1 690 0
 3674 015a 18BF     		it	ne
 3675 015c 4FF0FF37 		movne	r7, #-1
 3676              	.LVL410:
 696:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_type.ff_bypass = NONE_BYPASS;
 3677              		.loc 1 696 0
 3678 0160 8DF83B30 		strb	r3, [sp, #59]
 697:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.width = img_width;
 3679              		.loc 1 697 0
 3680 0164 4FF00003 		mov	r3, #0
 699:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW CSI    : %x ", preview_csi);
 3681              		.loc 1 699 0
 3682 0168 ADF840A0 		strh	r10, [sp, #64]	@ movhi
 697:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.width = img_width;
 3683              		.loc 1 697 0
 3684 016c 8DF83C30 		strb	r3, [sp, #60]
 698:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.img_size.height = img_height;
 3685              		.loc 1 698 0
 3686 0170 BDF81030 		ldrh	r3, [sp, #16]
 3687 0174 ADF83E30 		strh	r3, [sp, #62]	@ movhi
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW TX FIFO: %x ", tx_ff);
 3688              		.loc 1 700 0
 3689 0178 2B46     		mov	r3, r5
 685:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 3690              		.loc 1 685 0
 3691 017a 08BF     		it	eq
 3692 017c 0892     		streq	r2, [sp, #32]
 700:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW TX FIFO: %x ", tx_ff);
 3693              		.loc 1 700 0
 3694 017e 474A     		ldr	r2, .L290+72
 3695 0180 A047     		blx	r4
 3696              	.LVL411:
 701:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "PREVIEW TX VC  : %x ", preview_vc);
 3697              		.loc 1 701 0
 3698 0182 2120     		movs	r0, #33
 3699 0184 1021     		movs	r1, #16
 3700 0186 464A     		ldr	r2, .L290+76
 3701 0188 4B46     		mov	r3, r9
 3702 018a A047     		blx	r4
 3703              	.LVL412:
 702:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE WIDTH    : %x ", img_width);
 3704              		.loc 1 702 0
 3705 018c 2120     		movs	r0, #33
 3706 018e 1021     		movs	r1, #16
 3707 0190 444A     		ldr	r2, .L290+80
 3708 0192 039B     		ldr	r3, [sp, #12]
 3709 0194 A047     		blx	r4
 3710              	.LVL413:
 703:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "IMAGE HEIGHT   : %x ", img_height);
 3711              		.loc 1 703 0
 3712 0196 2120     		movs	r0, #33
 3713 0198 1021     		movs	r1, #16
 3714 019a 434A     		ldr	r2, .L290+84
 3715 019c 049B     		ldr	r3, [sp, #16]
 3716 019e A047     		blx	r4
 3717              	.LVL414:
 704:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(preview_csi == CSI_0)
 3718              		.loc 1 704 0
 3719 01a0 5346     		mov	r3, r10
 3720 01a2 2120     		movs	r0, #33
 3721 01a4 1021     		movs	r1, #16
 3722 01a6 414A     		ldr	r2, .L290+88
 3723 01a8 A047     		blx	r4
 3724              	.LVL415:
 705:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				axi2mipi_property.src_addr = TXS0_BASE;
 3725              		.loc 1 705 0
 3726 01aa 012D     		cmp	r5, #1
 706:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			else
 3727              		.loc 1 706 0
 3728 01ac 08BF     		it	eq
 3729 01ae 4FF00173 		moveq	r3, #33816576
 713:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3730              		.loc 1 713 0
 3731 01b2 0998     		ldr	r0, [sp, #36]
 3732 01b4 0CA9     		add	r1, sp, #48
 708:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.stream_mode = AXI2MIPI_PREVIEW_MODE;
 3733              		.loc 1 708 0
 3734 01b6 18BF     		it	ne
 3735 01b8 3D4B     		ldrne	r3, .L290+92
 3736 01ba 0D93     		str	r3, [sp, #52]
 709:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.vc_for_ff = preview_vc;
 3737              		.loc 1 709 0
 3738 01bc 0223     		movs	r3, #2
 3739 01be 8DF83830 		strb	r3, [sp, #56]
 710:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			axi2mipi_property.wrap.wrap_en = DISABLE;
 3740              		.loc 1 710 0
 3741 01c2 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 3742 01c6 8DF84230 		strb	r3, [sp, #66]
 711:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3743              		.loc 1 711 0
 3744 01ca 0023     		movs	r3, #0
 3745 01cc 8DF84630 		strb	r3, [sp, #70]
 713:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3746              		.loc 1 713 0
 3747 01d0 384B     		ldr	r3, .L290+96
 3748 01d2 9847     		blx	r3
 3749              	.LVL416:
 715:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 3750              		.loc 1 715 0
 3751 01d4 0BF10103 		add	r3, fp, #1
 3752 01d8 5FFA83FB 		uxtb	fp, r3
 3753              	.LVL417:
 3754              	.L251:
 3755              	.LBE76:
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3756              		.loc 1 631 0 discriminator 2
 3757 01dc 069B     		ldr	r3, [sp, #24]
 3758 01de 0133     		adds	r3, r3, #1
 3759 01e0 0693     		str	r3, [sp, #24]
 3760              	.LVL418:
 3761 01e2 2AE7     		b	.L247
 3762              	.LVL419:
 3763              	.L286:
 718:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3764              		.loc 1 718 0 discriminator 1
 3765 01e4 002E     		cmp	r6, #0
 3766 01e6 00F0C180 		beq	.L270
 3767              	.L249:
 720:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_programming_valid(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], ENABLE);
 3768              		.loc 1 720 0
 3769 01ea 334C     		ldr	r4, .L290+100
 3770 01ec 0020     		movs	r0, #0
 3771 01ee 4146     		mov	r1, r8
 3772 01f0 0122     		movs	r2, #1
 3773 01f2 A047     		blx	r4
 3774              	.LVL420:
 721:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_0, tx_ff_mask[0], FRAME_CONTINUOUS);
 3775              		.loc 1 721 0
 3776 01f4 0120     		movs	r0, #1
 3777 01f6 0246     		mov	r2, r0
 3778 01f8 3146     		mov	r1, r6
 3779 01fa A047     		blx	r4
 3780              	.LVL421:
 722:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_axi2mipi_set_frame_mode(AXI2MIPI_BRIDGE_1, tx_ff_mask[1], FRAME_CONTINUOUS);
 3781              		.loc 1 722 0
 3782 01fc 0020     		movs	r0, #0
 3783 01fe 4146     		mov	r1, r8
 3784 0200 0122     		movs	r2, #1
 3785 0202 2E4C     		ldr	r4, .L290+104
 3786 0204 A047     		blx	r4
 3787              	.LVL422:
 723:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		if(tx_ff_mask[0])
 3788              		.loc 1 723 0
 3789 0206 0120     		movs	r0, #1
 3790 0208 3146     		mov	r1, r6
 3791 020a 0246     		mov	r2, r0
 3792 020c A047     		blx	r4
 3793              	.LVL423:
 724:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 3794              		.loc 1 724 0
 3795 020e B8F1000F 		cmp	r8, #0
 3796 0212 0DD0     		beq	.L262
 726:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_0, tx_cb, NULL);
 3797              		.loc 1 726 0
 3798 0214 0020     		movs	r0, #0
 3799 0216 0899     		ldr	r1, [sp, #32]
 3800 0218 0122     		movs	r2, #1
 3801 021a 294B     		ldr	r3, .L290+108
 3802 021c 9847     		blx	r3
 3803              	.LVL424:
 727:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_0, tx_ff_mask[0]);
 3804              		.loc 1 727 0
 3805 021e 0020     		movs	r0, #0
 3806 0220 2849     		ldr	r1, .L290+112
 3807 0222 0246     		mov	r2, r0
 3808 0224 284B     		ldr	r3, .L290+116
 3809 0226 9847     		blx	r3
 3810              	.LVL425:
 728:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			/*hal_mipi2axi_start(0);*/
 3811              		.loc 1 728 0
 3812 0228 0020     		movs	r0, #0
 3813 022a 4146     		mov	r1, r8
 3814 022c 274B     		ldr	r3, .L290+120
 3815 022e 9847     		blx	r3
 3816              	.LVL426:
 3817              	.L262:
 731:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 3818              		.loc 1 731 0
 3819 0230 6EB1     		cbz	r6, .L263
 733:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_irq_enable(AXI2MIPI_BRIDGE_1, tx_cb, NULL);
 3820              		.loc 1 733 0
 3821 0232 0120     		movs	r0, #1
 3822 0234 0246     		mov	r2, r0
 3823 0236 3946     		mov	r1, r7
 3824 0238 214B     		ldr	r3, .L290+108
 3825 023a 9847     		blx	r3
 3826              	.LVL427:
 734:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			hal_axi2mipi_start(AXI2MIPI_BRIDGE_1, tx_ff_mask[1]);
 3827              		.loc 1 734 0
 3828 023c 0120     		movs	r0, #1
 3829 023e 2149     		ldr	r1, .L290+112
 3830 0240 0022     		movs	r2, #0
 3831 0242 214B     		ldr	r3, .L290+116
 3832 0244 9847     		blx	r3
 3833              	.LVL428:
 735:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		}
 3834              		.loc 1 735 0
 3835 0246 0120     		movs	r0, #1
 3836 0248 3146     		mov	r1, r6
 3837 024a 204B     		ldr	r3, .L290+120
 3838 024c 9847     		blx	r3
 3839              	.LVL429:
 3840              	.L263:
 631:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 3841              		.loc 1 631 0 discriminator 1
 3842 024e 0026     		movs	r6, #0
 3843              	.LVL430:
 3844 0250 55E0     		b	.L264
 3845              	.L291:
 3846 0252 00BF     		.align	2
 3847              	.L290:
 3848 0254 00000000 		.word	light_system
 3849 0258 6A010000 		.word	.LC18
 3850 025c 00000000 		.word	slogf
 3851 0260 00000000 		.word	mipi_tx_reset
 3852 0264 00000000 		.word	hal_axi2mipi_init
 3853 0268 00000000 		.word	idx_to_object
 3854 026c 00000000 		.word	img_sensor_reset_trigger
 3855 0270 00000000 		.word	img_sensor_config_mode
 3856 0274 CB000000 		.word	.LC9
 3857 0278 DF000000 		.word	.LC10
 3858 027c 00000000 		.word	cam_ctrl_resolution
 3859 0280 00000000 		.word	cam_ctrl_fps
 3860 0284 00000000 		.word	cam_ctrl_sensitivity
 3861 0288 00000000 		.word	cam_ctrl_exposure
 3862 028c 00000000 		.word	img_sensor_flip_preview
 3863 0290 D3020000 		.word	.LC32
 3864 0294 00000000 		.word	setup_spg_preview.constprop.3
 3865 0298 00000000 		.word	setup_mipi_rx_preview
 3866 029c F7020000 		.word	.LC33
 3867 02a0 0C030000 		.word	.LC34
 3868 02a4 21030000 		.word	.LC35
 3869 02a8 36030000 		.word	.LC36
 3870 02ac 4B030000 		.word	.LC37
 3871 02b0 00000502 		.word	33882112
 3872 02b4 00000000 		.word	hal_axi2mipi_set_stream_property
 3873 02b8 00000000 		.word	hal_axi2mipi_programming_valid
 3874 02bc 00000000 		.word	hal_axi2mipi_set_frame_mode
 3875 02c0 00000000 		.word	hal_axi2mipi_irq_mask
 3876 02c4 00000000 		.word	tx_cb
 3877 02c8 00000000 		.word	hal_axi2mipi_irq_enable
 3878 02cc 00000000 		.word	hal_axi2mipi_start
 3879 02d0 00000000 		.word	img_sensor_read_reg
 3880              	.LVL431:
 3881              	.L268:
 3882              	.LBB83:
 3883              	.LBB84:
 759:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					img_sensor_write_reg(pcam->image, LINE_LENGTH_PCLK_CAM_REG,
 3884              		.loc 1 759 0
 3885 02d4 2B46     		mov	r3, r5
 3886 02d6 1021     		movs	r1, #16
 3887 02d8 264A     		ldr	r2, .L292
 3888 02da B847     		blx	r7
 3889              	.LVL432:
 760:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 														new_llpclk, TWO_BYTES);
 3890              		.loc 1 760 0
 3891 02dc AAB2     		uxth	r2, r5
 3892 02de 2068     		ldr	r0, [r4]
 3893 02e0 40F24231 		movw	r1, #834
 3894 02e4 0223     		movs	r3, #2
 3895 02e6 244D     		ldr	r5, .L292+4
 3896              	.LVL433:
 3897 02e8 A847     		blx	r5
 3898              	.LVL434:
 3899              	.L267:
 3900              	.LBE84:
 764:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 3901              		.loc 1 764 0
 3902 02ea 244B     		ldr	r3, .L292+8
 3903 02ec 0021     		movs	r1, #0
 3904 02ee 2068     		ldr	r0, [r4]
 3905 02f0 9847     		blx	r3
 3906              	.LVL435:
 767:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				*cam_status |= S_MODULE_STREAM_ON;
 3907              		.loc 1 767 0
 3908 02f2 A268     		ldr	r2, [r4, #8]
 3909              	.LVL436:
 768:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			}
 3910              		.loc 1 768 0
 3911 02f4 5368     		ldr	r3, [r2, #4]
 3912 02f6 43F01003 		orr	r3, r3, #16
 3913 02fa 5360     		str	r3, [r2, #4]
 3914              	.LVL437:
 3915              	.L266:
 3916              	.LBE83:
 738:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 3917              		.loc 1 738 0 discriminator 2
 3918 02fc 0136     		adds	r6, r6, #1
 3919              	.LVL438:
 3920              	.L264:
 738:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		{
 3921              		.loc 1 738 0 is_stmt 0 discriminator 1
 3922 02fe 0A9B     		ldr	r3, [sp, #40]
 3923 0300 9E42     		cmp	r6, r3
 3924 0302 2CD0     		beq	.L265
 740:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(cam_idx == 0)
 3925              		.loc 1 740 0 is_stmt 1
 3926 0304 059B     		ldr	r3, [sp, #20]
 3927 0306 93FAA3F3 		rbit	r3, r3
 3928 030a B3FA83F3 		clz	r3, r3
 3929 030e D8B2     		uxtb	r0, r3
 3930              	.LVL439:
 741:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				break;
 3931              		.loc 1 741 0
 3932 0310 2BB3     		cbz	r3, .L265
 743:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			pcam = idx_to_object(cam_idx);
 3933              		.loc 1 743 0
 3934 0312 0122     		movs	r2, #1
 3935 0314 02FA03F3 		lsl	r3, r2, r3
 3936 0318 059A     		ldr	r2, [sp, #20]
 3937 031a 22EA0303 		bic	r3, r2, r3
 3938 031e 0593     		str	r3, [sp, #20]
 3939              	.LVL440:
 744:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			if(pcam)
 3940              		.loc 1 744 0
 3941 0320 174B     		ldr	r3, .L292+12
 3942              	.LVL441:
 3943 0322 9847     		blx	r3
 3944              	.LVL442:
 745:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			{
 3945              		.loc 1 745 0
 3946 0324 0446     		mov	r4, r0
 3947 0326 0028     		cmp	r0, #0
 3948 0328 E8D0     		beq	.L266
 3949              	.LBB86:
 747:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 				{
 3950              		.loc 1 747 0
 3951 032a BBF1010F 		cmp	fp, #1
 3952 032e DCD9     		bls	.L267
 3953              	.LBB85:
 749:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 3954              		.loc 1 749 0
 3955 0330 0568     		ldr	r5, [r0]
 3956 0332 40F24231 		movw	r1, #834
 3957 0336 2846     		mov	r0, r5
 3958              	.LVL443:
 3959 0338 0222     		movs	r2, #2
 3960 033a 124B     		ldr	r3, .L292+16
 3961 033c 9847     		blx	r3
 3962              	.LVL444:
 751:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					if(new_llpclk > MAX_SENSOR_REG_VAL)
 3963              		.loc 1 751 0
 3964 033e 2368     		ldr	r3, [r4]
 3965 0340 114F     		ldr	r7, .L292+20
 749:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 										LINE_LENGTH_PCLK_CAM_REG, TWO_BYTES);
 3966              		.loc 1 749 0
 3967 0342 A886     		strh	r0, [r5, #52]	@ movhi
 751:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					if(new_llpclk > MAX_SENSOR_REG_VAL)
 3968              		.loc 1 751 0
 3969 0344 9D8E     		ldrh	r5, [r3, #52]
 3970 0346 0BFB05F5 		mul	r5, fp, r5
 3971              	.LVL445:
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 																num_of_preview);
 3972              		.loc 1 754 0
 3973 034a 2120     		movs	r0, #33
 752:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					{
 3974              		.loc 1 752 0
 3975 034c B5F5803F 		cmp	r5, #65536
 3976 0350 C0DB     		blt	.L268
 754:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 																num_of_preview);
 3977              		.loc 1 754 0
 3978 0352 0221     		movs	r1, #2
 3979 0354 0D4A     		ldr	r2, .L292+24
 3980 0356 5B46     		mov	r3, fp
 3981 0358 B847     		blx	r7
 3982              	.LVL446:
 3983              	.L289:
 756:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 						goto release_resource;
 3984              		.loc 1 756 0
 3985 035a 0020     		movs	r0, #0
 757:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 					}
 3986              		.loc 1 757 0
 3987 035c 07E0     		b	.L259
 3988              	.LVL447:
 3989              	.L265:
 3990              	.LBE85:
 3991              	.LBE86:
 771:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		hal_syncio_trigger();
 3992              		.loc 1 771 0
 3993 035e 0A4B     		ldr	r3, .L292+20
 3994 0360 2120     		movs	r0, #33
 3995 0362 1021     		movs	r1, #16
 3996 0364 0A4A     		ldr	r2, .L292+28
 3997 0366 9847     		blx	r3
 3998              	.LVL448:
 772:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
 3999              		.loc 1 772 0
 4000 0368 0A4B     		ldr	r3, .L292+32
 4001 036a 9847     		blx	r3
 4002              	.LVL449:
 4003              	.L270:
 620:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	SLOGF(SLOG_DEBUG, "Starting preview UCID");
 4004              		.loc 1 620 0
 4005 036c 0120     		movs	r0, #1
 4006              	.LVL450:
 4007              	.L259:
 776:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
 4008              		.loc 1 776 0
 4009 036e 13B0     		add	sp, sp, #76
 4010              	.LCFI35:
 4011              		.cfi_def_cfa_offset 36
 4012              		@ sp needed
 4013 0370 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4014              	.LVL451:
 4015              	.L293:
 4016              		.align	2
 4017              	.L292:
 4018 0374 82030000 		.word	.LC39
 4019 0378 00000000 		.word	img_sensor_write_reg
 4020 037c 00000000 		.word	img_sensor_stream_on
 4021 0380 00000000 		.word	idx_to_object
 4022 0384 00000000 		.word	img_sensor_read_reg
 4023 0388 00000000 		.word	slogf
 4024 038c 60030000 		.word	.LC38
 4025 0390 80010000 		.word	.LC19
 4026 0394 00000000 		.word	hal_syncio_trigger
 4027              		.cfi_endproc
 4028              	.LFE16:
 4030              		.section	.text.config_llpclk,"ax",%progbits
 4031              		.align	1
 4032              		.global	config_llpclk
 4033              		.thumb
 4034              		.thumb_func
 4036              	config_llpclk:
 4037              	.LFB26:
1169:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
1170:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1171:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** uint8_t config_llpclk(capt_grp_t cam_group, float *rate_out, uint8_t *grp_change_llpclk)
1172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** {
 4038              		.loc 1 1172 0
 4039              		.cfi_startproc
 4040              		@ args = 0, pretend = 0, frame = 0
 4041              		@ frame_needed = 0, uses_anonymous_args = 0
 4042              	.LVL452:
 4043 0000 38B5     		push	{r3, r4, r5, lr}
 4044              	.LCFI36:
 4045              		.cfi_def_cfa_offset 16
 4046              		.cfi_offset 3, -16
 4047              		.cfi_offset 4, -12
 4048              		.cfi_offset 5, -8
 4049              		.cfi_offset 14, -4
1173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	switch(cam_group)
 4050              		.loc 1 1173 0
 4051 0002 40F2FE73 		movw	r3, #2046
1172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	switch(cam_group)
 4052              		.loc 1 1172 0
 4053 0006 0C46     		mov	r4, r1
 4054              		.loc 1 1173 0
 4055 0008 9842     		cmp	r0, r3
1172:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	switch(cam_group)
 4056              		.loc 1 1172 0
 4057 000a 1546     		mov	r5, r2
 4058              		.loc 1 1173 0
 4059 000c 1DD0     		beq	.L296
 4060 000e 08D8     		bhi	.L297
 4061 0010 3E28     		cmp	r0, #62
 4062 0012 3BD0     		beq	.L298
 4063 0014 B0F5F86F 		cmp	r0, #1984
 4064 0018 43D1     		bne	.L303
1174:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
1175:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_AB:
1176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Capture group AB");
1177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_AB_RATE;
1178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = GRP_A;
1179:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
1180:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1181:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_BC:
1182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Capture group BC");
1183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_BC_RATE;
1184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = GRP_B;
1185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
1186:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_C:
1187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Capture group C");
1188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = GRP_C;
1189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_C_RATE;
1190:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
1191:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_ABC:
1192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Capture group ABC");
1193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_RATE_DEFAULT;
1194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = 0;
1195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
1196:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_A:
1197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Capture group A");
1198:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = 0;
1199:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_RATE_DEFAULT;
1200:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
1201:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_B:
1202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			SLOGF(SLOG_DEBUG, "Capture group B");
 4065              		.loc 1 1202 0
 4066 001a 2120     		movs	r0, #33
 4067              	.LVL453:
 4068 001c 1021     		movs	r1, #16
 4069              	.LVL454:
 4070 001e 224A     		ldr	r2, .L307
 4071              	.LVL455:
 4072 0020 37E0     		b	.L305
 4073              	.LVL456:
 4074              	.L297:
1173:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	{
 4075              		.loc 1 1173 0
 4076 0022 224B     		ldr	r3, .L307+4
 4077 0024 9842     		cmp	r0, r3
 4078 0026 1AD0     		beq	.L300
 4079 0028 3E33     		adds	r3, r3, #62
 4080 002a 9842     		cmp	r0, r3
 4081 002c 23D0     		beq	.L301
 4082 002e B0F5FC3F 		cmp	r0, #129024
 4083 0032 36D1     		bne	.L303
1187:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = GRP_C;
 4084              		.loc 1 1187 0
 4085 0034 1E4B     		ldr	r3, .L307+8
 4086 0036 2120     		movs	r0, #33
 4087              	.LVL457:
 4088 0038 1021     		movs	r1, #16
 4089              	.LVL458:
 4090 003a 1E4A     		ldr	r2, .L307+12
 4091              	.LVL459:
 4092 003c 9847     		blx	r3
 4093              	.LVL460:
1188:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_C_RATE;
 4094              		.loc 1 1188 0
 4095 003e 0C23     		movs	r3, #12
 4096 0040 2B70     		strb	r3, [r5]
1189:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4097              		.loc 1 1189 0
 4098 0042 4FF07E53 		mov	r3, #1065353216
 4099 0046 2360     		str	r3, [r4]	@ float
 4100 0048 13E0     		b	.L306
 4101              	.LVL461:
 4102              	.L296:
1176:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_AB_RATE;
 4103              		.loc 1 1176 0
 4104 004a 194B     		ldr	r3, .L307+8
 4105 004c 2120     		movs	r0, #33
 4106              	.LVL462:
 4107 004e 1021     		movs	r1, #16
 4108              	.LVL463:
 4109 0050 194A     		ldr	r2, .L307+16
 4110              	.LVL464:
 4111 0052 9847     		blx	r3
 4112              	.LVL465:
1177:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = GRP_A;
 4113              		.loc 1 1177 0
 4114 0054 4FF08043 		mov	r3, #1073741824
 4115 0058 2360     		str	r3, [r4]	@ float
1178:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4116              		.loc 1 1178 0
 4117 005a 0A23     		movs	r3, #10
 4118 005c 08E0     		b	.L304
 4119              	.LVL466:
 4120              	.L300:
1182:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_BC_RATE;
 4121              		.loc 1 1182 0
 4122 005e 144B     		ldr	r3, .L307+8
 4123 0060 2120     		movs	r0, #33
 4124              	.LVL467:
 4125 0062 1021     		movs	r1, #16
 4126              	.LVL468:
 4127 0064 154A     		ldr	r2, .L307+20
 4128              	.LVL469:
 4129 0066 9847     		blx	r3
 4130              	.LVL470:
1183:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = GRP_B;
 4131              		.loc 1 1183 0
 4132 0068 4FF08043 		mov	r3, #1073741824
 4133 006c 2360     		str	r3, [r4]	@ float
1184:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4134              		.loc 1 1184 0
 4135 006e 0B23     		movs	r3, #11
 4136              	.L304:
 4137 0070 2B70     		strb	r3, [r5]
 4138              	.L306:
1203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = 0;
1204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_RATE_DEFAULT;
1205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
1206:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		default:
1207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			return 1; /* has error */
1208:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
1209:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	}
1210:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 
1211:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 	return 0; /* no error */
 4139              		.loc 1 1211 0
 4140 0072 0020     		movs	r0, #0
1185:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_C:
 4141              		.loc 1 1185 0
 4142 0074 38BD     		pop	{r3, r4, r5, pc}
 4143              	.LVL471:
 4144              	.L301:
1192:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_RATE_DEFAULT;
 4145              		.loc 1 1192 0
 4146 0076 2120     		movs	r0, #33
 4147              	.LVL472:
 4148 0078 1021     		movs	r1, #16
 4149              	.LVL473:
 4150 007a 114A     		ldr	r2, .L307+24
 4151              	.LVL474:
 4152 007c 0C4B     		ldr	r3, .L307+8
 4153 007e 9847     		blx	r3
 4154              	.LVL475:
1193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = 0;
 4155              		.loc 1 1193 0
 4156 0080 4FF07E53 		mov	r3, #1065353216
1194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4157              		.loc 1 1194 0
 4158 0084 0020     		movs	r0, #0
1193:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = 0;
 4159              		.loc 1 1193 0
 4160 0086 2360     		str	r3, [r4]	@ float
1194:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4161              		.loc 1 1194 0
 4162 0088 2870     		strb	r0, [r5]
1195:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		case CAPT_GRP_A:
 4163              		.loc 1 1195 0
 4164 008a 38BD     		pop	{r3, r4, r5, pc}
 4165              	.LVL476:
 4166              	.L298:
1197:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = 0;
 4167              		.loc 1 1197 0
 4168 008c 0D4A     		ldr	r2, .L307+28
 4169              	.LVL477:
 4170 008e 2120     		movs	r0, #33
 4171              	.LVL478:
 4172 0090 1021     		movs	r1, #16
 4173              	.LVL479:
 4174              	.L305:
1202:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*grp_change_llpclk = 0;
 4175              		.loc 1 1202 0
 4176 0092 074B     		ldr	r3, .L307+8
 4177 0094 9847     		blx	r3
 4178              	.LVL480:
1203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_RATE_DEFAULT;
 4179              		.loc 1 1203 0
 4180 0096 0020     		movs	r0, #0
1204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4181              		.loc 1 1204 0
 4182 0098 4FF07E53 		mov	r3, #1065353216
1203:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			*rate_out = LLPCLK_GRP_RATE_DEFAULT;
 4183              		.loc 1 1203 0
 4184 009c 2870     		strb	r0, [r5]
1204:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4185              		.loc 1 1204 0
 4186 009e 2360     		str	r3, [r4]	@ float
1205:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 		default:
 4187              		.loc 1 1205 0
 4188 00a0 38BD     		pop	{r3, r4, r5, pc}
 4189              	.LVL481:
 4190              	.L303:
1207:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** 			break;
 4191              		.loc 1 1207 0
 4192 00a2 0120     		movs	r0, #1
 4193              	.LVL482:
1212:/home/tienluong/workspace/atlantis_fw/AsicFwS2/src/usecase.c **** }
 4194              		.loc 1 1212 0
 4195 00a4 38BD     		pop	{r3, r4, r5, pc}
 4196              	.L308:
 4197 00a6 00BF     		.align	2
 4198              	.L307:
 4199 00a8 FD030000 		.word	.LC45
 4200 00ac C0FF0100 		.word	131008
 4201 00b0 00000000 		.word	slogf
 4202 00b4 CB030000 		.word	.LC42
 4203 00b8 A9030000 		.word	.LC40
 4204 00bc BA030000 		.word	.LC41
 4205 00c0 DB030000 		.word	.LC43
 4206 00c4 ED030000 		.word	.LC44
 4207              		.cfi_endproc
 4208              	.LFE26:
 4210              		.global	i2c_write_delay_sec_asic23
 4211              		.global	i2c_write_delay_sec_asic1
 4212              		.global	reconfig_syncio
 4213              		.global	g_spg_cfg
 4214              		.global	frame_count
 4215              		.global	cur_counter
 4216              		.global	rx_end_flag
 4217              		.global	tx_end_flag
 4218              		.global	preview_sem
 4219              		.global	prev_tick
 4220              		.section	.bss.reconfig_syncio,"aw",%nobits
 4221              		.set	.LANCHOR4,. + 0
 4224              	reconfig_syncio:
 4225 0000 00       		.space	1
 4226              		.section	.bss.preview_sem,"aw",%nobits
 4227              		.align	2
 4228              		.set	.LANCHOR3,. + 0
 4231              	preview_sem:
 4232 0000 00000000 		.space	4
 4233              		.section	.bss.frame_count,"aw",%nobits
 4234              		.align	2
 4237              	frame_count:
 4238 0000 00000000 		.space	4
 4239              		.section	.data.i2c_write_delay_sec_asic1,"aw",%progbits
 4240              		.align	2
 4243              	i2c_write_delay_sec_asic1:
 4244 0000 17B7D137 		.word	936490775
 4245              		.section	.bss.g_spg_cfg,"aw",%nobits
 4246              		.align	2
 4247              		.set	.LANCHOR5,. + 0
 4250              	g_spg_cfg:
 4251 0000 00000000 		.space	24
 4251      00000000 
 4251      00000000 
 4251      00000000 
 4251      00000000 
 4252              		.section	.rodata.__FUNCTION__.11000,"a",%progbits
 4253              		.set	.LANCHOR6,. + 0
 4256              	__FUNCTION__.11000:
 4257 0000 75636964 		.ascii	"ucid_hires_hdl\000"
 4257      5F686972 
 4257      65735F68 
 4257      646C00
 4258              		.section	.bss.rx_end_flag,"aw",%nobits
 4259              		.set	.LANCHOR2,. + 0
 4262              	rx_end_flag:
 4263 0000 00       		.space	1
 4264              		.section	.rodata.str1.1,"aMS",%progbits,1
 4265              	.LC0:
 4266 0000 0D0A5458 		.ascii	"\015\012TX error: 0x%x\015\012\000"
 4266      20657272 
 4266      6F723A20 
 4266      30782578 
 4266      0D0A00
 4267              	.LC1:
 4268 0013 4C4C5043 		.ascii	"LLPCLK: 0x%x, FLL: 0x%x, VTPIXCLK: %d \015\012\000"
 4268      4C4B3A20 
 4268      30782578 
 4268      2C20464C 
 4268      4C3A2030 
 4269              	.LC2:
 4270 003c 53504720 		.ascii	"SPG latency: %d\000"
 4270      6C617465 
 4270      6E63793A 
 4270      20256400 
 4271              	.LC3:
 4272 004c 53504720 		.ascii	"SPG : %d\000"
 4272      3A202564 
 4272      00
 4273              	.LC4:
 4274 0055 54686520 		.ascii	"The counter is: 0x%x \000"
 4274      636F756E 
 4274      74657220 
 4274      69733A20 
 4274      30782578 
 4275              	.LC5:
 4276 006b 52582065 		.ascii	"RX end mask 0x%x\000"
 4276      6E64206D 
 4276      61736B20 
 4276      30782578 
 4276      00
 4277              	.LC6:
 4278 007c 6C6C7063 		.ascii	"llpclk: 0x%x, fll: 0x%x, vtpixclk: 0x%x\000"
 4278      6C6B3A20 
 4278      30782578 
 4278      2C20666C 
 4278      6C3A2030 
 4279              	.LC7:
 4280 00a4 4672616D 		.ascii	"Frame time: %.04f\000"
 4280      65207469 
 4280      6D653A20 
 4280      252E3034 
 4280      6600
 4281              	.LC8:
 4282 00b6 53746172 		.ascii	"Starting fix pattern\000"
 4282      74696E67 
 4282      20666978 
 4282      20706174 
 4282      7465726E 
 4283              	.LC9:
 4284 00cb 4E6F7420 		.ascii	"Not support CSI[%d]\000"
 4284      73757070 
 4284      6F727420 
 4284      4353495B 
 4284      25645D00 
 4285              	.LC10:
 4286 00df 4E6F7420 		.ascii	"Not support VC[%d]\000"
 4286      73757070 
 4286      6F727420 
 4286      56435B25 
 4286      645D00
 4287              	.LC11:
 4288 00f2 50524556 		.ascii	"PREVIEW CSI: %x \000"
 4288      49455720 
 4288      4353493A 
 4288      20257820 
 4288      00
 4289              	.LC12:
 4290 0103 54582046 		.ascii	"TX FIFO: %x \000"
 4290      49464F3A 
 4290      20257820 
 4290      00
 4291              	.LC13:
 4292 0110 50524556 		.ascii	"PREVIEW VC: %x \000"
 4292      49455720 
 4292      56433A20 
 4292      25782000 
 4293              	.LC14:
 4294 0120 494D4147 		.ascii	"IMAGE WIDTH: %x \000"
 4294      45205749 
 4294      4454483A 
 4294      20257820 
 4294      00
 4295              	.LC15:
 4296 0131 494D4147 		.ascii	"IMAGE HEIGHT: %x \000"
 4296      45204845 
 4296      49474854 
 4296      3A202578 
 4296      2000
 4297              	.LC16:
 4298 0143 536F7572 		.ascii	"Source address: %x \000"
 4298      63652061 
 4298      64647265 
 4298      73733A20 
 4298      25782000 
 4299              	.LC17:
 4300 0157 53746172 		.ascii	"Start writing...\015\012\000"
 4300      74207772 
 4300      6974696E 
 4300      672E2E2E 
 4300      0D0A00
 4301              	.LC18:
 4302 016a 53746172 		.ascii	"Starting preview UCID\000"
 4302      74696E67 
 4302      20707265 
 4302      76696577 
 4302      20554349 
 4303              	.LC19:
 4304 0180 50726576 		.ascii	"Preview started\000"
 4304      69657720 
 4304      73746172 
 4304      74656400 
 4305              	.LC20:
 4306 0190 54455354 		.ascii	"TEST DDR FAILT\000"
 4306      20444452 
 4306      20464149 
 4306      4C5400
 4307              	.LC21:
 4308 019f 54455354 		.ascii	"TEST DDR DONE!!!\000"
 4308      20444452 
 4308      20444F4E 
 4308      45212121 
 4308      00
 4309              	.LC22:
 4310 01b0 25733A25 		.ascii	"%s:%d Malloc failed\000"
 4310      64204D61 
 4310      6C6C6F63 
 4310      20666169 
 4310      6C656400 
 4311              	.LC23:
 4312 01c4 43414D2D 		.ascii	"CAM-%X has integration time %.04f (seconds) and fra"
 4312      25582068 
 4312      61732069 
 4312      6E746567 
 4312      72617469 
 4313 01f7 6D652074 		.ascii	"me time %.04f\000"
 4313      696D6520 
 4313      252E3034 
 4313      6600
 4314              	.LC24:
 4315 0205 43414D2D 		.ascii	"CAM-%X has tolerance %.06f\000"
 4315      25582068 
 4315      61732074 
 4315      6F6C6572 
 4315      616E6365 
 4316              	.LC25:
 4317 0220 43414D2D 		.ascii	"CAM-%X has latency %d and %d pulses\000"
 4317      25582068 
 4317      6173206C 
 4317      6174656E 
 4317      63792025 
 4318              	.LC26:
 4319 0244 53657475 		.ascii	"Setup MIPI TX/RX error [%d] \000"
 4319      70204D49 
 4319      50492054 
 4319      582F5258 
 4319      20657272 
 4320              	.LC27:
 4321 0261 43616E63 		.ascii	"Cancelled HIRES capture request\000"
 4321      656C6C65 
 4321      64204849 
 4321      52455320 
 4321      63617074 
 4322              	.LC28:
 4323 0281 54582074 		.ascii	"TX transferring\000"
 4323      72616E73 
 4323      66657272 
 4323      696E6700 
 4324              	.LC29:
 4325 0291 53656E64 		.ascii	"Send interrupt signal\000"
 4325      20696E74 
 4325      65727275 
 4325      70742073 
 4325      69676E61 
 4326              	.LC30:
 4327 02a7 54696D65 		.ascii	"Timeout waiting trigger from ASIC1\000"
 4327      6F757420 
 4327      77616974 
 4327      696E6720 
 4327      74726967 
 4328              	.LC31:
 4329 02ca 456E6420 		.ascii	"End flow\000"
 4329      666C6F77 
 4329      00
 4330              	.LC32:
 4331 02d3 50726576 		.ascii	"Preview resolution %dx%d for CAM-%X\000"
 4331      69657720 
 4331      7265736F 
 4331      6C757469 
 4331      6F6E2025 
 4332              	.LC33:
 4333 02f7 50524556 		.ascii	"PREVIEW CSI    : %x \000"
 4333      49455720 
 4333      43534920 
 4333      2020203A 
 4333      20257820 
 4334              	.LC34:
 4335 030c 50524556 		.ascii	"PREVIEW TX FIFO: %x \000"
 4335      49455720 
 4335      54582046 
 4335      49464F3A 
 4335      20257820 
 4336              	.LC35:
 4337 0321 50524556 		.ascii	"PREVIEW TX VC  : %x \000"
 4337      49455720 
 4337      54582056 
 4337      4320203A 
 4337      20257820 
 4338              	.LC36:
 4339 0336 494D4147 		.ascii	"IMAGE WIDTH    : %x \000"
 4339      45205749 
 4339      44544820 
 4339      2020203A 
 4339      20257820 
 4340              	.LC37:
 4341 034b 494D4147 		.ascii	"IMAGE HEIGHT   : %x \000"
 4341      45204845 
 4341      49474854 
 4341      2020203A 
 4341      20257820 
 4342              	.LC38:
 4343 0360 4E6F7420 		.ascii	"Not support previewing %d cameras\000"
 4343      73757070 
 4343      6F727420 
 4343      70726576 
 4343      69657769 
 4344              	.LC39:
 4345 0382 4E657720 		.ascii	"New LLPCLK [0x%x] for multiple preview\000"
 4345      4C4C5043 
 4345      4C4B205B 
 4345      30782578 
 4345      5D20666F 
 4346              	.LC40:
 4347 03a9 43617074 		.ascii	"Capture group AB\000"
 4347      75726520 
 4347      67726F75 
 4347      70204142 
 4347      00
 4348              	.LC41:
 4349 03ba 43617074 		.ascii	"Capture group BC\000"
 4349      75726520 
 4349      67726F75 
 4349      70204243 
 4349      00
 4350              	.LC42:
 4351 03cb 43617074 		.ascii	"Capture group C\000"
 4351      75726520 
 4351      67726F75 
 4351      70204300 
 4352              	.LC43:
 4353 03db 43617074 		.ascii	"Capture group ABC\000"
 4353      75726520 
 4353      67726F75 
 4353      70204142 
 4353      4300
 4354              	.LC44:
 4355 03ed 43617074 		.ascii	"Capture group A\000"
 4355      75726520 
 4355      67726F75 
 4355      70204100 
 4356              	.LC45:
 4357 03fd 43617074 		.ascii	"Capture group B\000"
 4357      75726520 
 4357      67726F75 
 4357      70204200 
 4358              		.section	.data.i2c_write_delay_sec_asic23,"aw",%progbits
 4359              		.align	2
 4360              		.set	.LANCHOR7,. + 0
 4363              	i2c_write_delay_sec_asic23:
 4364 0000 6F128339 		.word	964891247
 4365              		.section	.bss.tx_end_flag,"aw",%nobits
 4366              		.set	.LANCHOR1,. + 0
 4369              	tx_end_flag:
 4370 0000 00       		.space	1
 4371              		.section	.rodata.__FUNCTION__.10960,"a",%progbits
 4372              		.set	.LANCHOR9,. + 0
 4375              	__FUNCTION__.10960:
 4376 0000 66726565 		.ascii	"free_snapshot_info_resource\000"
 4376      5F736E61 
 4376      7073686F 
 4376      745F696E 
 4376      666F5F72 
 4377              		.section	.bss.cur_counter,"aw",%nobits
 4378              		.align	2
 4379              		.set	.LANCHOR0,. + 0
 4382              	cur_counter:
 4383 0000 00000000 		.space	4
 4384              		.section	.rodata.__FUNCTION__.10970,"a",%progbits
 4385              		.set	.LANCHOR8,. + 0
 4388              	__FUNCTION__.10970:
 4389 0000 63616D65 		.ascii	"camera_offset_stream_on\000"
 4389      72615F6F 
 4389      66667365 
 4389      745F7374 
 4389      7265616D 
 4390              		.section	.bss.prev_tick,"aw",%nobits
 4391              		.align	2
 4394              	prev_tick:
 4395 0000 00000000 		.space	4
 4396              		.text
 4397              	.Letext0:
 4398              		.file 2 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/machine/_default_types
 4399              		.file 3 "/opt/toolchains/gcc-arm-none-eabi-4_9-2015q1/arm-none-eabi/include/stdint.h"
 4400              		.file 4 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/portable/GCC/cortex-r4/portmacro
 4401              		.file 5 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/task.h"
 4402              		.file 6 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/queue.h"
 4403              		.file 7 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/semphr.h"
 4404              		.file 8 "/home/tienluong/workspace/atlantis_fw/platform/os/Source/include/event_groups.h"
 4405              		.file 9 "/home/tienluong/workspace/atlantis_fw/platform/common/os.h"
 4406              		.file 10 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_axi2mipi.h"
 4407              		.file 11 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_mipi2axi.h"
 4408              		.file 12 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_syncio.h"
 4409              		.file 13 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_i2c.h"
 4410              		.file 14 "/home/tienluong/workspace/atlantis_fw/platform/asic/hal/include/hal_timer.h"
 4411              		.file 15 "/home/tienluong/workspace/atlantis_fw/platform/common/lcc_system.h"
 4412              		.file 16 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/img_sensor.h"
 4413              		.file 17 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/lcc_cmd.h"
 4414              		.file 18 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/optical.h"
 4415              		.file 19 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/pwr_ctrl.h"
 4416              		.file 20 "/home/tienluong/workspace/atlantis_fw/platform/driver/include/eeprom.h"
 4417              		.file 21 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/task_af_ctrl.h"
 4418              		.file 22 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/light_system.h"
 4419              		.file 23 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/task_cam_ctrl.h"
 4420              		.file 24 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/usecase.h"
 4421              		.file 25 "/home/tienluong/workspace/atlantis_fw/AsicFwS2/include/usecase_hires.h"
DEFINED SYMBOLS
                            *ABS*:00000000 usecase.c
     /tmp/cc2U5kXq.s:19     .text.snapshot_complete_callback:00000000 $t
     /tmp/cc2U5kXq.s:23     .text.snapshot_complete_callback:00000000 snapshot_complete_callback
     /tmp/cc2U5kXq.s:36     .text.syncio_pulse_interrupt:00000000 $t
     /tmp/cc2U5kXq.s:40     .text.syncio_pulse_interrupt:00000000 syncio_pulse_interrupt
     /tmp/cc2U5kXq.s:57     .text.syncio_pulse_interrupt:0000000c $d
     /tmp/cc2U5kXq.s:62     .text.tx_cb:00000000 $t
     /tmp/cc2U5kXq.s:66     .text.tx_cb:00000000 tx_cb
     /tmp/cc2U5kXq.s:166    .text.tx_cb:00000078 $d
     /tmp/cc2U5kXq.s:174    .text.snapshot_timer_irq:00000000 $t
     /tmp/cc2U5kXq.s:178    .text.snapshot_timer_irq:00000000 snapshot_timer_irq
     /tmp/cc2U5kXq.s:279    .text.snapshot_timer_irq:0000006c $d
     /tmp/cc2U5kXq.s:285    .text.rx_cb:00000000 $t
     /tmp/cc2U5kXq.s:289    .text.rx_cb:00000000 rx_cb
     /tmp/cc2U5kXq.s:355    .text.rx_cb:0000003c $d
     /tmp/cc2U5kXq.s:366    .text.syncio_preview_interrupt:00000000 $t
     /tmp/cc2U5kXq.s:370    .text.syncio_preview_interrupt:00000000 syncio_preview_interrupt
     /tmp/cc2U5kXq.s:419    .text.syncio_preview_interrupt:00000028 $d
     /tmp/cc2U5kXq.s:435    .text.setup_spg_preview.constprop.3:00000000 $t
     /tmp/cc2U5kXq.s:439    .text.setup_spg_preview.constprop.3:00000000 setup_spg_preview.constprop.3
     /tmp/cc2U5kXq.s:621    .text.setup_spg_preview.constprop.3:000000e0 $d
     /tmp/cc2U5kXq.s:643    .text.wait_trigger:00000000 $t
     /tmp/cc2U5kXq.s:648    .text.wait_trigger:00000000 wait_trigger
     /tmp/cc2U5kXq.s:717    .text.wait_trigger:00000038 $d
     /tmp/cc2U5kXq.s:725    .text.stop_mipi_for_cam:00000000 $t
     /tmp/cc2U5kXq.s:730    .text.stop_mipi_for_cam:00000000 stop_mipi_for_cam
     /tmp/cc2U5kXq.s:816    .text.stop_mipi_for_cam:0000005c $d
     /tmp/cc2U5kXq.s:828    .text.setup_mipi_rx_preview:00000000 $t
     /tmp/cc2U5kXq.s:833    .text.setup_mipi_rx_preview:00000000 setup_mipi_rx_preview
     /tmp/cc2U5kXq.s:972    .text.setup_mipi_rx_preview:000000a0 $d
     /tmp/cc2U5kXq.s:986    .text.setup_mipi_rx_snapshot:00000000 $t
     /tmp/cc2U5kXq.s:991    .text.setup_mipi_rx_snapshot:00000000 setup_mipi_rx_snapshot
     /tmp/cc2U5kXq.s:1099   .text.setup_mipi_rx_snapshot:0000007c $d
     /tmp/cc2U5kXq.s:1113   .text.reconfig_spg_for_previewing_sensor:00000000 $t
     /tmp/cc2U5kXq.s:1118   .text.reconfig_spg_for_previewing_sensor:00000000 reconfig_spg_for_previewing_sensor
     /tmp/cc2U5kXq.s:1287   .text.reconfig_spg_for_previewing_sensor:000000c0 $d
     /tmp/cc2U5kXq.s:1310   .text.ucid_debug_hdl:00000000 $t
     /tmp/cc2U5kXq.s:1315   .text.ucid_debug_hdl:00000000 ucid_debug_hdl
     /tmp/cc2U5kXq.s:1327   .text.tx_fix_pattern:00000000 $t
     /tmp/cc2U5kXq.s:1332   .text.tx_fix_pattern:00000000 tx_fix_pattern
     /tmp/cc2U5kXq.s:1712   .text.tx_fix_pattern:000001e0 $d
     /tmp/cc2U5kXq.s:1737   .text.ucid_preview_hdl_snapshot:00000000 $t
     /tmp/cc2U5kXq.s:1742   .text.ucid_preview_hdl_snapshot:00000000 ucid_preview_hdl_snapshot
     /tmp/cc2U5kXq.s:2190   .text.ucid_preview_hdl_snapshot:00000244 $d
     /tmp/cc2U5kXq.s:2219   .text.check_ddr:00000000 $t
     /tmp/cc2U5kXq.s:2224   .text.check_ddr:00000000 check_ddr
     /tmp/cc2U5kXq.s:2284   .text.check_ddr:00000034 $d
     /tmp/cc2U5kXq.s:2298   .text.ucid_hires_hdl:00000000 $t
     /tmp/cc2U5kXq.s:2303   .text.ucid_hires_hdl:00000000 ucid_hires_hdl
     /tmp/cc2U5kXq.s:2701   .text.ucid_hires_hdl:00000238 $d
     /tmp/cc2U5kXq.s:2736   .text.ucid_hires_hdl:000002b8 $t
     /tmp/cc2U5kXq.s:3205   .text.ucid_hires_hdl:00000508 $d
     /tmp/cc2U5kXq.s:3250   .text.mipi_rx_reset:00000000 $t
     /tmp/cc2U5kXq.s:3255   .text.mipi_rx_reset:00000000 mipi_rx_reset
     /tmp/cc2U5kXq.s:3311   .text.mipi_rx_reset:00000038 $d
     /tmp/cc2U5kXq.s:3318   .text.mipi_tx_reset:00000000 $t
     /tmp/cc2U5kXq.s:3323   .text.mipi_tx_reset:00000000 mipi_tx_reset
     /tmp/cc2U5kXq.s:3371   .text.mipi_tx_reset:00000028 $d
     /tmp/cc2U5kXq.s:3378   .text.ucid_preview_hdl:00000000 $t
     /tmp/cc2U5kXq.s:3383   .text.ucid_preview_hdl:00000000 ucid_preview_hdl
     /tmp/cc2U5kXq.s:3848   .text.ucid_preview_hdl:00000254 $d
     /tmp/cc2U5kXq.s:3885   .text.ucid_preview_hdl:000002d4 $t
     /tmp/cc2U5kXq.s:4018   .text.ucid_preview_hdl:00000374 $d
     /tmp/cc2U5kXq.s:4031   .text.config_llpclk:00000000 $t
     /tmp/cc2U5kXq.s:4036   .text.config_llpclk:00000000 config_llpclk
     /tmp/cc2U5kXq.s:4199   .text.config_llpclk:000000a8 $d
     /tmp/cc2U5kXq.s:4363   .data.i2c_write_delay_sec_asic23:00000000 i2c_write_delay_sec_asic23
     /tmp/cc2U5kXq.s:4243   .data.i2c_write_delay_sec_asic1:00000000 i2c_write_delay_sec_asic1
     /tmp/cc2U5kXq.s:4224   .bss.reconfig_syncio:00000000 reconfig_syncio
     /tmp/cc2U5kXq.s:4250   .bss.g_spg_cfg:00000000 g_spg_cfg
     /tmp/cc2U5kXq.s:4237   .bss.frame_count:00000000 frame_count
     /tmp/cc2U5kXq.s:4382   .bss.cur_counter:00000000 cur_counter
     /tmp/cc2U5kXq.s:4262   .bss.rx_end_flag:00000000 rx_end_flag
     /tmp/cc2U5kXq.s:4369   .bss.tx_end_flag:00000000 tx_end_flag
     /tmp/cc2U5kXq.s:4231   .bss.preview_sem:00000000 preview_sem
     /tmp/cc2U5kXq.s:4394   .bss.prev_tick:00000000 prev_tick
     /tmp/cc2U5kXq.s:4225   .bss.reconfig_syncio:00000000 $d
     /tmp/cc2U5kXq.s:4227   .bss.preview_sem:00000000 $d
     /tmp/cc2U5kXq.s:4234   .bss.frame_count:00000000 $d
     /tmp/cc2U5kXq.s:4240   .data.i2c_write_delay_sec_asic1:00000000 $d
     /tmp/cc2U5kXq.s:4246   .bss.g_spg_cfg:00000000 $d
     /tmp/cc2U5kXq.s:4256   .rodata.__FUNCTION__.11000:00000000 __FUNCTION__.11000
     /tmp/cc2U5kXq.s:4263   .bss.rx_end_flag:00000000 $d
     /tmp/cc2U5kXq.s:4359   .data.i2c_write_delay_sec_asic23:00000000 $d
     /tmp/cc2U5kXq.s:4370   .bss.tx_end_flag:00000000 $d
     /tmp/cc2U5kXq.s:4375   .rodata.__FUNCTION__.10960:00000000 __FUNCTION__.10960
     /tmp/cc2U5kXq.s:4378   .bss.cur_counter:00000000 $d
     /tmp/cc2U5kXq.s:4388   .rodata.__FUNCTION__.10970:00000000 __FUNCTION__.10970
     /tmp/cc2U5kXq.s:4391   .bss.prev_tick:00000000 $d
                     .debug_frame:00000010 $d
     /tmp/cc2U5kXq.s:1309   .text.reconfig_spg_for_previewing_sensor:0000010c $t
     /tmp/cc2U5kXq.s:3249   .text.ucid_hires_hdl:000005ac $t

UNDEFINED SYMBOLS
printf
hal_axi2mipi_irq_disable
xEventGroupSetBitsFromISR
ulPortYieldRequired
xQueueReceiveFromISR
hal_syncio_disable
xQueueGiveFromISR
hal_syncio_config
hal_syncio_enable
hal_syncio_trigger
__aeabi_f2uiz
__aeabi_ui2d
__aeabi_dsub
__aeabi_d2uiz
img_sensor_read_reg
slogf
img_sensor_get_vt_pix_clk_mhz
hal_syncio_enable_irq
hal_syncio_get_counter
xQueueCreateMutex
xQueueGenericSend
xQueueGenericReceive
hal_mipi2axi_init
hal_mipi2axi_set_tx_base_addr
hal_mipi2axi_set_stream_property
hal_mipi2axi_wrap_cfg
hal_mipi2axi_frame_control_cfg
hal_mipi2axi_irq_mask
hal_mipi2axi_irq_enable
hal_mipi2axi_start
__aeabi_ddiv
__aeabi_d2f
__aeabi_f2d
hal_axi2mipi_init
idx_to_object
hal_axi2mipi_set_stream_property
hal_axi2mipi_set_frame_mode
hal_axi2mipi_programming_valid
hal_axi2mipi_irq_mask
hal_axi2mipi_irq_enable
hal_axi2mipi_start
img_sensor_config_mode
img_sensor_pattern_mode
img_sensor_stream_on
__popcountsi2
__aeabi_dcmplt
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
hal_axi2mipi_stop
light_system
cam_ctrl_resolution
cam_ctrl_fps
cam_ctrl_sensitivity
cam_ctrl_exposure
img_sensor_reset_trigger
pvPortMalloc1
img_sensor_get_frame_time
hal_syncio_init
usecase_hires_setup
xTaskGenericCreate
task_tx_transfer
send_intr_signal
vTaskDelete
xEventGroupCreate
hal_timer_stop
hal_timer_init
hal_timer_start
xEventGroupWaitBits
vEventGroupDelete
tx_transfer_done
vTaskDelay
vPortFree1
img_sensor_flip_preview
img_sensor_write_reg
